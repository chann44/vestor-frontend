import{c as Pe,r as ms,s as vs,g as hi,d as _s,E as di}from"./index.8c2fec68.js";import{e as pi}from"./events.b0e980ad.js";import{f as xr,s as ws,a as ys,d as bs}from"./index.f4e85319.js";import{b as Ms,i as Es}from"./index.f486eeae.js";var ht={},je={};Object.defineProperty(je,"__esModule",{value:!0});je.isBrowserCryptoAvailable=je.getSubtleCrypto=je.getBrowerCrypto=void 0;function qn(){return(Pe===null||Pe===void 0?void 0:Pe.crypto)||(Pe===null||Pe===void 0?void 0:Pe.msCrypto)||{}}je.getBrowerCrypto=qn;function gi(){const t=qn();return t.subtle||t.webkitSubtle}je.getSubtleCrypto=gi;function xs(){return!!qn()&&!!gi()}je.isBrowserCryptoAvailable=xs;var Je={};Object.defineProperty(Je,"__esModule",{value:!0});Je.isBrowser=Je.isNode=Je.isReactNative=void 0;function mi(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Je.isReactNative=mi;function vi(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Je.isNode=vi;function Ss(){return!mi()&&!vi()}Je.isBrowser=Ss;(function(t){var e=Pe&&Pe.__createBinding||(Object.create?function(r,c,o,d){d===void 0&&(d=o),Object.defineProperty(r,d,{enumerable:!0,get:function(){return c[o]}})}:function(r,c,o,d){d===void 0&&(d=o),r[d]=c[o]}),n=Pe&&Pe.__exportStar||function(r,c){for(var o in r)o!=="default"&&!c.hasOwnProperty(o)&&e(c,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(je,t),n(Je,t)})(ht);function Rs(){const t=Date.now()*Math.pow(10,3),e=Math.floor(Math.random()*Math.pow(10,3));return t+e}function Cs(t,e,n){return{id:n||Rs(),jsonrpc:"2.0",method:t,params:e}}class Is{}class Ts extends Is{constructor(){super()}}class As extends Ts{constructor(e){super()}}function ks(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function Bs(t){return ks(t)&&(Ns(t)||_i(t))}function Ns(t){return"result"in t}function _i(t){return"error"in t}class Sr extends As{constructor(e){super(e),this.events=new pi.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Cs(e.method,e.params||[]),n)}async requestStrict(e,n){return new Promise(async(r,c)=>{if(!this.connection.connected)try{await this.open()}catch(o){c(o)}this.events.on(`${e.id}`,o=>{_i(o)?c(o.error):r(o.result)});try{await this.connection.send(e,n)}catch(o){c(o)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Bs(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",()=>this.events.emit("disconnect")),this.connection.on("error",e=>this.events.emit("error",e)),this.hasRegisteredEventListeners=!0)}}function Os(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}function Rr(t){return typeof t=="string"?t:JSON.stringify(t)}const Ls="PARSE_ERROR",Us="INVALID_REQUEST",Ps="METHOD_NOT_FOUND",Fs="INVALID_PARAMS",wi="INTERNAL_ERROR",$n="SERVER_ERROR",Ds=[-32700,-32600,-32601,-32602,-32603],vt={[Ls]:{code:-32700,message:"Parse error"},[Us]:{code:-32600,message:"Invalid Request"},[Ps]:{code:-32601,message:"Method not found"},[Fs]:{code:-32602,message:"Invalid params"},[wi]:{code:-32603,message:"Internal error"},[$n]:{code:-32e3,message:"Server error"}},yi=$n;function qs(t){return Ds.includes(t)}function Cr(t){return Object.keys(vt).includes(t)?vt[t]:vt[yi]}function $s(t){const e=Object.values(vt).find(n=>n.code===t);return e||vt[yi]}function Ws(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}function Hs(t,e,n){return{id:t,jsonrpc:"2.0",error:zs(e,n)}}function zs(t,e){return typeof t>"u"?Cr(wi):(typeof t=="string"&&(t=Object.assign(Object.assign({},Cr($n)),{message:t})),typeof e<"u"&&(t.data=e),qs(t.code)&&(t=$s(t.code)),t)}const js="^https?:";function Js(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Vs(t,e){const n=Js(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function Ir(t){return Vs(t,js)}const Ks={Accept:"application/json","Content-Type":"application/json"},Ys="POST",Tr={headers:Ks,method:Ys},Ar=10;class Qs{constructor(e){if(this.url=e,this.events=new pi.exports.EventEmitter,this.isAvailable=!1,this.registering=!1,!Ir(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,n){this.isAvailable||await this.register();try{const r=Rr(e),o=await(await xr(this.url,Object.assign(Object.assign({},Tr),{body:r}))).json();this.onPayload({data:o})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!Ir(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,c)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),c(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return c(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{const n=Rr({id:1,jsonrpc:"2.0",method:"test",params:[]});await xr(e,Object.assign(Object.assign({},Tr),{body:n})),this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Os(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),c=r.message||r.toString(),o=Hs(e,c);this.events.emit("payload",o)}parseError(e,n=this.url){return Ws(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Ar&&this.events.setMaxListeners(Ar)}}var Wn={},oe={};Object.defineProperty(oe,"__esModule",{value:!0});var bi=oe.getLocalStorage=Bi=oe.getLocalStorageOrThrow=ki=oe.getCrypto=Ai=oe.getCryptoOrThrow=Ti=oe.getLocation=Ii=oe.getLocationOrThrow=Ci=oe.getNavigator=Ri=oe.getNavigatorOrThrow=Si=oe.getDocument=xi=oe.getDocumentOrThrow=Ei=oe.getFromWindowOrThrow=Mi=oe.getFromWindow=void 0;function et(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}var Mi=oe.getFromWindow=et;function dt(t){const e=et(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}var Ei=oe.getFromWindowOrThrow=dt;function Gs(){return dt("document")}var xi=oe.getDocumentOrThrow=Gs;function Zs(){return et("document")}var Si=oe.getDocument=Zs;function Xs(){return dt("navigator")}var Ri=oe.getNavigatorOrThrow=Xs;function ea(){return et("navigator")}var Ci=oe.getNavigator=ea;function ta(){return dt("location")}var Ii=oe.getLocationOrThrow=ta;function na(){return et("location")}var Ti=oe.getLocation=na;function ra(){return dt("crypto")}var Ai=oe.getCryptoOrThrow=ra;function ia(){return et("crypto")}var ki=oe.getCrypto=ia;function oa(){return dt("localStorage")}var Bi=oe.getLocalStorageOrThrow=oa;function sa(){return et("localStorage")}bi=oe.getLocalStorage=sa;Object.defineProperty(Wn,"__esModule",{value:!0});var Ni=Wn.getWindowMetadata=void 0;const kr=oe;function aa(){let t,e;try{t=kr.getDocumentOrThrow(),e=kr.getLocationOrThrow()}catch{return null}function n(){const N=t.getElementsByTagName("link"),L=[];for(let F=0;F<N.length;F++){const U=N[F],$=U.getAttribute("rel");if($&&$.toLowerCase().indexOf("icon")>-1){const S=U.getAttribute("href");if(S)if(S.toLowerCase().indexOf("https:")===-1&&S.toLowerCase().indexOf("http:")===-1&&S.indexOf("//")!==0){let C=e.protocol+"//"+e.host;if(S.indexOf("/")===0)C+=S;else{const A=e.pathname.split("/");A.pop();const T=A.join("/");C+=T+"/"+S}L.push(C)}else if(S.indexOf("//")===0){const C=e.protocol+S;L.push(C)}else L.push(S)}}return L}function r(...N){const L=t.getElementsByTagName("meta");for(let F=0;F<L.length;F++){const U=L[F],$=["itemprop","property","name"].map(S=>U.getAttribute(S)).filter(S=>S?N.includes(S):!1);if($.length&&$){const S=U.getAttribute("content");if(S)return S}}return""}function c(){let N=r("name","og:site_name","og:title","twitter:title");return N||(N=t.title),N}function o(){return r("description","og:description","twitter:description","keywords")}const d=c(),f=o(),b=e.origin,I=n();return{description:f,url:b,icons:I,name:d}}Ni=Wn.getWindowMetadata=aa;var ca=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),c=0,e=0;e<n;e++)for(var o=arguments[e],d=0,f=o.length;d<f;d++,c++)r[c]=o[d];return r},ua=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),la=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),fa=function(){function t(e,n,r,c){this.name=e,this.version=n,this.os=r,this.bot=c,this.type="bot-device"}return t}(),ha=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),da=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),pa=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,ga=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Br=3,ma=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",pa]],Nr=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function va(t){return t?Or(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new da:typeof navigator<"u"?Or(navigator.userAgent):ya()}function _a(t){return t!==""&&ma.reduce(function(e,n){var r=n[0],c=n[1];if(e)return e;var o=c.exec(t);return!!o&&[r,o]},!1)}function Or(t){var e=_a(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new ha;var c=r[1]&&r[1].split(/[._]/).slice(0,3);c?c.length<Br&&(c=ca(c,ba(Br-c.length))):c=[];var o=c.join("."),d=wa(t),f=ga.exec(t);return f&&f[1]?new fa(n,o,d,f[1]):new ua(n,o,d)}function wa(t){for(var e=0,n=Nr.length;e<n;e++){var r=Nr[e],c=r[0],o=r[1],d=o.exec(t);if(d)return c}return null}function ya(){var t=typeof process<"u"&&process.version;return t?new la(process.version.slice(1)):null}function ba(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}function qt(t){return va(t)}function $t(){const t=qt();return t&&t.os?t.os:void 0}function Oi(){const t=$t();return t?t.toLowerCase().includes("android"):!1}function Li(){const t=$t();return t?t.toLowerCase().includes("ios")||t.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function Ui(){return $t()?Oi()||Li():!1}function Pi(){const t=qt();return t&&t.name?t.name.toLowerCase()==="node":!1}function Fi(){return!Pi()&&!!Di()}const Ma=Mi,Ea=Ei,xa=xi,Sa=Si,Ra=Ri,Di=Ci,Ca=Ii,qi=Ti,Ia=Ai,Ta=ki,Aa=Bi,Wt=bi;function Cn(){return Ni()}function ka(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}function Ba(t){return typeof t=="string"?t:JSON.stringify(t)}const $i=ka,Wi=Ba;function Hn(t,e){const n=Wi(e),r=Wt();r&&r.setItem(t,n)}function zn(t){let e=null,n=null;const r=Wt();return r&&(n=r.getItem(t)),e=n&&$i(n),e}function jn(t){const e=Wt();e&&e.removeItem(t)}const Nt="WALLETCONNECT_DEEPLINK_CHOICE";function Na(t,e){const n=encodeURIComponent(t);return e.universalLink?`${e.universalLink}/wc?uri=${n}`:e.deepLink?`${e.deepLink}${e.deepLink.endsWith(":")?"//":"/"}wc?uri=${n}`:""}function Oa(t){const e=t.href.split("?")[0];Hn(Nt,Object.assign(Object.assign({},t),{href:e}))}function Hi(t,e){return t.filter(n=>n.name.toLowerCase().includes(e.toLowerCase()))[0]}function La(t,e){let n=t;return e&&(n=e.map(r=>Hi(t,r)).filter(Boolean)),n}const zi="https://registry.walletconnect.com";function Ua(){return zi+"/api/v2/wallets"}function Pa(){return zi+"/api/v2/dapps"}function ji(t,e="mobile"){var n;return{name:t.name||"",shortName:t.metadata.shortName||"",color:t.metadata.colors.primary||"",logo:(n=t.image_url.sm)!==null&&n!==void 0?n:"",universalLink:t[e].universal||"",deepLink:t[e].native||""}}function Fa(t,e="mobile"){return Object.values(t).filter(n=>!!n[e].universal||!!n[e].native).map(n=>ji(n,e))}const Da=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:qt,detectOS:$t,isAndroid:Oi,isIOS:Li,isMobile:Ui,isNode:Pi,isBrowser:Fi,getFromWindow:Ma,getFromWindowOrThrow:Ea,getDocumentOrThrow:xa,getDocument:Sa,getNavigatorOrThrow:Ra,getNavigator:Di,getLocationOrThrow:Ca,getLocation:qi,getCryptoOrThrow:Ia,getCrypto:Ta,getLocalStorageOrThrow:Aa,getLocalStorage:Wt,getClientMeta:Cn,safeJsonParse:$i,safeJsonStringify:Wi,setLocal:Hn,getLocal:zn,removeLocal:jn,mobileLinkChoiceKey:Nt,formatIOSMobile:Na,saveMobileLinkInfo:Oa,getMobileRegistryEntry:Hi,getMobileLinkRegistry:La,getWalletRegistryUrl:Ua,getDappRegistryUrl:Pa,formatMobileRegistryEntry:ji,formatMobileRegistry:Fa},Symbol.toStringTag,{value:"Module"})),qa=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],Jn=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],$a={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var Ji={exports:{}};(function(t){(function(e,n){function r(y,i){if(!y)throw new Error(i||"Assertion failed")}function c(y,i){y.super_=i;var l=function(){};l.prototype=i.prototype,y.prototype=new l,y.prototype.constructor=y}function o(y,i,l){if(o.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,y!==null&&((i==="le"||i==="be")&&(l=i,i=10),this._init(y||0,i||10,l||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var d;try{d=ms.Buffer}catch{}o.isBN=function(i){return i instanceof o?!0:i!==null&&typeof i=="object"&&i.constructor.wordSize===o.wordSize&&Array.isArray(i.words)},o.max=function(i,l){return i.cmp(l)>0?i:l},o.min=function(i,l){return i.cmp(l)<0?i:l},o.prototype._init=function(i,l,h){if(typeof i=="number")return this._initNumber(i,l,h);if(typeof i=="object")return this._initArray(i,l,h);l==="hex"&&(l=16),r(l===(l|0)&&l>=2&&l<=36),i=i.toString().replace(/\s+/g,"");var p=0;i[0]==="-"&&p++,l===16?this._parseHex(i,p):this._parseBase(i,l,p),i[0]==="-"&&(this.negative=1),this.strip(),h==="le"&&this._initArray(this.toArray(),l,h)},o.prototype._initNumber=function(i,l,h){i<0&&(this.negative=1,i=-i),i<67108864?(this.words=[i&67108863],this.length=1):i<4503599627370496?(this.words=[i&67108863,i/67108864&67108863],this.length=2):(r(i<9007199254740992),this.words=[i&67108863,i/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),l,h)},o.prototype._initArray=function(i,l,h){if(r(typeof i.length=="number"),i.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(i.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var _,M,R=0;if(h==="be")for(p=i.length-1,_=0;p>=0;p-=3)M=i[p]|i[p-1]<<8|i[p-2]<<16,this.words[_]|=M<<R&67108863,this.words[_+1]=M>>>26-R&67108863,R+=24,R>=26&&(R-=26,_++);else if(h==="le")for(p=0,_=0;p<i.length;p+=3)M=i[p]|i[p+1]<<8|i[p+2]<<16,this.words[_]|=M<<R&67108863,this.words[_+1]=M>>>26-R&67108863,R+=24,R>=26&&(R-=26,_++);return this.strip()};function f(y,i,l){for(var h=0,p=Math.min(y.length,l),_=i;_<p;_++){var M=y.charCodeAt(_)-48;h<<=4,M>=49&&M<=54?h|=M-49+10:M>=17&&M<=22?h|=M-17+10:h|=M&15}return h}o.prototype._parseHex=function(i,l){this.length=Math.ceil((i.length-l)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var p,_,M=0;for(h=i.length-6,p=0;h>=l;h-=6)_=f(i,h,h+6),this.words[p]|=_<<M&67108863,this.words[p+1]|=_>>>26-M&4194303,M+=24,M>=26&&(M-=26,p++);h+6!==l&&(_=f(i,l,h+6),this.words[p]|=_<<M&67108863,this.words[p+1]|=_>>>26-M&4194303),this.strip()};function b(y,i,l,h){for(var p=0,_=Math.min(y.length,l),M=i;M<_;M++){var R=y.charCodeAt(M)-48;p*=h,R>=49?p+=R-49+10:R>=17?p+=R-17+10:p+=R}return p}o.prototype._parseBase=function(i,l,h){this.words=[0],this.length=1;for(var p=0,_=1;_<=67108863;_*=l)p++;p--,_=_/l|0;for(var M=i.length-h,R=M%p,m=Math.min(M,M-R)+h,s=0,v=h;v<m;v+=p)s=b(i,v,v+p,l),this.imuln(_),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(R!==0){var P=1;for(s=b(i,v,i.length,l),v=0;v<R;v++)P*=l;this.imuln(P),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}},o.prototype.copy=function(i){i.words=new Array(this.length);for(var l=0;l<this.length;l++)i.words[l]=this.words[l];i.length=this.length,i.negative=this.negative,i.red=this.red},o.prototype.clone=function(){var i=new o(null);return this.copy(i),i},o.prototype._expand=function(i){for(;this.length<i;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var I=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(i,l){i=i||10,l=l|0||1;var h;if(i===16||i==="hex"){h="";for(var p=0,_=0,M=0;M<this.length;M++){var R=this.words[M],m=((R<<p|_)&16777215).toString(16);_=R>>>24-p&16777215,_!==0||M!==this.length-1?h=I[6-m.length]+m+h:h=m+h,p+=2,p>=26&&(p-=26,M--)}for(_!==0&&(h=_.toString(16)+h);h.length%l!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(i===(i|0)&&i>=2&&i<=36){var s=x[i],v=N[i];h="";var P=this.clone();for(P.negative=0;!P.isZero();){var D=P.modn(v).toString(i);P=P.idivn(v),P.isZero()?h=D+h:h=I[s-D.length]+D+h}for(this.isZero()&&(h="0"+h);h.length%l!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var i=this.words[0];return this.length===2?i+=this.words[1]*67108864:this.length===3&&this.words[2]===1?i+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-i:i},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(i,l){return r(typeof d<"u"),this.toArrayLike(d,i,l)},o.prototype.toArray=function(i,l){return this.toArrayLike(Array,i,l)},o.prototype.toArrayLike=function(i,l,h){var p=this.byteLength(),_=h||Math.max(1,p);r(p<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var M=l==="le",R=new i(_),m,s,v=this.clone();if(M){for(s=0;!v.isZero();s++)m=v.andln(255),v.iushrn(8),R[s]=m;for(;s<_;s++)R[s]=0}else{for(s=0;s<_-p;s++)R[s]=0;for(s=0;!v.isZero();s++)m=v.andln(255),v.iushrn(8),R[_-s-1]=m}return R},Math.clz32?o.prototype._countBits=function(i){return 32-Math.clz32(i)}:o.prototype._countBits=function(i){var l=i,h=0;return l>=4096&&(h+=13,l>>>=13),l>=64&&(h+=7,l>>>=7),l>=8&&(h+=4,l>>>=4),l>=2&&(h+=2,l>>>=2),h+l},o.prototype._zeroBits=function(i){if(i===0)return 26;var l=i,h=0;return(l&8191)===0&&(h+=13,l>>>=13),(l&127)===0&&(h+=7,l>>>=7),(l&15)===0&&(h+=4,l>>>=4),(l&3)===0&&(h+=2,l>>>=2),(l&1)===0&&h++,h},o.prototype.bitLength=function(){var i=this.words[this.length-1],l=this._countBits(i);return(this.length-1)*26+l};function L(y){for(var i=new Array(y.bitLength()),l=0;l<i.length;l++){var h=l/26|0,p=l%26;i[l]=(y.words[h]&1<<p)>>>p}return i}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var i=0,l=0;l<this.length;l++){var h=this._zeroBits(this.words[l]);if(i+=h,h!==26)break}return i},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(i){return this.negative!==0?this.abs().inotn(i).iaddn(1):this.clone()},o.prototype.fromTwos=function(i){return this.testn(i-1)?this.notn(i).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(i){for(;this.length<i.length;)this.words[this.length++]=0;for(var l=0;l<i.length;l++)this.words[l]=this.words[l]|i.words[l];return this.strip()},o.prototype.ior=function(i){return r((this.negative|i.negative)===0),this.iuor(i)},o.prototype.or=function(i){return this.length>i.length?this.clone().ior(i):i.clone().ior(this)},o.prototype.uor=function(i){return this.length>i.length?this.clone().iuor(i):i.clone().iuor(this)},o.prototype.iuand=function(i){var l;this.length>i.length?l=i:l=this;for(var h=0;h<l.length;h++)this.words[h]=this.words[h]&i.words[h];return this.length=l.length,this.strip()},o.prototype.iand=function(i){return r((this.negative|i.negative)===0),this.iuand(i)},o.prototype.and=function(i){return this.length>i.length?this.clone().iand(i):i.clone().iand(this)},o.prototype.uand=function(i){return this.length>i.length?this.clone().iuand(i):i.clone().iuand(this)},o.prototype.iuxor=function(i){var l,h;this.length>i.length?(l=this,h=i):(l=i,h=this);for(var p=0;p<h.length;p++)this.words[p]=l.words[p]^h.words[p];if(this!==l)for(;p<l.length;p++)this.words[p]=l.words[p];return this.length=l.length,this.strip()},o.prototype.ixor=function(i){return r((this.negative|i.negative)===0),this.iuxor(i)},o.prototype.xor=function(i){return this.length>i.length?this.clone().ixor(i):i.clone().ixor(this)},o.prototype.uxor=function(i){return this.length>i.length?this.clone().iuxor(i):i.clone().iuxor(this)},o.prototype.inotn=function(i){r(typeof i=="number"&&i>=0);var l=Math.ceil(i/26)|0,h=i%26;this._expand(l),h>0&&l--;for(var p=0;p<l;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this.strip()},o.prototype.notn=function(i){return this.clone().inotn(i)},o.prototype.setn=function(i,l){r(typeof i=="number"&&i>=0);var h=i/26|0,p=i%26;return this._expand(h+1),l?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this.strip()},o.prototype.iadd=function(i){var l;if(this.negative!==0&&i.negative===0)return this.negative=0,l=this.isub(i),this.negative^=1,this._normSign();if(this.negative===0&&i.negative!==0)return i.negative=0,l=this.isub(i),i.negative=1,l._normSign();var h,p;this.length>i.length?(h=this,p=i):(h=i,p=this);for(var _=0,M=0;M<p.length;M++)l=(h.words[M]|0)+(p.words[M]|0)+_,this.words[M]=l&67108863,_=l>>>26;for(;_!==0&&M<h.length;M++)l=(h.words[M]|0)+_,this.words[M]=l&67108863,_=l>>>26;if(this.length=h.length,_!==0)this.words[this.length]=_,this.length++;else if(h!==this)for(;M<h.length;M++)this.words[M]=h.words[M];return this},o.prototype.add=function(i){var l;return i.negative!==0&&this.negative===0?(i.negative=0,l=this.sub(i),i.negative^=1,l):i.negative===0&&this.negative!==0?(this.negative=0,l=i.sub(this),this.negative=1,l):this.length>i.length?this.clone().iadd(i):i.clone().iadd(this)},o.prototype.isub=function(i){if(i.negative!==0){i.negative=0;var l=this.iadd(i);return i.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(i),this.negative=1,this._normSign();var h=this.cmp(i);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,_;h>0?(p=this,_=i):(p=i,_=this);for(var M=0,R=0;R<_.length;R++)l=(p.words[R]|0)-(_.words[R]|0)+M,M=l>>26,this.words[R]=l&67108863;for(;M!==0&&R<p.length;R++)l=(p.words[R]|0)+M,M=l>>26,this.words[R]=l&67108863;if(M===0&&R<p.length&&p!==this)for(;R<p.length;R++)this.words[R]=p.words[R];return this.length=Math.max(this.length,R),p!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(i){return this.clone().isub(i)};function F(y,i,l){l.negative=i.negative^y.negative;var h=y.length+i.length|0;l.length=h,h=h-1|0;var p=y.words[0]|0,_=i.words[0]|0,M=p*_,R=M&67108863,m=M/67108864|0;l.words[0]=R;for(var s=1;s<h;s++){for(var v=m>>>26,P=m&67108863,D=Math.min(s,i.length-1),z=Math.max(0,s-y.length+1);z<=D;z++){var Q=s-z|0;p=y.words[Q]|0,_=i.words[z]|0,M=p*_+P,v+=M/67108864|0,P=M&67108863}l.words[s]=P|0,m=v|0}return m!==0?l.words[s]=m|0:l.length--,l.strip()}var U=function(i,l,h){var p=i.words,_=l.words,M=h.words,R=0,m,s,v,P=p[0]|0,D=P&8191,z=P>>>13,Q=p[1]|0,ee=Q&8191,ne=Q>>>13,De=p[2]|0,te=De&8191,ie=De>>>13,It=p[3]|0,ue=It&8191,ae=It>>>13,Le=p[4]|0,ce=Le&8191,he=Le>>>13,g=p[5]|0,a=g&8191,u=g>>>13,w=p[6]|0,E=w&8191,k=w>>>13,O=p[7]|0,j=O&8191,J=O>>>13,re=p[8]|0,Z=re&8191,G=re>>>13,Ze=p[9]|0,le=Ze&8191,fe=Ze>>>13,pr=_[0]|0,de=pr&8191,pe=pr>>>13,gr=_[1]|0,ge=gr&8191,me=gr>>>13,mr=_[2]|0,ve=mr&8191,_e=mr>>>13,vr=_[3]|0,we=vr&8191,ye=vr>>>13,_r=_[4]|0,be=_r&8191,Me=_r>>>13,wr=_[5]|0,Ee=wr&8191,xe=wr>>>13,yr=_[6]|0,Se=yr&8191,Re=yr>>>13,br=_[7]|0,Ce=br&8191,Ie=br>>>13,Mr=_[8]|0,Te=Mr&8191,Ae=Mr>>>13,Er=_[9]|0,ke=Er&8191,Be=Er>>>13;h.negative=i.negative^l.negative,h.length=19,m=Math.imul(D,de),s=Math.imul(D,pe),s=s+Math.imul(z,de)|0,v=Math.imul(z,pe);var Gt=(R+m|0)+((s&8191)<<13)|0;R=(v+(s>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,m=Math.imul(ee,de),s=Math.imul(ee,pe),s=s+Math.imul(ne,de)|0,v=Math.imul(ne,pe),m=m+Math.imul(D,ge)|0,s=s+Math.imul(D,me)|0,s=s+Math.imul(z,ge)|0,v=v+Math.imul(z,me)|0;var Zt=(R+m|0)+((s&8191)<<13)|0;R=(v+(s>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,m=Math.imul(te,de),s=Math.imul(te,pe),s=s+Math.imul(ie,de)|0,v=Math.imul(ie,pe),m=m+Math.imul(ee,ge)|0,s=s+Math.imul(ee,me)|0,s=s+Math.imul(ne,ge)|0,v=v+Math.imul(ne,me)|0,m=m+Math.imul(D,ve)|0,s=s+Math.imul(D,_e)|0,s=s+Math.imul(z,ve)|0,v=v+Math.imul(z,_e)|0;var Xt=(R+m|0)+((s&8191)<<13)|0;R=(v+(s>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,m=Math.imul(ue,de),s=Math.imul(ue,pe),s=s+Math.imul(ae,de)|0,v=Math.imul(ae,pe),m=m+Math.imul(te,ge)|0,s=s+Math.imul(te,me)|0,s=s+Math.imul(ie,ge)|0,v=v+Math.imul(ie,me)|0,m=m+Math.imul(ee,ve)|0,s=s+Math.imul(ee,_e)|0,s=s+Math.imul(ne,ve)|0,v=v+Math.imul(ne,_e)|0,m=m+Math.imul(D,we)|0,s=s+Math.imul(D,ye)|0,s=s+Math.imul(z,we)|0,v=v+Math.imul(z,ye)|0;var en=(R+m|0)+((s&8191)<<13)|0;R=(v+(s>>>13)|0)+(en>>>26)|0,en&=67108863,m=Math.imul(ce,de),s=Math.imul(ce,pe),s=s+Math.imul(he,de)|0,v=Math.imul(he,pe),m=m+Math.imul(ue,ge)|0,s=s+Math.imul(ue,me)|0,s=s+Math.imul(ae,ge)|0,v=v+Math.imul(ae,me)|0,m=m+Math.imul(te,ve)|0,s=s+Math.imul(te,_e)|0,s=s+Math.imul(ie,ve)|0,v=v+Math.imul(ie,_e)|0,m=m+Math.imul(ee,we)|0,s=s+Math.imul(ee,ye)|0,s=s+Math.imul(ne,we)|0,v=v+Math.imul(ne,ye)|0,m=m+Math.imul(D,be)|0,s=s+Math.imul(D,Me)|0,s=s+Math.imul(z,be)|0,v=v+Math.imul(z,Me)|0;var tn=(R+m|0)+((s&8191)<<13)|0;R=(v+(s>>>13)|0)+(tn>>>26)|0,tn&=67108863,m=Math.imul(a,de),s=Math.imul(a,pe),s=s+Math.imul(u,de)|0,v=Math.imul(u,pe),m=m+Math.imul(ce,ge)|0,s=s+Math.imul(ce,me)|0,s=s+Math.imul(he,ge)|0,v=v+Math.imul(he,me)|0,m=m+Math.imul(ue,ve)|0,s=s+Math.imul(ue,_e)|0,s=s+Math.imul(ae,ve)|0,v=v+Math.imul(ae,_e)|0,m=m+Math.imul(te,we)|0,s=s+Math.imul(te,ye)|0,s=s+Math.imul(ie,we)|0,v=v+Math.imul(ie,ye)|0,m=m+Math.imul(ee,be)|0,s=s+Math.imul(ee,Me)|0,s=s+Math.imul(ne,be)|0,v=v+Math.imul(ne,Me)|0,m=m+Math.imul(D,Ee)|0,s=s+Math.imul(D,xe)|0,s=s+Math.imul(z,Ee)|0,v=v+Math.imul(z,xe)|0;var nn=(R+m|0)+((s&8191)<<13)|0;R=(v+(s>>>13)|0)+(nn>>>26)|0,nn&=67108863,m=Math.imul(E,de),s=Math.imul(E,pe),s=s+Math.imul(k,de)|0,v=Math.imul(k,pe),m=m+Math.imul(a,ge)|0,s=s+Math.imul(a,me)|0,s=s+Math.imul(u,ge)|0,v=v+Math.imul(u,me)|0,m=m+Math.imul(ce,ve)|0,s=s+Math.imul(ce,_e)|0,s=s+Math.imul(he,ve)|0,v=v+Math.imul(he,_e)|0,m=m+Math.imul(ue,we)|0,s=s+Math.imul(ue,ye)|0,s=s+Math.imul(ae,we)|0,v=v+Math.imul(ae,ye)|0,m=m+Math.imul(te,be)|0,s=s+Math.imul(te,Me)|0,s=s+Math.imul(ie,be)|0,v=v+Math.imul(ie,Me)|0,m=m+Math.imul(ee,Ee)|0,s=s+Math.imul(ee,xe)|0,s=s+Math.imul(ne,Ee)|0,v=v+Math.imul(ne,xe)|0,m=m+Math.imul(D,Se)|0,s=s+Math.imul(D,Re)|0,s=s+Math.imul(z,Se)|0,v=v+Math.imul(z,Re)|0;var rn=(R+m|0)+((s&8191)<<13)|0;R=(v+(s>>>13)|0)+(rn>>>26)|0,rn&=67108863,m=Math.imul(j,de),s=Math.imul(j,pe),s=s+Math.imul(J,de)|0,v=Math.imul(J,pe),m=m+Math.imul(E,ge)|0,s=s+Math.imul(E,me)|0,s=s+Math.imul(k,ge)|0,v=v+Math.imul(k,me)|0,m=m+Math.imul(a,ve)|0,s=s+Math.imul(a,_e)|0,s=s+Math.imul(u,ve)|0,v=v+Math.imul(u,_e)|0,m=m+Math.imul(ce,we)|0,s=s+Math.imul(ce,ye)|0,s=s+Math.imul(he,we)|0,v=v+Math.imul(he,ye)|0,m=m+Math.imul(ue,be)|0,s=s+Math.imul(ue,Me)|0,s=s+Math.imul(ae,be)|0,v=v+Math.imul(ae,Me)|0,m=m+Math.imul(te,Ee)|0,s=s+Math.imul(te,xe)|0,s=s+Math.imul(ie,Ee)|0,v=v+Math.imul(ie,xe)|0,m=m+Math.imul(ee,Se)|0,s=s+Math.imul(ee,Re)|0,s=s+Math.imul(ne,Se)|0,v=v+Math.imul(ne,Re)|0,m=m+Math.imul(D,Ce)|0,s=s+Math.imul(D,Ie)|0,s=s+Math.imul(z,Ce)|0,v=v+Math.imul(z,Ie)|0;var on=(R+m|0)+((s&8191)<<13)|0;R=(v+(s>>>13)|0)+(on>>>26)|0,on&=67108863,m=Math.imul(Z,de),s=Math.imul(Z,pe),s=s+Math.imul(G,de)|0,v=Math.imul(G,pe),m=m+Math.imul(j,ge)|0,s=s+Math.imul(j,me)|0,s=s+Math.imul(J,ge)|0,v=v+Math.imul(J,me)|0,m=m+Math.imul(E,ve)|0,s=s+Math.imul(E,_e)|0,s=s+Math.imul(k,ve)|0,v=v+Math.imul(k,_e)|0,m=m+Math.imul(a,we)|0,s=s+Math.imul(a,ye)|0,s=s+Math.imul(u,we)|0,v=v+Math.imul(u,ye)|0,m=m+Math.imul(ce,be)|0,s=s+Math.imul(ce,Me)|0,s=s+Math.imul(he,be)|0,v=v+Math.imul(he,Me)|0,m=m+Math.imul(ue,Ee)|0,s=s+Math.imul(ue,xe)|0,s=s+Math.imul(ae,Ee)|0,v=v+Math.imul(ae,xe)|0,m=m+Math.imul(te,Se)|0,s=s+Math.imul(te,Re)|0,s=s+Math.imul(ie,Se)|0,v=v+Math.imul(ie,Re)|0,m=m+Math.imul(ee,Ce)|0,s=s+Math.imul(ee,Ie)|0,s=s+Math.imul(ne,Ce)|0,v=v+Math.imul(ne,Ie)|0,m=m+Math.imul(D,Te)|0,s=s+Math.imul(D,Ae)|0,s=s+Math.imul(z,Te)|0,v=v+Math.imul(z,Ae)|0;var sn=(R+m|0)+((s&8191)<<13)|0;R=(v+(s>>>13)|0)+(sn>>>26)|0,sn&=67108863,m=Math.imul(le,de),s=Math.imul(le,pe),s=s+Math.imul(fe,de)|0,v=Math.imul(fe,pe),m=m+Math.imul(Z,ge)|0,s=s+Math.imul(Z,me)|0,s=s+Math.imul(G,ge)|0,v=v+Math.imul(G,me)|0,m=m+Math.imul(j,ve)|0,s=s+Math.imul(j,_e)|0,s=s+Math.imul(J,ve)|0,v=v+Math.imul(J,_e)|0,m=m+Math.imul(E,we)|0,s=s+Math.imul(E,ye)|0,s=s+Math.imul(k,we)|0,v=v+Math.imul(k,ye)|0,m=m+Math.imul(a,be)|0,s=s+Math.imul(a,Me)|0,s=s+Math.imul(u,be)|0,v=v+Math.imul(u,Me)|0,m=m+Math.imul(ce,Ee)|0,s=s+Math.imul(ce,xe)|0,s=s+Math.imul(he,Ee)|0,v=v+Math.imul(he,xe)|0,m=m+Math.imul(ue,Se)|0,s=s+Math.imul(ue,Re)|0,s=s+Math.imul(ae,Se)|0,v=v+Math.imul(ae,Re)|0,m=m+Math.imul(te,Ce)|0,s=s+Math.imul(te,Ie)|0,s=s+Math.imul(ie,Ce)|0,v=v+Math.imul(ie,Ie)|0,m=m+Math.imul(ee,Te)|0,s=s+Math.imul(ee,Ae)|0,s=s+Math.imul(ne,Te)|0,v=v+Math.imul(ne,Ae)|0,m=m+Math.imul(D,ke)|0,s=s+Math.imul(D,Be)|0,s=s+Math.imul(z,ke)|0,v=v+Math.imul(z,Be)|0;var an=(R+m|0)+((s&8191)<<13)|0;R=(v+(s>>>13)|0)+(an>>>26)|0,an&=67108863,m=Math.imul(le,ge),s=Math.imul(le,me),s=s+Math.imul(fe,ge)|0,v=Math.imul(fe,me),m=m+Math.imul(Z,ve)|0,s=s+Math.imul(Z,_e)|0,s=s+Math.imul(G,ve)|0,v=v+Math.imul(G,_e)|0,m=m+Math.imul(j,we)|0,s=s+Math.imul(j,ye)|0,s=s+Math.imul(J,we)|0,v=v+Math.imul(J,ye)|0,m=m+Math.imul(E,be)|0,s=s+Math.imul(E,Me)|0,s=s+Math.imul(k,be)|0,v=v+Math.imul(k,Me)|0,m=m+Math.imul(a,Ee)|0,s=s+Math.imul(a,xe)|0,s=s+Math.imul(u,Ee)|0,v=v+Math.imul(u,xe)|0,m=m+Math.imul(ce,Se)|0,s=s+Math.imul(ce,Re)|0,s=s+Math.imul(he,Se)|0,v=v+Math.imul(he,Re)|0,m=m+Math.imul(ue,Ce)|0,s=s+Math.imul(ue,Ie)|0,s=s+Math.imul(ae,Ce)|0,v=v+Math.imul(ae,Ie)|0,m=m+Math.imul(te,Te)|0,s=s+Math.imul(te,Ae)|0,s=s+Math.imul(ie,Te)|0,v=v+Math.imul(ie,Ae)|0,m=m+Math.imul(ee,ke)|0,s=s+Math.imul(ee,Be)|0,s=s+Math.imul(ne,ke)|0,v=v+Math.imul(ne,Be)|0;var cn=(R+m|0)+((s&8191)<<13)|0;R=(v+(s>>>13)|0)+(cn>>>26)|0,cn&=67108863,m=Math.imul(le,ve),s=Math.imul(le,_e),s=s+Math.imul(fe,ve)|0,v=Math.imul(fe,_e),m=m+Math.imul(Z,we)|0,s=s+Math.imul(Z,ye)|0,s=s+Math.imul(G,we)|0,v=v+Math.imul(G,ye)|0,m=m+Math.imul(j,be)|0,s=s+Math.imul(j,Me)|0,s=s+Math.imul(J,be)|0,v=v+Math.imul(J,Me)|0,m=m+Math.imul(E,Ee)|0,s=s+Math.imul(E,xe)|0,s=s+Math.imul(k,Ee)|0,v=v+Math.imul(k,xe)|0,m=m+Math.imul(a,Se)|0,s=s+Math.imul(a,Re)|0,s=s+Math.imul(u,Se)|0,v=v+Math.imul(u,Re)|0,m=m+Math.imul(ce,Ce)|0,s=s+Math.imul(ce,Ie)|0,s=s+Math.imul(he,Ce)|0,v=v+Math.imul(he,Ie)|0,m=m+Math.imul(ue,Te)|0,s=s+Math.imul(ue,Ae)|0,s=s+Math.imul(ae,Te)|0,v=v+Math.imul(ae,Ae)|0,m=m+Math.imul(te,ke)|0,s=s+Math.imul(te,Be)|0,s=s+Math.imul(ie,ke)|0,v=v+Math.imul(ie,Be)|0;var un=(R+m|0)+((s&8191)<<13)|0;R=(v+(s>>>13)|0)+(un>>>26)|0,un&=67108863,m=Math.imul(le,we),s=Math.imul(le,ye),s=s+Math.imul(fe,we)|0,v=Math.imul(fe,ye),m=m+Math.imul(Z,be)|0,s=s+Math.imul(Z,Me)|0,s=s+Math.imul(G,be)|0,v=v+Math.imul(G,Me)|0,m=m+Math.imul(j,Ee)|0,s=s+Math.imul(j,xe)|0,s=s+Math.imul(J,Ee)|0,v=v+Math.imul(J,xe)|0,m=m+Math.imul(E,Se)|0,s=s+Math.imul(E,Re)|0,s=s+Math.imul(k,Se)|0,v=v+Math.imul(k,Re)|0,m=m+Math.imul(a,Ce)|0,s=s+Math.imul(a,Ie)|0,s=s+Math.imul(u,Ce)|0,v=v+Math.imul(u,Ie)|0,m=m+Math.imul(ce,Te)|0,s=s+Math.imul(ce,Ae)|0,s=s+Math.imul(he,Te)|0,v=v+Math.imul(he,Ae)|0,m=m+Math.imul(ue,ke)|0,s=s+Math.imul(ue,Be)|0,s=s+Math.imul(ae,ke)|0,v=v+Math.imul(ae,Be)|0;var ln=(R+m|0)+((s&8191)<<13)|0;R=(v+(s>>>13)|0)+(ln>>>26)|0,ln&=67108863,m=Math.imul(le,be),s=Math.imul(le,Me),s=s+Math.imul(fe,be)|0,v=Math.imul(fe,Me),m=m+Math.imul(Z,Ee)|0,s=s+Math.imul(Z,xe)|0,s=s+Math.imul(G,Ee)|0,v=v+Math.imul(G,xe)|0,m=m+Math.imul(j,Se)|0,s=s+Math.imul(j,Re)|0,s=s+Math.imul(J,Se)|0,v=v+Math.imul(J,Re)|0,m=m+Math.imul(E,Ce)|0,s=s+Math.imul(E,Ie)|0,s=s+Math.imul(k,Ce)|0,v=v+Math.imul(k,Ie)|0,m=m+Math.imul(a,Te)|0,s=s+Math.imul(a,Ae)|0,s=s+Math.imul(u,Te)|0,v=v+Math.imul(u,Ae)|0,m=m+Math.imul(ce,ke)|0,s=s+Math.imul(ce,Be)|0,s=s+Math.imul(he,ke)|0,v=v+Math.imul(he,Be)|0;var fn=(R+m|0)+((s&8191)<<13)|0;R=(v+(s>>>13)|0)+(fn>>>26)|0,fn&=67108863,m=Math.imul(le,Ee),s=Math.imul(le,xe),s=s+Math.imul(fe,Ee)|0,v=Math.imul(fe,xe),m=m+Math.imul(Z,Se)|0,s=s+Math.imul(Z,Re)|0,s=s+Math.imul(G,Se)|0,v=v+Math.imul(G,Re)|0,m=m+Math.imul(j,Ce)|0,s=s+Math.imul(j,Ie)|0,s=s+Math.imul(J,Ce)|0,v=v+Math.imul(J,Ie)|0,m=m+Math.imul(E,Te)|0,s=s+Math.imul(E,Ae)|0,s=s+Math.imul(k,Te)|0,v=v+Math.imul(k,Ae)|0,m=m+Math.imul(a,ke)|0,s=s+Math.imul(a,Be)|0,s=s+Math.imul(u,ke)|0,v=v+Math.imul(u,Be)|0;var hn=(R+m|0)+((s&8191)<<13)|0;R=(v+(s>>>13)|0)+(hn>>>26)|0,hn&=67108863,m=Math.imul(le,Se),s=Math.imul(le,Re),s=s+Math.imul(fe,Se)|0,v=Math.imul(fe,Re),m=m+Math.imul(Z,Ce)|0,s=s+Math.imul(Z,Ie)|0,s=s+Math.imul(G,Ce)|0,v=v+Math.imul(G,Ie)|0,m=m+Math.imul(j,Te)|0,s=s+Math.imul(j,Ae)|0,s=s+Math.imul(J,Te)|0,v=v+Math.imul(J,Ae)|0,m=m+Math.imul(E,ke)|0,s=s+Math.imul(E,Be)|0,s=s+Math.imul(k,ke)|0,v=v+Math.imul(k,Be)|0;var dn=(R+m|0)+((s&8191)<<13)|0;R=(v+(s>>>13)|0)+(dn>>>26)|0,dn&=67108863,m=Math.imul(le,Ce),s=Math.imul(le,Ie),s=s+Math.imul(fe,Ce)|0,v=Math.imul(fe,Ie),m=m+Math.imul(Z,Te)|0,s=s+Math.imul(Z,Ae)|0,s=s+Math.imul(G,Te)|0,v=v+Math.imul(G,Ae)|0,m=m+Math.imul(j,ke)|0,s=s+Math.imul(j,Be)|0,s=s+Math.imul(J,ke)|0,v=v+Math.imul(J,Be)|0;var pn=(R+m|0)+((s&8191)<<13)|0;R=(v+(s>>>13)|0)+(pn>>>26)|0,pn&=67108863,m=Math.imul(le,Te),s=Math.imul(le,Ae),s=s+Math.imul(fe,Te)|0,v=Math.imul(fe,Ae),m=m+Math.imul(Z,ke)|0,s=s+Math.imul(Z,Be)|0,s=s+Math.imul(G,ke)|0,v=v+Math.imul(G,Be)|0;var gn=(R+m|0)+((s&8191)<<13)|0;R=(v+(s>>>13)|0)+(gn>>>26)|0,gn&=67108863,m=Math.imul(le,ke),s=Math.imul(le,Be),s=s+Math.imul(fe,ke)|0,v=Math.imul(fe,Be);var mn=(R+m|0)+((s&8191)<<13)|0;return R=(v+(s>>>13)|0)+(mn>>>26)|0,mn&=67108863,M[0]=Gt,M[1]=Zt,M[2]=Xt,M[3]=en,M[4]=tn,M[5]=nn,M[6]=rn,M[7]=on,M[8]=sn,M[9]=an,M[10]=cn,M[11]=un,M[12]=ln,M[13]=fn,M[14]=hn,M[15]=dn,M[16]=pn,M[17]=gn,M[18]=mn,R!==0&&(M[19]=R,h.length++),h};Math.imul||(U=F);function $(y,i,l){l.negative=i.negative^y.negative,l.length=y.length+i.length;for(var h=0,p=0,_=0;_<l.length-1;_++){var M=p;p=0;for(var R=h&67108863,m=Math.min(_,i.length-1),s=Math.max(0,_-y.length+1);s<=m;s++){var v=_-s,P=y.words[v]|0,D=i.words[s]|0,z=P*D,Q=z&67108863;M=M+(z/67108864|0)|0,Q=Q+R|0,R=Q&67108863,M=M+(Q>>>26)|0,p+=M>>>26,M&=67108863}l.words[_]=R,h=M,M=p}return h!==0?l.words[_]=h:l.length--,l.strip()}function S(y,i,l){var h=new C;return h.mulp(y,i,l)}o.prototype.mulTo=function(i,l){var h,p=this.length+i.length;return this.length===10&&i.length===10?h=U(this,i,l):p<63?h=F(this,i,l):p<1024?h=$(this,i,l):h=S(this,i,l),h};function C(y,i){this.x=y,this.y=i}C.prototype.makeRBT=function(i){for(var l=new Array(i),h=o.prototype._countBits(i)-1,p=0;p<i;p++)l[p]=this.revBin(p,h,i);return l},C.prototype.revBin=function(i,l,h){if(i===0||i===h-1)return i;for(var p=0,_=0;_<l;_++)p|=(i&1)<<l-_-1,i>>=1;return p},C.prototype.permute=function(i,l,h,p,_,M){for(var R=0;R<M;R++)p[R]=l[i[R]],_[R]=h[i[R]]},C.prototype.transform=function(i,l,h,p,_,M){this.permute(M,i,l,h,p,_);for(var R=1;R<_;R<<=1)for(var m=R<<1,s=Math.cos(2*Math.PI/m),v=Math.sin(2*Math.PI/m),P=0;P<_;P+=m)for(var D=s,z=v,Q=0;Q<R;Q++){var ee=h[P+Q],ne=p[P+Q],De=h[P+Q+R],te=p[P+Q+R],ie=D*De-z*te;te=D*te+z*De,De=ie,h[P+Q]=ee+De,p[P+Q]=ne+te,h[P+Q+R]=ee-De,p[P+Q+R]=ne-te,Q!==m&&(ie=s*D-v*z,z=s*z+v*D,D=ie)}},C.prototype.guessLen13b=function(i,l){var h=Math.max(l,i)|1,p=h&1,_=0;for(h=h/2|0;h;h=h>>>1)_++;return 1<<_+1+p},C.prototype.conjugate=function(i,l,h){if(!(h<=1))for(var p=0;p<h/2;p++){var _=i[p];i[p]=i[h-p-1],i[h-p-1]=_,_=l[p],l[p]=-l[h-p-1],l[h-p-1]=-_}},C.prototype.normalize13b=function(i,l){for(var h=0,p=0;p<l/2;p++){var _=Math.round(i[2*p+1]/l)*8192+Math.round(i[2*p]/l)+h;i[p]=_&67108863,_<67108864?h=0:h=_/67108864|0}return i},C.prototype.convert13b=function(i,l,h,p){for(var _=0,M=0;M<l;M++)_=_+(i[M]|0),h[2*M]=_&8191,_=_>>>13,h[2*M+1]=_&8191,_=_>>>13;for(M=2*l;M<p;++M)h[M]=0;r(_===0),r((_&-8192)===0)},C.prototype.stub=function(i){for(var l=new Array(i),h=0;h<i;h++)l[h]=0;return l},C.prototype.mulp=function(i,l,h){var p=2*this.guessLen13b(i.length,l.length),_=this.makeRBT(p),M=this.stub(p),R=new Array(p),m=new Array(p),s=new Array(p),v=new Array(p),P=new Array(p),D=new Array(p),z=h.words;z.length=p,this.convert13b(i.words,i.length,R,p),this.convert13b(l.words,l.length,v,p),this.transform(R,M,m,s,p,_),this.transform(v,M,P,D,p,_);for(var Q=0;Q<p;Q++){var ee=m[Q]*P[Q]-s[Q]*D[Q];s[Q]=m[Q]*D[Q]+s[Q]*P[Q],m[Q]=ee}return this.conjugate(m,s,p),this.transform(m,s,z,M,p,_),this.conjugate(z,M,p),this.normalize13b(z,p),h.negative=i.negative^l.negative,h.length=i.length+l.length,h.strip()},o.prototype.mul=function(i){var l=new o(null);return l.words=new Array(this.length+i.length),this.mulTo(i,l)},o.prototype.mulf=function(i){var l=new o(null);return l.words=new Array(this.length+i.length),S(this,i,l)},o.prototype.imul=function(i){return this.clone().mulTo(i,this)},o.prototype.imuln=function(i){r(typeof i=="number"),r(i<67108864);for(var l=0,h=0;h<this.length;h++){var p=(this.words[h]|0)*i,_=(p&67108863)+(l&67108863);l>>=26,l+=p/67108864|0,l+=_>>>26,this.words[h]=_&67108863}return l!==0&&(this.words[h]=l,this.length++),this},o.prototype.muln=function(i){return this.clone().imuln(i)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(i){var l=L(i);if(l.length===0)return new o(1);for(var h=this,p=0;p<l.length&&l[p]===0;p++,h=h.sqr());if(++p<l.length)for(var _=h.sqr();p<l.length;p++,_=_.sqr())l[p]!==0&&(h=h.mul(_));return h},o.prototype.iushln=function(i){r(typeof i=="number"&&i>=0);var l=i%26,h=(i-l)/26,p=67108863>>>26-l<<26-l,_;if(l!==0){var M=0;for(_=0;_<this.length;_++){var R=this.words[_]&p,m=(this.words[_]|0)-R<<l;this.words[_]=m|M,M=R>>>26-l}M&&(this.words[_]=M,this.length++)}if(h!==0){for(_=this.length-1;_>=0;_--)this.words[_+h]=this.words[_];for(_=0;_<h;_++)this.words[_]=0;this.length+=h}return this.strip()},o.prototype.ishln=function(i){return r(this.negative===0),this.iushln(i)},o.prototype.iushrn=function(i,l,h){r(typeof i=="number"&&i>=0);var p;l?p=(l-l%26)/26:p=0;var _=i%26,M=Math.min((i-_)/26,this.length),R=67108863^67108863>>>_<<_,m=h;if(p-=M,p=Math.max(0,p),m){for(var s=0;s<M;s++)m.words[s]=this.words[s];m.length=M}if(M!==0)if(this.length>M)for(this.length-=M,s=0;s<this.length;s++)this.words[s]=this.words[s+M];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(v!==0||s>=p);s--){var P=this.words[s]|0;this.words[s]=v<<26-_|P>>>_,v=P&R}return m&&v!==0&&(m.words[m.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(i,l,h){return r(this.negative===0),this.iushrn(i,l,h)},o.prototype.shln=function(i){return this.clone().ishln(i)},o.prototype.ushln=function(i){return this.clone().iushln(i)},o.prototype.shrn=function(i){return this.clone().ishrn(i)},o.prototype.ushrn=function(i){return this.clone().iushrn(i)},o.prototype.testn=function(i){r(typeof i=="number"&&i>=0);var l=i%26,h=(i-l)/26,p=1<<l;if(this.length<=h)return!1;var _=this.words[h];return!!(_&p)},o.prototype.imaskn=function(i){r(typeof i=="number"&&i>=0);var l=i%26,h=(i-l)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(l!==0&&h++,this.length=Math.min(h,this.length),l!==0){var p=67108863^67108863>>>l<<l;this.words[this.length-1]&=p}return this.strip()},o.prototype.maskn=function(i){return this.clone().imaskn(i)},o.prototype.iaddn=function(i){return r(typeof i=="number"),r(i<67108864),i<0?this.isubn(-i):this.negative!==0?this.length===1&&(this.words[0]|0)<i?(this.words[0]=i-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(i),this.negative=1,this):this._iaddn(i)},o.prototype._iaddn=function(i){this.words[0]+=i;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},o.prototype.isubn=function(i){if(r(typeof i=="number"),r(i<67108864),i<0)return this.iaddn(-i);if(this.negative!==0)return this.negative=0,this.iaddn(i),this.negative=1,this;if(this.words[0]-=i,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this.strip()},o.prototype.addn=function(i){return this.clone().iaddn(i)},o.prototype.subn=function(i){return this.clone().isubn(i)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(i,l,h){var p=i.length+h,_;this._expand(p);var M,R=0;for(_=0;_<i.length;_++){M=(this.words[_+h]|0)+R;var m=(i.words[_]|0)*l;M-=m&67108863,R=(M>>26)-(m/67108864|0),this.words[_+h]=M&67108863}for(;_<this.length-h;_++)M=(this.words[_+h]|0)+R,R=M>>26,this.words[_+h]=M&67108863;if(R===0)return this.strip();for(r(R===-1),R=0,_=0;_<this.length;_++)M=-(this.words[_]|0)+R,R=M>>26,this.words[_]=M&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(i,l){var h=this.length-i.length,p=this.clone(),_=i,M=_.words[_.length-1]|0,R=this._countBits(M);h=26-R,h!==0&&(_=_.ushln(h),p.iushln(h),M=_.words[_.length-1]|0);var m=p.length-_.length,s;if(l!=="mod"){s=new o(null),s.length=m+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var P=p.clone()._ishlnsubmul(_,1,m);P.negative===0&&(p=P,s&&(s.words[m]=1));for(var D=m-1;D>=0;D--){var z=(p.words[_.length+D]|0)*67108864+(p.words[_.length+D-1]|0);for(z=Math.min(z/M|0,67108863),p._ishlnsubmul(_,z,D);p.negative!==0;)z--,p.negative=0,p._ishlnsubmul(_,1,D),p.isZero()||(p.negative^=1);s&&(s.words[D]=z)}return s&&s.strip(),p.strip(),l!=="div"&&h!==0&&p.iushrn(h),{div:s||null,mod:p}},o.prototype.divmod=function(i,l,h){if(r(!i.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var p,_,M;return this.negative!==0&&i.negative===0?(M=this.neg().divmod(i,l),l!=="mod"&&(p=M.div.neg()),l!=="div"&&(_=M.mod.neg(),h&&_.negative!==0&&_.iadd(i)),{div:p,mod:_}):this.negative===0&&i.negative!==0?(M=this.divmod(i.neg(),l),l!=="mod"&&(p=M.div.neg()),{div:p,mod:M.mod}):(this.negative&i.negative)!==0?(M=this.neg().divmod(i.neg(),l),l!=="div"&&(_=M.mod.neg(),h&&_.negative!==0&&_.isub(i)),{div:M.div,mod:_}):i.length>this.length||this.cmp(i)<0?{div:new o(0),mod:this}:i.length===1?l==="div"?{div:this.divn(i.words[0]),mod:null}:l==="mod"?{div:null,mod:new o(this.modn(i.words[0]))}:{div:this.divn(i.words[0]),mod:new o(this.modn(i.words[0]))}:this._wordDiv(i,l)},o.prototype.div=function(i){return this.divmod(i,"div",!1).div},o.prototype.mod=function(i){return this.divmod(i,"mod",!1).mod},o.prototype.umod=function(i){return this.divmod(i,"mod",!0).mod},o.prototype.divRound=function(i){var l=this.divmod(i);if(l.mod.isZero())return l.div;var h=l.div.negative!==0?l.mod.isub(i):l.mod,p=i.ushrn(1),_=i.andln(1),M=h.cmp(p);return M<0||_===1&&M===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},o.prototype.modn=function(i){r(i<=67108863);for(var l=(1<<26)%i,h=0,p=this.length-1;p>=0;p--)h=(l*h+(this.words[p]|0))%i;return h},o.prototype.idivn=function(i){r(i<=67108863);for(var l=0,h=this.length-1;h>=0;h--){var p=(this.words[h]|0)+l*67108864;this.words[h]=p/i|0,l=p%i}return this.strip()},o.prototype.divn=function(i){return this.clone().idivn(i)},o.prototype.egcd=function(i){r(i.negative===0),r(!i.isZero());var l=this,h=i.clone();l.negative!==0?l=l.umod(i):l=l.clone();for(var p=new o(1),_=new o(0),M=new o(0),R=new o(1),m=0;l.isEven()&&h.isEven();)l.iushrn(1),h.iushrn(1),++m;for(var s=h.clone(),v=l.clone();!l.isZero();){for(var P=0,D=1;(l.words[0]&D)===0&&P<26;++P,D<<=1);if(P>0)for(l.iushrn(P);P-- >0;)(p.isOdd()||_.isOdd())&&(p.iadd(s),_.isub(v)),p.iushrn(1),_.iushrn(1);for(var z=0,Q=1;(h.words[0]&Q)===0&&z<26;++z,Q<<=1);if(z>0)for(h.iushrn(z);z-- >0;)(M.isOdd()||R.isOdd())&&(M.iadd(s),R.isub(v)),M.iushrn(1),R.iushrn(1);l.cmp(h)>=0?(l.isub(h),p.isub(M),_.isub(R)):(h.isub(l),M.isub(p),R.isub(_))}return{a:M,b:R,gcd:h.iushln(m)}},o.prototype._invmp=function(i){r(i.negative===0),r(!i.isZero());var l=this,h=i.clone();l.negative!==0?l=l.umod(i):l=l.clone();for(var p=new o(1),_=new o(0),M=h.clone();l.cmpn(1)>0&&h.cmpn(1)>0;){for(var R=0,m=1;(l.words[0]&m)===0&&R<26;++R,m<<=1);if(R>0)for(l.iushrn(R);R-- >0;)p.isOdd()&&p.iadd(M),p.iushrn(1);for(var s=0,v=1;(h.words[0]&v)===0&&s<26;++s,v<<=1);if(s>0)for(h.iushrn(s);s-- >0;)_.isOdd()&&_.iadd(M),_.iushrn(1);l.cmp(h)>=0?(l.isub(h),p.isub(_)):(h.isub(l),_.isub(p))}var P;return l.cmpn(1)===0?P=p:P=_,P.cmpn(0)<0&&P.iadd(i),P},o.prototype.gcd=function(i){if(this.isZero())return i.abs();if(i.isZero())return this.abs();var l=this.clone(),h=i.clone();l.negative=0,h.negative=0;for(var p=0;l.isEven()&&h.isEven();p++)l.iushrn(1),h.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;h.isEven();)h.iushrn(1);var _=l.cmp(h);if(_<0){var M=l;l=h,h=M}else if(_===0||h.cmpn(1)===0)break;l.isub(h)}while(!0);return h.iushln(p)},o.prototype.invm=function(i){return this.egcd(i).a.umod(i)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(i){return this.words[0]&i},o.prototype.bincn=function(i){r(typeof i=="number");var l=i%26,h=(i-l)/26,p=1<<l;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var _=p,M=h;_!==0&&M<this.length;M++){var R=this.words[M]|0;R+=_,_=R>>>26,R&=67108863,this.words[M]=R}return _!==0&&(this.words[M]=_,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(i){var l=i<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this.strip();var h;if(this.length>1)h=1;else{l&&(i=-i),r(i<=67108863,"Number is too big");var p=this.words[0]|0;h=p===i?0:p<i?-1:1}return this.negative!==0?-h|0:h},o.prototype.cmp=function(i){if(this.negative!==0&&i.negative===0)return-1;if(this.negative===0&&i.negative!==0)return 1;var l=this.ucmp(i);return this.negative!==0?-l|0:l},o.prototype.ucmp=function(i){if(this.length>i.length)return 1;if(this.length<i.length)return-1;for(var l=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,_=i.words[h]|0;if(p!==_){p<_?l=-1:p>_&&(l=1);break}}return l},o.prototype.gtn=function(i){return this.cmpn(i)===1},o.prototype.gt=function(i){return this.cmp(i)===1},o.prototype.gten=function(i){return this.cmpn(i)>=0},o.prototype.gte=function(i){return this.cmp(i)>=0},o.prototype.ltn=function(i){return this.cmpn(i)===-1},o.prototype.lt=function(i){return this.cmp(i)===-1},o.prototype.lten=function(i){return this.cmpn(i)<=0},o.prototype.lte=function(i){return this.cmp(i)<=0},o.prototype.eqn=function(i){return this.cmpn(i)===0},o.prototype.eq=function(i){return this.cmp(i)===0},o.red=function(i){return new Y(i)},o.prototype.toRed=function(i){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),i.convertTo(this)._forceRed(i)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(i){return this.red=i,this},o.prototype.forceRed=function(i){return r(!this.red,"Already a number in reduction context"),this._forceRed(i)},o.prototype.redAdd=function(i){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,i)},o.prototype.redIAdd=function(i){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,i)},o.prototype.redSub=function(i){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,i)},o.prototype.redISub=function(i){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,i)},o.prototype.redShl=function(i){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,i)},o.prototype.redMul=function(i){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.mul(this,i)},o.prototype.redIMul=function(i){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.imul(this,i)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(i){return r(this.red&&!i.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,i)};var A={k256:null,p224:null,p192:null,p25519:null};function T(y,i){this.name=y,this.p=new o(i,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}T.prototype._tmp=function(){var i=new o(null);return i.words=new Array(Math.ceil(this.n/13)),i},T.prototype.ireduce=function(i){var l=i,h;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),h=l.bitLength();while(h>this.n);var p=h<this.n?-1:l.ucmp(this.p);return p===0?(l.words[0]=0,l.length=1):p>0?l.isub(this.p):l.strip(),l},T.prototype.split=function(i,l){i.iushrn(this.n,0,l)},T.prototype.imulK=function(i){return i.imul(this.k)};function B(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c(B,T),B.prototype.split=function(i,l){for(var h=4194303,p=Math.min(i.length,9),_=0;_<p;_++)l.words[_]=i.words[_];if(l.length=p,i.length<=9){i.words[0]=0,i.length=1;return}var M=i.words[9];for(l.words[l.length++]=M&h,_=10;_<i.length;_++){var R=i.words[_]|0;i.words[_-10]=(R&h)<<4|M>>>22,M=R}M>>>=22,i.words[_-10]=M,M===0&&i.length>10?i.length-=10:i.length-=9},B.prototype.imulK=function(i){i.words[i.length]=0,i.words[i.length+1]=0,i.length+=2;for(var l=0,h=0;h<i.length;h++){var p=i.words[h]|0;l+=p*977,i.words[h]=l&67108863,l=p*64+(l/67108864|0)}return i.words[i.length-1]===0&&(i.length--,i.words[i.length-1]===0&&i.length--),i};function W(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(W,T);function H(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(H,T);function K(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(K,T),K.prototype.imulK=function(i){for(var l=0,h=0;h<i.length;h++){var p=(i.words[h]|0)*19+l,_=p&67108863;p>>>=26,i.words[h]=_,l=p}return l!==0&&(i.words[i.length++]=l),i},o._prime=function(i){if(A[i])return A[i];var l;if(i==="k256")l=new B;else if(i==="p224")l=new W;else if(i==="p192")l=new H;else if(i==="p25519")l=new K;else throw new Error("Unknown prime "+i);return A[i]=l,l};function Y(y){if(typeof y=="string"){var i=o._prime(y);this.m=i.p,this.prime=i}else r(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}Y.prototype._verify1=function(i){r(i.negative===0,"red works only with positives"),r(i.red,"red works only with red numbers")},Y.prototype._verify2=function(i,l){r((i.negative|l.negative)===0,"red works only with positives"),r(i.red&&i.red===l.red,"red works only with red numbers")},Y.prototype.imod=function(i){return this.prime?this.prime.ireduce(i)._forceRed(this):i.umod(this.m)._forceRed(this)},Y.prototype.neg=function(i){return i.isZero()?i.clone():this.m.sub(i)._forceRed(this)},Y.prototype.add=function(i,l){this._verify2(i,l);var h=i.add(l);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},Y.prototype.iadd=function(i,l){this._verify2(i,l);var h=i.iadd(l);return h.cmp(this.m)>=0&&h.isub(this.m),h},Y.prototype.sub=function(i,l){this._verify2(i,l);var h=i.sub(l);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},Y.prototype.isub=function(i,l){this._verify2(i,l);var h=i.isub(l);return h.cmpn(0)<0&&h.iadd(this.m),h},Y.prototype.shl=function(i,l){return this._verify1(i),this.imod(i.ushln(l))},Y.prototype.imul=function(i,l){return this._verify2(i,l),this.imod(i.imul(l))},Y.prototype.mul=function(i,l){return this._verify2(i,l),this.imod(i.mul(l))},Y.prototype.isqr=function(i){return this.imul(i,i.clone())},Y.prototype.sqr=function(i){return this.mul(i,i)},Y.prototype.sqrt=function(i){if(i.isZero())return i.clone();var l=this.m.andln(3);if(r(l%2===1),l===3){var h=this.m.add(new o(1)).iushrn(2);return this.pow(i,h)}for(var p=this.m.subn(1),_=0;!p.isZero()&&p.andln(1)===0;)_++,p.iushrn(1);r(!p.isZero());var M=new o(1).toRed(this),R=M.redNeg(),m=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new o(2*s*s).toRed(this);this.pow(s,m).cmp(R)!==0;)s.redIAdd(R);for(var v=this.pow(s,p),P=this.pow(i,p.addn(1).iushrn(1)),D=this.pow(i,p),z=_;D.cmp(M)!==0;){for(var Q=D,ee=0;Q.cmp(M)!==0;ee++)Q=Q.redSqr();r(ee<z);var ne=this.pow(v,new o(1).iushln(z-ee-1));P=P.redMul(ne),v=ne.redSqr(),D=D.redMul(v),z=ee}return P},Y.prototype.invm=function(i){var l=i._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},Y.prototype.pow=function(i,l){if(l.isZero())return new o(1).toRed(this);if(l.cmpn(1)===0)return i.clone();var h=4,p=new Array(1<<h);p[0]=new o(1).toRed(this),p[1]=i;for(var _=2;_<p.length;_++)p[_]=this.mul(p[_-1],i);var M=p[0],R=0,m=0,s=l.bitLength()%26;for(s===0&&(s=26),_=l.length-1;_>=0;_--){for(var v=l.words[_],P=s-1;P>=0;P--){var D=v>>P&1;if(M!==p[0]&&(M=this.sqr(M)),D===0&&R===0){m=0;continue}R<<=1,R|=D,m++,!(m!==h&&(_!==0||P!==0))&&(M=this.mul(M,p[R]),m=0,R=0)}s=26}return M},Y.prototype.convertTo=function(i){var l=i.umod(this.m);return l===i?l.clone():l},Y.prototype.convertFrom=function(i){var l=i.clone();return l.red=null,l},o.mont=function(i){return new se(i)};function se(y){Y.call(this,y),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c(se,Y),se.prototype.convertTo=function(i){return this.imod(i.ushln(this.shift))},se.prototype.convertFrom=function(i){var l=this.imod(i.mul(this.rinv));return l.red=null,l},se.prototype.imul=function(i,l){if(i.isZero()||l.isZero())return i.words[0]=0,i.length=1,i;var h=i.imul(l),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=h.isub(p).iushrn(this.shift),M=_;return _.cmp(this.m)>=0?M=_.isub(this.m):_.cmpn(0)<0&&(M=_.iadd(this.m)),M._forceRed(this)},se.prototype.mul=function(i,l){if(i.isZero()||l.isZero())return new o(0)._forceRed(this);var h=i.mul(l),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=h.isub(p).iushrn(this.shift),M=_;return _.cmp(this.m)>=0?M=_.isub(this.m):_.cmpn(0)<0&&(M=_.iadd(this.m)),M._forceRed(this)},se.prototype.invm=function(i){var l=this.imod(i._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(t,Pe)})(Ji);const Wa=Ji.exports;var Ha=Vn;Vn.strict=Vi;Vn.loose=Ki;var za=Object.prototype.toString,ja={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function Vn(t){return Vi(t)||Ki(t)}function Vi(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function Ki(t){return ja[za.call(t)]}var Ja=Ha.strict,Va=function(e){if(Ja(e)){var n=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(n=n.slice(e.byteOffset,e.byteOffset+e.byteLength)),n}else return Buffer.from(e)};const Yi="hex",Qi="utf8",Ht="0";function ot(t){return new Uint8Array(t)}function Gi(t,e=!1){const n=t.toString(Yi);return e?pt(n):n}function Ka(t){return t.toString(Qi)}function zt(t){return Va(t)}function rt(t,e=!1){return Gi(zt(t),e)}function Ya(t){return Ka(zt(t))}function Qa(t){return Buffer.from(Ke(t),Yi)}function it(t){return ot(Qa(t))}function Kn(t){return Buffer.from(t,Qi)}function Ga(t){return ot(Kn(t))}function Za(t,e=!1){return Gi(Kn(t),e)}function Xa(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function Zi(...t){let e=[];return t.forEach(n=>e=e.concat(Array.from(n))),new Uint8Array([...e])}function ec(t,e=8){const n=t%e;return n?(t-n)/e*e+e:t}function tc(t,e=8,n=Ht){return nc(t,ec(t.length,e),n)}function nc(t,e,n=Ht){return ic(t,e,!0,n)}function Ke(t){return t.replace(/^0x/,"")}function pt(t){return t.startsWith("0x")?t:`0x${t}`}function Xi(t){return t=Ke(t),t=tc(t,2),t&&(t=pt(t)),t}function rc(t){const e=t.startsWith("0x");return t=Ke(t),t=t.startsWith(Ht)?t.substring(1):t,e?pt(t):t}function ic(t,e,n,r=Ht){const c=e-t.length;let o=t;if(c>0){const d=r.repeat(c);o=n?d+t:t+d}return o}function In(t){return zt(new Uint8Array(t))}function oc(t,e){return rt(new Uint8Array(t),!e)}function sc(t){return ot(t).buffer}function ac(t){return Kn(t)}function cc(t,e){return Za(t,!e)}function uc(t){return it(t).buffer}function eo(t,e){const n=Ke(Xi(new Wa(t).toString(16)));return e?n:pt(n)}function lc(){const t=Date.now()*Math.pow(10,3),e=Math.floor(Math.random()*Math.pow(10,3));return t+e}function Tt(t){return Xi(t)}function fc(t){return rc(pt(t))}const hc=lc;function vn(){return((e,n)=>{for(n=e="";e++<36;n+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return n})()}function dc(t,e){let n;const r=$a[t];return r&&(n=`https://${r}.infura.io/v3/${e}`),n}function pc(t,e){let n;const r=dc(t,e.infuraId);return e.custom&&e.custom[t]?n=e.custom[t]:r&&(n=r),n}function gc(t){return t===""||typeof t=="string"&&t.trim()===""}function mc(t){return!(t&&t.length)}function to(t,e){return Xa(t,e)}function vc(t){return typeof t.method<"u"}function mt(t){return typeof t.result<"u"}function Ot(t){return typeof t.error<"u"}function Lr(t){return typeof t.event<"u"}function _c(t){return qa.includes(t)||t.startsWith("wc_")}function wc(t){return t.method.startsWith("wc_")?!0:!Jn.includes(t.method)}function yc(t){t=Ke(t.toLowerCase());const e=Ke(vs.exports.keccak_256(ac(t)));let n="";for(let r=0;r<t.length;r++)parseInt(e[r],16)>7?n+=t[r].toUpperCase():n+=t[r];return pt(n)}const bc=t=>t?t.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(t)?/^(0x)?[0-9a-f]{40}$/.test(t)||/^(0x)?[0-9A-F]{40}$/.test(t)?!0:t===yc(t):!1:!1;function Ur(t){return!mc(t)&&!to(t[0])&&(t[0]=cc(t[0])),t}function _n(t){if(typeof t.type<"u"&&t.type!=="0")return t;if(typeof t.from>"u"||!bc(t.from))throw new Error("Transaction object must include a valid 'from' value.");function e(c){let o=c;return(typeof c=="number"||typeof c=="string"&&!gc(c))&&(to(c)?typeof c=="string"&&(o=Tt(c)):o=eo(c)),typeof o=="string"&&(o=fc(o)),o}const n={from:Tt(t.from),to:typeof t.to>"u"?void 0:Tt(t.to),gasPrice:typeof t.gasPrice>"u"?"":e(t.gasPrice),gas:typeof t.gas>"u"?typeof t.gasLimit>"u"?"":e(t.gasLimit):e(t.gas),value:typeof t.value>"u"?"":e(t.value),nonce:typeof t.nonce>"u"?"":e(t.nonce),data:typeof t.data>"u"?"":Tt(t.data)||"0x"},r=["gasPrice","gas","value","nonce"];return Object.keys(n).forEach(c=>{(typeof n[c]>"u"||typeof n[c]=="string"&&!n[c].trim().length)&&r.includes(c)&&delete n[c]}),n}function Mc(t){const e=t.message||"Failed or Rejected Request";let n=-32e3;if(t&&!t.code)switch(e){case"Parse error":n=-32700;break;case"Invalid request":n=-32600;break;case"Method not found":n=-32601;break;case"Invalid params":n=-32602;break;case"Internal error":n=-32603;break;default:n=-32e3;break}const r={code:n,message:e};return t.data&&(r.data=t.data),r}var Yn={};(function(t){const e=ys,n=bs,r=ws,c=S=>S==null;function o(S){switch(S.arrayFormat){case"index":return C=>(A,T)=>{const B=A.length;return T===void 0||S.skipNull&&T===null||S.skipEmptyString&&T===""?A:T===null?[...A,[b(C,S),"[",B,"]"].join("")]:[...A,[b(C,S),"[",b(B,S),"]=",b(T,S)].join("")]};case"bracket":return C=>(A,T)=>T===void 0||S.skipNull&&T===null||S.skipEmptyString&&T===""?A:T===null?[...A,[b(C,S),"[]"].join("")]:[...A,[b(C,S),"[]=",b(T,S)].join("")];case"comma":case"separator":return C=>(A,T)=>T==null||T.length===0?A:A.length===0?[[b(C,S),"=",b(T,S)].join("")]:[[A,b(T,S)].join(S.arrayFormatSeparator)];default:return C=>(A,T)=>T===void 0||S.skipNull&&T===null||S.skipEmptyString&&T===""?A:T===null?[...A,b(C,S)]:[...A,[b(C,S),"=",b(T,S)].join("")]}}function d(S){let C;switch(S.arrayFormat){case"index":return(A,T,B)=>{if(C=/\[(\d*)\]$/.exec(A),A=A.replace(/\[\d*\]$/,""),!C){B[A]=T;return}B[A]===void 0&&(B[A]={}),B[A][C[1]]=T};case"bracket":return(A,T,B)=>{if(C=/(\[\])$/.exec(A),A=A.replace(/\[\]$/,""),!C){B[A]=T;return}if(B[A]===void 0){B[A]=[T];return}B[A]=[].concat(B[A],T)};case"comma":case"separator":return(A,T,B)=>{const H=typeof T=="string"&&T.split("").indexOf(S.arrayFormatSeparator)>-1?T.split(S.arrayFormatSeparator).map(K=>I(K,S)):T===null?T:I(T,S);B[A]=H};default:return(A,T,B)=>{if(B[A]===void 0){B[A]=T;return}B[A]=[].concat(B[A],T)}}}function f(S){if(typeof S!="string"||S.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function b(S,C){return C.encode?C.strict?e(S):encodeURIComponent(S):S}function I(S,C){return C.decode?n(S):S}function x(S){return Array.isArray(S)?S.sort():typeof S=="object"?x(Object.keys(S)).sort((C,A)=>Number(C)-Number(A)).map(C=>S[C]):S}function N(S){const C=S.indexOf("#");return C!==-1&&(S=S.slice(0,C)),S}function L(S){let C="";const A=S.indexOf("#");return A!==-1&&(C=S.slice(A)),C}function F(S){S=N(S);const C=S.indexOf("?");return C===-1?"":S.slice(C+1)}function U(S,C){return C.parseNumbers&&!Number.isNaN(Number(S))&&typeof S=="string"&&S.trim()!==""?S=Number(S):C.parseBooleans&&S!==null&&(S.toLowerCase()==="true"||S.toLowerCase()==="false")&&(S=S.toLowerCase()==="true"),S}function $(S,C){C=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},C),f(C.arrayFormatSeparator);const A=d(C),T=Object.create(null);if(typeof S!="string"||(S=S.trim().replace(/^[?#&]/,""),!S))return T;for(const B of S.split("&")){let[W,H]=r(C.decode?B.replace(/\+/g," "):B,"=");H=H===void 0?null:["comma","separator"].includes(C.arrayFormat)?H:I(H,C),A(I(W,C),H,T)}for(const B of Object.keys(T)){const W=T[B];if(typeof W=="object"&&W!==null)for(const H of Object.keys(W))W[H]=U(W[H],C);else T[B]=U(W,C)}return C.sort===!1?T:(C.sort===!0?Object.keys(T).sort():Object.keys(T).sort(C.sort)).reduce((B,W)=>{const H=T[W];return Boolean(H)&&typeof H=="object"&&!Array.isArray(H)?B[W]=x(H):B[W]=H,B},Object.create(null))}t.extract=F,t.parse=$,t.stringify=(S,C)=>{if(!S)return"";C=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},C),f(C.arrayFormatSeparator);const A=H=>C.skipNull&&c(S[H])||C.skipEmptyString&&S[H]==="",T=o(C),B={};for(const H of Object.keys(S))A(H)||(B[H]=S[H]);const W=Object.keys(B);return C.sort!==!1&&W.sort(C.sort),W.map(H=>{const K=S[H];return K===void 0?"":K===null?b(H,C):Array.isArray(K)?K.reduce(T(H),[]).join("&"):b(H,C)+"="+b(K,C)}).filter(H=>H.length>0).join("&")},t.parseUrl=(S,C)=>{C=Object.assign({decode:!0},C);const[A,T]=r(S,"#");return Object.assign({url:A.split("?")[0]||"",query:$(F(S),C)},C&&C.parseFragmentIdentifier&&T?{fragmentIdentifier:I(T,C)}:{})},t.stringifyUrl=(S,C)=>{C=Object.assign({encode:!0,strict:!0},C);const A=N(S.url).split("?")[0]||"",T=t.extract(S.url),B=t.parse(T,{sort:!1}),W=Object.assign(B,S.query);let H=t.stringify(W,C);H&&(H=`?${H}`);let K=L(S.url);return S.fragmentIdentifier&&(K=`#${b(S.fragmentIdentifier,C)}`),`${A}${H}${K}`}})(Yn);function Ec(t){const e=t.indexOf("?")!==-1?t.indexOf("?"):void 0;return typeof e<"u"?t.substr(e):""}function xc(t,e){let n=no(t);return n=Object.assign(Object.assign({},n),e),t=Sc(n),t}function no(t){return Yn.parse(t)}function Sc(t){return Yn.stringify(t)}function Rc(t){return typeof t.bridge<"u"}function Cc(t){const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),c=t.substring(e+1,n);function o(N){const L="@",F=N.split(L);return{handshakeTopic:F[0],version:parseInt(F[1],10)}}const d=o(c),f=typeof n<"u"?t.substr(n):"";function b(N){const L=no(N);return{key:L.key||"",bridge:L.bridge||""}}const I=b(f);return Object.assign(Object.assign({protocol:r},d),I)}class Ic{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(e,n){this._eventEmitters.push({event:e,callback:n})}trigger(e){let n=[];e&&(n=this._eventEmitters.filter(r=>r.event===e)),n.forEach(r=>{r.callback()})}}const Tc=typeof global.WebSocket<"u"?global.WebSocket:require("ws");class Ac{constructor(e){if(this.opts=e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=e.protocol,this._version=e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=e.subscriptions||[],this._netMonitor=e.netMonitor||new Ic,!e.url||typeof e.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=e.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(e){}get connecting(){return this.readyState===0}set connected(e){}get connected(){return this.readyState===1}set closing(e){}get closing(){return this.readyState===2}set closed(e){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(e,n,r){if(!n||typeof n!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:n,type:"pub",payload:e,silent:!!r})}subscribe(e){this._socketSend({topic:e,type:"sub",payload:"",silent:!0})}on(e,n){this._events.push({event:e,callback:n})}_socketCreate(){if(this._nextSocket)return;const e=kc(this._url,this._protocol,this._version);if(this._nextSocket=new Tc(e),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=n=>this._socketReceive(n),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=n=>this._socketError(n),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(e){const n=JSON.stringify(e);this._socket&&this._socket.readyState===1?this._socket.send(n):(this._setToQueue(e),this._socketCreate())}async _socketReceive(e){let n;try{n=JSON.parse(e.data)}catch{return}if(this._socketSend({topic:n.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const r=this._events.filter(c=>c.event==="message");r&&r.length&&r.forEach(c=>c.callback(n))}}_socketError(e){const n=this._events.filter(r=>r.event==="error");n&&n.length&&n.forEach(r=>r.callback(e))}_queueSubscriptions(){this._subscriptions.forEach(n=>this._queue.push({topic:n,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(e){this._queue.push(e)}_pushQueue(){this._queue.forEach(n=>this._socketSend(n)),this._queue=[]}}function kc(t,e,n){var r,c;const d=(t.startsWith("https")?t.replace("https","wss"):t.startsWith("http")?t.replace("http","ws"):t).split("?"),f=Fi()?{protocol:e,version:n,env:"browser",host:((r=qi())===null||r===void 0?void 0:r.host)||""}:{protocol:e,version:n,env:((c=qt())===null||c===void 0?void 0:c.name)||""},b=xc(Ec(d[1]||""),f);return d[0]+"?"+b}const wn="Session currently connected",Xe="Session currently disconnected",Bc="Session Rejected",Nc="Missing JSON RPC response",Oc='JSON-RPC success response must include "result" field',Lc='JSON-RPC error response must include "error" field',Uc='JSON RPC request must have valid "method" value',Pc='JSON RPC request must have valid "id" value',Fc="Missing one of the required parameters: bridge / uri / session",Pr="JSON RPC response format is invalid",Dc="URI format is invalid",qc="QRCode Modal not provided",Fr="User close QRCode Modal";class $c{constructor(){this._eventEmitters=[]}subscribe(e){this._eventEmitters.push(e)}unsubscribe(e){this._eventEmitters=this._eventEmitters.filter(n=>n.event!==e)}trigger(e){let n=[],r;vc(e)?r=e.method:mt(e)||Ot(e)?r=`response:${e.id}`:Lr(e)?r=e.event:r="",r&&(n=this._eventEmitters.filter(c=>c.event===r)),(!n||!n.length)&&!_c(r)&&!Lr(r)&&(n=this._eventEmitters.filter(c=>c.event==="call_request")),n.forEach(c=>{if(Ot(e)){const o=new Error(e.error.message);c.callback(o,null)}else c.callback(null,e)})}}class Wc{constructor(e="walletconnect"){this.storageId=e}getSession(){let e=null;const n=zn(this.storageId);return n&&Rc(n)&&(e=n),e}setSession(e){return Hn(this.storageId,e),e}removeSession(){jn(this.storageId)}}const Hc="walletconnect.org",zc="abcdefghijklmnopqrstuvwxyz0123456789",ro=zc.split("").map(t=>`https://${t}.bridge.walletconnect.org`);function jc(t){let e=t.indexOf("//")>-1?t.split("/")[2]:t.split("/")[0];return e=e.split(":")[0],e=e.split("?")[0],e}function Jc(t){return jc(t).split(".").slice(-2).join(".")}function Vc(){return Math.floor(Math.random()*ro.length)}function Kc(){return ro[Vc()]}function Yc(t){return Jc(t)===Hc}function Qc(t){return Yc(t)?Kc():t}class Gc{constructor(e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new $c,this._clientMeta=Cn()||e.connectorOpts.clientMeta||null,this._cryptoLib=e.cryptoLib,this._sessionStorage=e.sessionStorage||new Wc(e.connectorOpts.storageId),this._qrcodeModal=e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...Jn,...e.connectorOpts.signingMethods||[]],!e.connectorOpts.bridge&&!e.connectorOpts.uri&&!e.connectorOpts.session)throw new Error(Fc);e.connectorOpts.bridge&&(this.bridge=Qc(e.connectorOpts.bridge)),e.connectorOpts.uri&&(this.uri=e.connectorOpts.uri);const n=e.connectorOpts.session||this._getStorageSession();n&&(this.session=n),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=e.transport||new Ac({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),e.connectorOpts.uri&&this._subscribeToSessionRequest(),e.pushServerOpts&&this._registerPushServer(e.pushServerOpts)}set bridge(e){!e||(this._bridge=e)}get bridge(){return this._bridge}set key(e){if(!e)return;const n=uc(e);this._key=n}get key(){return this._key?oc(this._key,!0):""}set clientId(e){!e||(this._clientId=e)}get clientId(){let e=this._clientId;return e||(e=this._clientId=vn()),this._clientId}set peerId(e){!e||(this._peerId=e)}get peerId(){return this._peerId}set clientMeta(e){}get clientMeta(){let e=this._clientMeta;return e||(e=this._clientMeta=Cn()),e}set peerMeta(e){this._peerMeta=e}get peerMeta(){return this._peerMeta}set handshakeTopic(e){!e||(this._handshakeTopic=e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(e){!e||(this._handshakeId=e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(e){if(!e)return;const{handshakeTopic:n,bridge:r,key:c}=this._parseUri(e);this.handshakeTopic=n,this.bridge=r,this.key=c}set chainId(e){this._chainId=e}get chainId(){return this._chainId}set networkId(e){this._networkId=e}get networkId(){return this._networkId}set accounts(e){this._accounts=e}get accounts(){return this._accounts}set rpcUrl(e){this._rpcUrl=e}get rpcUrl(){return this._rpcUrl}set connected(e){}get connected(){return this._connected}set pending(e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(e){!e||(this._connected=e.connected,this.accounts=e.accounts,this.chainId=e.chainId,this.bridge=e.bridge,this.key=e.key,this.clientId=e.clientId,this.clientMeta=e.clientMeta,this.peerId=e.peerId,this.peerMeta=e.peerMeta,this.handshakeId=e.handshakeId,this.handshakeTopic=e.handshakeTopic)}on(e,n){const r={event:e,callback:n};this._eventManager.subscribe(r)}off(e){this._eventManager.unsubscribe(e)}async createInstantRequest(e){this._key=await this._generateKey();const n=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(e)}]});this.handshakeId=n.id,this.handshakeTopic=vn(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(Fr)});const r=()=>{this.killSession()};try{const c=await this._sendCallRequest(n);return c&&r(),c}catch(c){throw r(),c}}async connect(e){if(!this._qrcodeModal)throw new Error(qc);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(e),new Promise(async(n,r)=>{this.on("modal_closed",()=>r(new Error(Fr))),this.on("connect",(c,o)=>{if(c)return r(c);n(o.params[0])})}))}async createSession(e){if(this._connected)throw new Error(wn);if(this.pending)return;this._key=await this._generateKey();const n=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:e&&e.chainId?e.chainId:null}]});this.handshakeId=n.id,this.handshakeTopic=vn(),this._sendSessionRequest(n,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(e){if(this._connected)throw new Error(wn);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const n={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},r={id:this.handshakeId,jsonrpc:"2.0",result:n};this._sendResponse(r),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(e){if(this._connected)throw new Error(wn);const n=e&&e.message?e.message:Bc,r=this._formatResponse({id:this.handshakeId,error:{message:n}});this._sendResponse(r),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:n}]}),this._removeStorageSession()}updateSession(e){if(!this._connected)throw new Error(Xe);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const n={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},r=this._formatRequest({method:"wc_sessionUpdate",params:[n]});this._sendSessionRequest(r,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(e){const n=e?e.message:"Session Disconnected",r={approved:!1,chainId:null,networkId:null,accounts:null},c=this._formatRequest({method:"wc_sessionUpdate",params:[r]});await this._sendRequest(c),this._handleSessionDisconnect(n)}async sendTransaction(e){if(!this._connected)throw new Error(Xe);const n=_n(e),r=this._formatRequest({method:"eth_sendTransaction",params:[n]});return await this._sendCallRequest(r)}async signTransaction(e){if(!this._connected)throw new Error(Xe);const n=_n(e),r=this._formatRequest({method:"eth_signTransaction",params:[n]});return await this._sendCallRequest(r)}async signMessage(e){if(!this._connected)throw new Error(Xe);const n=this._formatRequest({method:"eth_sign",params:e});return await this._sendCallRequest(n)}async signPersonalMessage(e){if(!this._connected)throw new Error(Xe);e=Ur(e);const n=this._formatRequest({method:"personal_sign",params:e});return await this._sendCallRequest(n)}async signTypedData(e){if(!this._connected)throw new Error(Xe);const n=this._formatRequest({method:"eth_signTypedData",params:e});return await this._sendCallRequest(n)}async updateChain(e){if(!this._connected)throw new Error("Session currently disconnected");const n=this._formatRequest({method:"wallet_updateChain",params:[e]});return await this._sendCallRequest(n)}unsafeSend(e,n){return this._sendRequest(e,n),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:n}]}),new Promise((r,c)=>{this._subscribeToResponse(e.id,(o,d)=>{if(o){c(o);return}if(!d)throw new Error(Nc);r(d)})})}async sendCustomRequest(e,n){if(!this._connected)throw new Error(Xe);switch(e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return eo(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":e.params&&(e.params[0]=_n(e.params[0]));break;case"personal_sign":e.params&&(e.params=Ur(e.params));break}const r=this._formatRequest(e);return await this._sendCallRequest(r,n)}approveRequest(e){if(mt(e)){const n=this._formatResponse(e);this._sendResponse(n)}else throw new Error(Oc)}rejectRequest(e){if(Ot(e)){const n=this._formatResponse(e);this._sendResponse(n)}else throw new Error(Lc)}transportClose(){this._transport.close()}async _sendRequest(e,n){const r=this._formatRequest(e),c=await this._encrypt(r),o=typeof(n==null?void 0:n.topic)<"u"?n.topic:this.peerId,d=JSON.stringify(c),f=typeof(n==null?void 0:n.forcePushNotification)<"u"?!n.forcePushNotification:wc(r);this._transport.send(d,o,f)}async _sendResponse(e){const n=await this._encrypt(e),r=this.peerId,c=JSON.stringify(n),o=!0;this._transport.send(c,r,o)}async _sendSessionRequest(e,n,r){this._sendRequest(e,r),this._subscribeToSessionResponse(e.id,n)}_sendCallRequest(e,n){return this._sendRequest(e,n),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:n}]}),this._subscribeToCallResponse(e.id)}_formatRequest(e){if(typeof e.method>"u")throw new Error(Uc);return{id:typeof e.id>"u"?hc():e.id,jsonrpc:"2.0",method:e.method,params:typeof e.params>"u"?[]:e.params}}_formatResponse(e){if(typeof e.id>"u")throw new Error(Pc);const n={id:e.id,jsonrpc:"2.0"};if(Ot(e)){const r=Mc(e.error);return Object.assign(Object.assign(Object.assign({},n),e),{error:r})}else if(mt(e))return Object.assign(Object.assign({},n),e);throw new Error(Pr)}_handleSessionDisconnect(e){const n=e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),jn(Nt)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:n}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(e,n){n?n.approved?(this._connected?(n.chainId&&(this.chainId=n.chainId),n.accounts&&(this.accounts=n.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,n.chainId&&(this.chainId=n.chainId),n.accounts&&(this.accounts=n.accounts),n.peerId&&!this.peerId&&(this.peerId=n.peerId),n.peerMeta&&!this.peerMeta&&(this.peerMeta=n.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(e):this._handleSessionDisconnect(e)}async _handleIncomingMessages(e){if(![this.clientId,this.handshakeTopic].includes(e.topic))return;let r;try{r=JSON.parse(e.payload)}catch{return}const c=await this._decrypt(r);c&&this._eventManager.trigger(c)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(e,n){this.on(`response:${e}`,n)}_subscribeToSessionResponse(e,n){this._subscribeToResponse(e,(r,c)=>{if(r){this._handleSessionResponse(r.message);return}mt(c)?this._handleSessionResponse(n,c.result):c.error&&c.error.message?this._handleSessionResponse(c.error.message):this._handleSessionResponse(n)})}_subscribeToCallResponse(e){return new Promise((n,r)=>{this._subscribeToResponse(e,(c,o)=>{if(c){r(c);return}mt(o)?n(o.result):o.error&&o.error.message?r(o.error):r(new Error(Pr))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(e,n)=>{const{request:r}=n.params[0];if(Ui()&&this._signingMethods.includes(r.method)){const c=zn(Nt);c&&(window.location.href=c.href)}}),this.on("wc_sessionRequest",(e,n)=>{e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:e.toString()}]}),this.handshakeId=n.id,this.peerId=n.params[0].peerId,this.peerMeta=n.params[0].peerMeta;const r=Object.assign(Object.assign({},n),{method:"session_request"});this._eventManager.trigger(r)}),this.on("wc_sessionUpdate",(e,n)=>{e&&this._handleSessionResponse(e.message),this._handleSessionResponse("Session disconnected",n.params[0])})}_initTransport(){this._transport.on("message",e=>this._handleIncomingMessages(e)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const e=this.protocol,n=this.handshakeTopic,r=this.version,c=encodeURIComponent(this.bridge),o=this.key;return`${e}:${n}@${r}?bridge=${c}&key=${o}`}_parseUri(e){const n=Cc(e);if(n.protocol===this.protocol){if(!n.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const r=n.handshakeTopic;if(!n.bridge)throw Error("Invalid or missing bridge url parameter value");const c=decodeURIComponent(n.bridge);if(!n.key)throw Error("Invalid or missing key parameter value");const o=n.key;return{handshakeTopic:r,bridge:c,key:o}}else throw new Error(Dc)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(e){const n=this._key;return this._cryptoLib&&n?await this._cryptoLib.encrypt(e,n):null}async _decrypt(e){const n=this._key;return this._cryptoLib&&n?await this._cryptoLib.decrypt(e,n):null}_getStorageSession(){let e=null;return this._sessionStorage&&(e=this._sessionStorage.getSession()),e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(e){if(!e.url||typeof e.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!e.type||typeof e.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!e.token||typeof e.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const n={bridge:this.bridge,topic:this.clientId,type:e.type,token:e.token,peerName:"",language:e.language||""};this.on("connect",async(r,c)=>{if(r)throw r;if(e.peerMeta){const o=c.params[0].peerMeta.name;n.peerName=o}try{if(!(await(await fetch(`${e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function Zc(t){return ht.getBrowerCrypto().getRandomValues(new Uint8Array(t))}const io=256,oo=io,Xc=io,Ye="AES-CBC",eu=`SHA-${oo}`,Tn="HMAC",tu="encrypt",nu="decrypt",ru="sign",iu="verify";function ou(t){return t===Ye?{length:oo,name:Ye}:{hash:{name:eu},name:Tn}}function su(t){return t===Ye?[tu,nu]:[ru,iu]}async function Qn(t,e=Ye){return ht.getSubtleCrypto().importKey("raw",t,ou(e),!0,su(e))}async function au(t,e,n){const r=ht.getSubtleCrypto(),c=await Qn(e,Ye),o=await r.encrypt({iv:t,name:Ye},c,n);return new Uint8Array(o)}async function cu(t,e,n){const r=ht.getSubtleCrypto(),c=await Qn(e,Ye),o=await r.decrypt({iv:t,name:Ye},c,n);return new Uint8Array(o)}async function uu(t,e){const n=ht.getSubtleCrypto(),r=await Qn(t,Tn),c=await n.sign({length:Xc,name:Tn},r,e);return new Uint8Array(c)}function lu(t,e,n){return au(t,e,n)}function fu(t,e,n){return cu(t,e,n)}async function so(t,e){return await uu(t,e)}async function ao(t){const e=(t||256)/8,n=Zc(e);return sc(zt(n))}async function co(t,e){const n=it(t.data),r=it(t.iv),c=it(t.hmac),o=rt(c,!1),d=Zi(n,r),f=await so(e,d),b=rt(f,!1);return Ke(o)===Ke(b)}async function hu(t,e,n){const r=ot(In(e)),c=n||await ao(128),o=ot(In(c)),d=rt(o,!1),f=JSON.stringify(t),b=Ga(f),I=await lu(o,r,b),x=rt(I,!1),N=Zi(I,o),L=await so(r,N),F=rt(L,!1);return{data:x,hmac:F,iv:d}}async function du(t,e){const n=ot(In(e));if(!n)throw new Error("Missing key: required for decryption");if(!await co(t,n))return null;const c=it(t.data),o=it(t.iv),d=await fu(o,n,c),f=Ya(d);let b;try{b=JSON.parse(f)}catch{return null}return b}const pu=Object.freeze(Object.defineProperty({__proto__:null,generateKey:ao,verifyHmac:co,encrypt:hu,decrypt:du},Symbol.toStringTag,{value:"Module"}));class gu extends Gc{constructor(e,n){super({cryptoLib:pu,connectorOpts:e,pushServerOpts:n})}}const mu=hi(Da);var St={},vu=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},uo={},Qe={},_u={}.toString,Gn=Array.isArray||function(t){return _u.call(t)=="[object Array]"},wu=Gn;function yu(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},t.foo()===42}catch{return!1}}X.TYPED_ARRAY_SUPPORT=yu();var Dr=X.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function X(t,e,n){return!X.TYPED_ARRAY_SUPPORT&&!(this instanceof X)?new X(t,e,n):typeof t=="number"?lo(this,t):Cu(this,t,e,n)}X.TYPED_ARRAY_SUPPORT&&(X.prototype.__proto__=Uint8Array.prototype,X.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&X[Symbol.species]===X&&Object.defineProperty(X,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function Zn(t){if(t>=Dr)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Dr.toString(16)+" bytes");return t|0}function bu(t){return t!==t}function st(t,e){var n;return X.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(e),n.__proto__=X.prototype):(n=t,n===null&&(n=new X(e)),n.length=e),n}function lo(t,e){var n=st(t,e<0?0:Zn(e)|0);if(!X.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)n[r]=0;return n}function Mu(t,e){var n=ho(e)|0,r=st(t,n),c=r.write(e);return c!==n&&(r=r.slice(0,c)),r}function An(t,e){for(var n=e.length<0?0:Zn(e.length)|0,r=st(t,n),c=0;c<n;c+=1)r[c]=e[c]&255;return r}function Eu(t,e,n,r){if(n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");var c;return n===void 0&&r===void 0?c=new Uint8Array(e):r===void 0?c=new Uint8Array(e,n):c=new Uint8Array(e,n,r),X.TYPED_ARRAY_SUPPORT?c.__proto__=X.prototype:c=An(t,c),c}function xu(t,e){if(X.isBuffer(e)){var n=Zn(e.length)|0,r=st(t,n);return r.length===0||e.copy(r,0,0,n),r}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||bu(e.length)?st(t,0):An(t,e);if(e.type==="Buffer"&&Array.isArray(e.data))return An(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function fo(t,e){e=e||1/0;for(var n,r=t.length,c=null,o=[],d=0;d<r;++d){if(n=t.charCodeAt(d),n>55295&&n<57344){if(!c){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(d+1===r){(e-=3)>-1&&o.push(239,191,189);continue}c=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),c=n;continue}n=(c-55296<<10|n-56320)+65536}else c&&(e-=3)>-1&&o.push(239,191,189);if(c=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,n&63|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return o}function ho(t){if(X.isBuffer(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var e=t.length;return e===0?0:fo(t).length}function Su(t,e,n,r){for(var c=0;c<r&&!(c+n>=e.length||c>=t.length);++c)e[c+n]=t[c];return c}function Ru(t,e,n,r){return Su(fo(e,t.length-n),t,n,r)}function Cu(t,e,n,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?Eu(t,e,n,r):typeof e=="string"?Mu(t,e):xu(t,e)}X.prototype.write=function(e,n,r){n===void 0?(r=this.length,n=0):r===void 0&&typeof n=="string"?(r=this.length,n=0):isFinite(n)&&(n=n|0,isFinite(r)?r=r|0:r=void 0);var c=this.length-n;if((r===void 0||r>c)&&(r=c),e.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");return Ru(this,e,n,r)};X.prototype.slice=function(e,n){var r=this.length;e=~~e,n=n===void 0?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var c;if(X.TYPED_ARRAY_SUPPORT)c=this.subarray(e,n),c.__proto__=X.prototype;else{var o=n-e;c=new X(o,void 0);for(var d=0;d<o;++d)c[d]=this[d+e]}return c};X.prototype.copy=function(e,n,r,c){if(r||(r=0),!c&&c!==0&&(c=this.length),n>=e.length&&(n=e.length),n||(n=0),c>0&&c<r&&(c=r),c===r||e.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(c<0)throw new RangeError("sourceEnd out of bounds");c>this.length&&(c=this.length),e.length-n<c-r&&(c=e.length-n+r);var o=c-r,d;if(this===e&&r<n&&n<c)for(d=o-1;d>=0;--d)e[d+n]=this[d+r];else if(o<1e3||!X.TYPED_ARRAY_SUPPORT)for(d=0;d<o;++d)e[d+n]=this[d+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),n);return o};X.prototype.fill=function(e,n,r){if(typeof e=="string"){if(typeof n=="string"?(n=0,r=this.length):typeof r=="string"&&(r=this.length),e.length===1){var c=e.charCodeAt(0);c<256&&(e=c)}}else typeof e=="number"&&(e=e&255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n=n>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);var o;if(typeof e=="number")for(o=n;o<r;++o)this[o]=e;else{var d=X.isBuffer(e)?e:new X(e),f=d.length;for(o=0;o<r-n;++o)this[o+n]=d[o%f]}return this};X.concat=function(e,n){if(!wu(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return st(null,0);var r;if(n===void 0)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var c=lo(null,n),o=0;for(r=0;r<e.length;++r){var d=e[r];if(!X.isBuffer(d))throw new TypeError('"list" argument must be an Array of Buffers');d.copy(c,o),o+=d.length}return c};X.byteLength=ho;X.prototype._isBuffer=!0;X.isBuffer=function(e){return!!(e!=null&&e._isBuffer)};Qe.alloc=function(t){var e=new X(t);return e.fill(0),e};Qe.from=function(t){return new X(t)};var Ue={},Xn,Iu=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ue.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Ue.getSymbolTotalCodewords=function(e){return Iu[e]};Ue.getBCHDigit=function(t){for(var e=0;t!==0;)e++,t>>>=1;return e};Ue.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Xn=e};Ue.isKanjiModeEnabled=function(){return typeof Xn<"u"};Ue.toSJIS=function(e){return Xn(e)};var jt={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");var r=n.toLowerCase();switch(r){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,c){if(t.isValid(r))return r;try{return e(r)}catch{return c}}})(jt);function po(){this.buffer=[],this.length=0}po.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(var n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Tu=po,qr=Qe;function Rt(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=qr.alloc(t*t),this.reservedBit=qr.alloc(t*t)}Rt.prototype.set=function(t,e,n,r){var c=t*this.size+e;this.data[c]=n,r&&(this.reservedBit[c]=!0)};Rt.prototype.get=function(t,e){return this.data[t*this.size+e]};Rt.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Rt.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Au=Rt,go={};(function(t){var e=Ue.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];for(var c=Math.floor(r/7)+2,o=e(r),d=o===145?26:Math.ceil((o-13)/(2*c-2))*2,f=[o-7],b=1;b<c-1;b++)f[b]=f[b-1]-d;return f.push(6),f.reverse()},t.getPositions=function(r){for(var c=[],o=t.getRowColCoords(r),d=o.length,f=0;f<d;f++)for(var b=0;b<d;b++)f===0&&b===0||f===0&&b===d-1||f===d-1&&b===0||c.push([o[f],o[b]]);return c}})(go);var mo={},ku=Ue.getSymbolSize,$r=7;mo.getPositions=function(e){var n=ku(e);return[[0,0],[n-$r,0],[0,n-$r]]};var vo={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(c){return c!=null&&c!==""&&!isNaN(c)&&c>=0&&c<=7},t.from=function(c){return t.isValid(c)?parseInt(c,10):void 0},t.getPenaltyN1=function(c){for(var o=c.size,d=0,f=0,b=0,I=null,x=null,N=0;N<o;N++){f=b=0,I=x=null;for(var L=0;L<o;L++){var F=c.get(N,L);F===I?f++:(f>=5&&(d+=e.N1+(f-5)),I=F,f=1),F=c.get(L,N),F===x?b++:(b>=5&&(d+=e.N1+(b-5)),x=F,b=1)}f>=5&&(d+=e.N1+(f-5)),b>=5&&(d+=e.N1+(b-5))}return d},t.getPenaltyN2=function(c){for(var o=c.size,d=0,f=0;f<o-1;f++)for(var b=0;b<o-1;b++){var I=c.get(f,b)+c.get(f,b+1)+c.get(f+1,b)+c.get(f+1,b+1);(I===4||I===0)&&d++}return d*e.N2},t.getPenaltyN3=function(c){for(var o=c.size,d=0,f=0,b=0,I=0;I<o;I++){f=b=0;for(var x=0;x<o;x++)f=f<<1&2047|c.get(I,x),x>=10&&(f===1488||f===93)&&d++,b=b<<1&2047|c.get(x,I),x>=10&&(b===1488||b===93)&&d++}return d*e.N3},t.getPenaltyN4=function(c){for(var o=0,d=c.data.length,f=0;f<d;f++)o+=c.data[f];var b=Math.abs(Math.ceil(o*100/d/5)-10);return b*e.N4};function n(r,c,o){switch(r){case t.Patterns.PATTERN000:return(c+o)%2===0;case t.Patterns.PATTERN001:return c%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(c+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(c/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return c*o%2+c*o%3===0;case t.Patterns.PATTERN110:return(c*o%2+c*o%3)%2===0;case t.Patterns.PATTERN111:return(c*o%3+(c+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(c,o){for(var d=o.size,f=0;f<d;f++)for(var b=0;b<d;b++)o.isReserved(b,f)||o.xor(b,f,n(c,b,f))},t.getBestMask=function(c,o){for(var d=Object.keys(t.Patterns).length,f=0,b=1/0,I=0;I<d;I++){o(I),t.applyMask(I,c);var x=t.getPenaltyN1(c)+t.getPenaltyN2(c)+t.getPenaltyN3(c)+t.getPenaltyN4(c);t.applyMask(I,c),x<b&&(b=x,f=I)}return f}})(vo);var Jt={},ze=jt,At=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],kt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Jt.getBlocksCount=function(e,n){switch(n){case ze.L:return At[(e-1)*4+0];case ze.M:return At[(e-1)*4+1];case ze.Q:return At[(e-1)*4+2];case ze.H:return At[(e-1)*4+3];default:return}};Jt.getTotalCodewordsCount=function(e,n){switch(n){case ze.L:return kt[(e-1)*4+0];case ze.M:return kt[(e-1)*4+1];case ze.Q:return kt[(e-1)*4+2];case ze.H:return kt[(e-1)*4+3];default:return}};var _o={},Vt={},wo=Qe,_t=wo.alloc(512),Lt=wo.alloc(256);(function(){for(var e=1,n=0;n<255;n++)_t[n]=e,Lt[e]=n,e<<=1,e&256&&(e^=285);for(n=255;n<512;n++)_t[n]=_t[n-255]})();Vt.log=function(e){if(e<1)throw new Error("log("+e+")");return Lt[e]};Vt.exp=function(e){return _t[e]};Vt.mul=function(e,n){return e===0||n===0?0:_t[Lt[e]+Lt[n]]};(function(t){var e=Qe,n=Vt;t.mul=function(c,o){for(var d=e.alloc(c.length+o.length-1),f=0;f<c.length;f++)for(var b=0;b<o.length;b++)d[f+b]^=n.mul(c[f],o[b]);return d},t.mod=function(c,o){for(var d=e.from(c);d.length-o.length>=0;){for(var f=d[0],b=0;b<o.length;b++)d[b]^=n.mul(o[b],f);for(var I=0;I<d.length&&d[I]===0;)I++;d=d.slice(I)}return d},t.generateECPolynomial=function(c){for(var o=e.from([1]),d=0;d<c;d++)o=t.mul(o,[1,n.exp(d)]);return o}})(_o);var yo={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=Ms,n=Es,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=f,t.SlowBuffer=A,t.INSPECT_MAX_BYTES=50;var c=2147483647;t.kMaxLength=c,f.TYPED_ARRAY_SUPPORT=o(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var g=new Uint8Array(1),a={foo:function(){return 42}};return Object.setPrototypeOf(a,Uint8Array.prototype),Object.setPrototypeOf(g,a),g.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(!!f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(!!f.isBuffer(this))return this.byteOffset}});function d(g){if(g>c)throw new RangeError('The value "'+g+'" is invalid for option "size"');var a=new Uint8Array(g);return Object.setPrototypeOf(a,f.prototype),a}function f(g,a,u){if(typeof g=="number"){if(typeof a=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return N(g)}return b(g,a,u)}f.poolSize=8192;function b(g,a,u){if(typeof g=="string")return L(g,a);if(ArrayBuffer.isView(g))return U(g);if(g==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(Le(g,ArrayBuffer)||g&&Le(g.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(g,SharedArrayBuffer)||g&&Le(g.buffer,SharedArrayBuffer)))return $(g,a,u);if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var w=g.valueOf&&g.valueOf();if(w!=null&&w!==g)return f.from(w,a,u);var E=S(g);if(E)return E;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof g[Symbol.toPrimitive]=="function")return f.from(g[Symbol.toPrimitive]("string"),a,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}f.from=function(g,a,u){return b(g,a,u)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function I(g){if(typeof g!="number")throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function x(g,a,u){return I(g),g<=0?d(g):a!==void 0?typeof u=="string"?d(g).fill(a,u):d(g).fill(a):d(g)}f.alloc=function(g,a,u){return x(g,a,u)};function N(g){return I(g),d(g<0?0:C(g)|0)}f.allocUnsafe=function(g){return N(g)},f.allocUnsafeSlow=function(g){return N(g)};function L(g,a){if((typeof a!="string"||a==="")&&(a="utf8"),!f.isEncoding(a))throw new TypeError("Unknown encoding: "+a);var u=T(g,a)|0,w=d(u),E=w.write(g,a);return E!==u&&(w=w.slice(0,E)),w}function F(g){for(var a=g.length<0?0:C(g.length)|0,u=d(a),w=0;w<a;w+=1)u[w]=g[w]&255;return u}function U(g){if(Le(g,Uint8Array)){var a=new Uint8Array(g);return $(a.buffer,a.byteOffset,a.byteLength)}return F(g)}function $(g,a,u){if(a<0||g.byteLength<a)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<a+(u||0))throw new RangeError('"length" is outside of buffer bounds');var w;return a===void 0&&u===void 0?w=new Uint8Array(g):u===void 0?w=new Uint8Array(g,a):w=new Uint8Array(g,a,u),Object.setPrototypeOf(w,f.prototype),w}function S(g){if(f.isBuffer(g)){var a=C(g.length)|0,u=d(a);return u.length===0||g.copy(u,0,0,a),u}if(g.length!==void 0)return typeof g.length!="number"||ce(g.length)?d(0):F(g);if(g.type==="Buffer"&&Array.isArray(g.data))return F(g.data)}function C(g){if(g>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return g|0}function A(g){return+g!=g&&(g=0),f.alloc(+g)}f.isBuffer=function(a){return a!=null&&a._isBuffer===!0&&a!==f.prototype},f.compare=function(a,u){if(Le(a,Uint8Array)&&(a=f.from(a,a.offset,a.byteLength)),Le(u,Uint8Array)&&(u=f.from(u,u.offset,u.byteLength)),!f.isBuffer(a)||!f.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===u)return 0;for(var w=a.length,E=u.length,k=0,O=Math.min(w,E);k<O;++k)if(a[k]!==u[k]){w=a[k],E=u[k];break}return w<E?-1:E<w?1:0},f.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(a,u){if(!Array.isArray(a))throw new TypeError('"list" argument must be an Array of Buffers');if(a.length===0)return f.alloc(0);var w;if(u===void 0)for(u=0,w=0;w<a.length;++w)u+=a[w].length;var E=f.allocUnsafe(u),k=0;for(w=0;w<a.length;++w){var O=a[w];if(Le(O,Uint8Array))k+O.length>E.length?f.from(O).copy(E,k):Uint8Array.prototype.set.call(E,O,k);else if(f.isBuffer(O))O.copy(E,k);else throw new TypeError('"list" argument must be an Array of Buffers');k+=O.length}return E};function T(g,a){if(f.isBuffer(g))return g.length;if(ArrayBuffer.isView(g)||Le(g,ArrayBuffer))return g.byteLength;if(typeof g!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);var u=g.length,w=arguments.length>2&&arguments[2]===!0;if(!w&&u===0)return 0;for(var E=!1;;)switch(a){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return te(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return ue(g).length;default:if(E)return w?-1:te(g).length;a=(""+a).toLowerCase(),E=!0}}f.byteLength=T;function B(g,a,u){var w=!1;if((a===void 0||a<0)&&(a=0),a>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,a>>>=0,u<=a))return"";for(g||(g="utf8");;)switch(g){case"hex":return s(this,a,u);case"utf8":case"utf-8":return p(this,a,u);case"ascii":return R(this,a,u);case"latin1":case"binary":return m(this,a,u);case"base64":return h(this,a,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,a,u);default:if(w)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),w=!0}}f.prototype._isBuffer=!0;function W(g,a,u){var w=g[a];g[a]=g[u],g[u]=w}f.prototype.swap16=function(){var a=this.length;if(a%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var u=0;u<a;u+=2)W(this,u,u+1);return this},f.prototype.swap32=function(){var a=this.length;if(a%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var u=0;u<a;u+=4)W(this,u,u+3),W(this,u+1,u+2);return this},f.prototype.swap64=function(){var a=this.length;if(a%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var u=0;u<a;u+=8)W(this,u,u+7),W(this,u+1,u+6),W(this,u+2,u+5),W(this,u+3,u+4);return this},f.prototype.toString=function(){var a=this.length;return a===0?"":arguments.length===0?p(this,0,a):B.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:f.compare(this,a)===0},f.prototype.inspect=function(){var a="",u=t.INSPECT_MAX_BYTES;return a=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(a+=" ... "),"<Buffer "+a+">"},r&&(f.prototype[r]=f.prototype.inspect),f.prototype.compare=function(a,u,w,E,k){if(Le(a,Uint8Array)&&(a=f.from(a,a.offset,a.byteLength)),!f.isBuffer(a))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(u===void 0&&(u=0),w===void 0&&(w=a?a.length:0),E===void 0&&(E=0),k===void 0&&(k=this.length),u<0||w>a.length||E<0||k>this.length)throw new RangeError("out of range index");if(E>=k&&u>=w)return 0;if(E>=k)return-1;if(u>=w)return 1;if(u>>>=0,w>>>=0,E>>>=0,k>>>=0,this===a)return 0;for(var O=k-E,j=w-u,J=Math.min(O,j),re=this.slice(E,k),Z=a.slice(u,w),G=0;G<J;++G)if(re[G]!==Z[G]){O=re[G],j=Z[G];break}return O<j?-1:j<O?1:0};function H(g,a,u,w,E){if(g.length===0)return-1;if(typeof u=="string"?(w=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,ce(u)&&(u=E?0:g.length-1),u<0&&(u=g.length+u),u>=g.length){if(E)return-1;u=g.length-1}else if(u<0)if(E)u=0;else return-1;if(typeof a=="string"&&(a=f.from(a,w)),f.isBuffer(a))return a.length===0?-1:K(g,a,u,w,E);if(typeof a=="number")return a=a&255,typeof Uint8Array.prototype.indexOf=="function"?E?Uint8Array.prototype.indexOf.call(g,a,u):Uint8Array.prototype.lastIndexOf.call(g,a,u):K(g,[a],u,w,E);throw new TypeError("val must be string, number or Buffer")}function K(g,a,u,w,E){var k=1,O=g.length,j=a.length;if(w!==void 0&&(w=String(w).toLowerCase(),w==="ucs2"||w==="ucs-2"||w==="utf16le"||w==="utf-16le")){if(g.length<2||a.length<2)return-1;k=2,O/=2,j/=2,u/=2}function J(le,fe){return k===1?le[fe]:le.readUInt16BE(fe*k)}var re;if(E){var Z=-1;for(re=u;re<O;re++)if(J(g,re)===J(a,Z===-1?0:re-Z)){if(Z===-1&&(Z=re),re-Z+1===j)return Z*k}else Z!==-1&&(re-=re-Z),Z=-1}else for(u+j>O&&(u=O-j),re=u;re>=0;re--){for(var G=!0,Ze=0;Ze<j;Ze++)if(J(g,re+Ze)!==J(a,Ze)){G=!1;break}if(G)return re}return-1}f.prototype.includes=function(a,u,w){return this.indexOf(a,u,w)!==-1},f.prototype.indexOf=function(a,u,w){return H(this,a,u,w,!0)},f.prototype.lastIndexOf=function(a,u,w){return H(this,a,u,w,!1)};function Y(g,a,u,w){u=Number(u)||0;var E=g.length-u;w?(w=Number(w),w>E&&(w=E)):w=E;var k=a.length;w>k/2&&(w=k/2);for(var O=0;O<w;++O){var j=parseInt(a.substr(O*2,2),16);if(ce(j))return O;g[u+O]=j}return O}function se(g,a,u,w){return ae(te(a,g.length-u),g,u,w)}function y(g,a,u,w){return ae(ie(a),g,u,w)}function i(g,a,u,w){return ae(ue(a),g,u,w)}function l(g,a,u,w){return ae(It(a,g.length-u),g,u,w)}f.prototype.write=function(a,u,w,E){if(u===void 0)E="utf8",w=this.length,u=0;else if(w===void 0&&typeof u=="string")E=u,w=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(w)?(w=w>>>0,E===void 0&&(E="utf8")):(E=w,w=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var k=this.length-u;if((w===void 0||w>k)&&(w=k),a.length>0&&(w<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");E||(E="utf8");for(var O=!1;;)switch(E){case"hex":return Y(this,a,u,w);case"utf8":case"utf-8":return se(this,a,u,w);case"ascii":case"latin1":case"binary":return y(this,a,u,w);case"base64":return i(this,a,u,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,a,u,w);default:if(O)throw new TypeError("Unknown encoding: "+E);E=(""+E).toLowerCase(),O=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function h(g,a,u){return a===0&&u===g.length?e.fromByteArray(g):e.fromByteArray(g.slice(a,u))}function p(g,a,u){u=Math.min(g.length,u);for(var w=[],E=a;E<u;){var k=g[E],O=null,j=k>239?4:k>223?3:k>191?2:1;if(E+j<=u){var J,re,Z,G;switch(j){case 1:k<128&&(O=k);break;case 2:J=g[E+1],(J&192)===128&&(G=(k&31)<<6|J&63,G>127&&(O=G));break;case 3:J=g[E+1],re=g[E+2],(J&192)===128&&(re&192)===128&&(G=(k&15)<<12|(J&63)<<6|re&63,G>2047&&(G<55296||G>57343)&&(O=G));break;case 4:J=g[E+1],re=g[E+2],Z=g[E+3],(J&192)===128&&(re&192)===128&&(Z&192)===128&&(G=(k&15)<<18|(J&63)<<12|(re&63)<<6|Z&63,G>65535&&G<1114112&&(O=G))}}O===null?(O=65533,j=1):O>65535&&(O-=65536,w.push(O>>>10&1023|55296),O=56320|O&1023),w.push(O),E+=j}return M(w)}var _=4096;function M(g){var a=g.length;if(a<=_)return String.fromCharCode.apply(String,g);for(var u="",w=0;w<a;)u+=String.fromCharCode.apply(String,g.slice(w,w+=_));return u}function R(g,a,u){var w="";u=Math.min(g.length,u);for(var E=a;E<u;++E)w+=String.fromCharCode(g[E]&127);return w}function m(g,a,u){var w="";u=Math.min(g.length,u);for(var E=a;E<u;++E)w+=String.fromCharCode(g[E]);return w}function s(g,a,u){var w=g.length;(!a||a<0)&&(a=0),(!u||u<0||u>w)&&(u=w);for(var E="",k=a;k<u;++k)E+=he[g[k]];return E}function v(g,a,u){for(var w=g.slice(a,u),E="",k=0;k<w.length-1;k+=2)E+=String.fromCharCode(w[k]+w[k+1]*256);return E}f.prototype.slice=function(a,u){var w=this.length;a=~~a,u=u===void 0?w:~~u,a<0?(a+=w,a<0&&(a=0)):a>w&&(a=w),u<0?(u+=w,u<0&&(u=0)):u>w&&(u=w),u<a&&(u=a);var E=this.subarray(a,u);return Object.setPrototypeOf(E,f.prototype),E};function P(g,a,u){if(g%1!==0||g<0)throw new RangeError("offset is not uint");if(g+a>u)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(a,u,w){a=a>>>0,u=u>>>0,w||P(a,u,this.length);for(var E=this[a],k=1,O=0;++O<u&&(k*=256);)E+=this[a+O]*k;return E},f.prototype.readUintBE=f.prototype.readUIntBE=function(a,u,w){a=a>>>0,u=u>>>0,w||P(a,u,this.length);for(var E=this[a+--u],k=1;u>0&&(k*=256);)E+=this[a+--u]*k;return E},f.prototype.readUint8=f.prototype.readUInt8=function(a,u){return a=a>>>0,u||P(a,1,this.length),this[a]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(a,u){return a=a>>>0,u||P(a,2,this.length),this[a]|this[a+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(a,u){return a=a>>>0,u||P(a,2,this.length),this[a]<<8|this[a+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(a,u){return a=a>>>0,u||P(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+this[a+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(a,u){return a=a>>>0,u||P(a,4,this.length),this[a]*16777216+(this[a+1]<<16|this[a+2]<<8|this[a+3])},f.prototype.readIntLE=function(a,u,w){a=a>>>0,u=u>>>0,w||P(a,u,this.length);for(var E=this[a],k=1,O=0;++O<u&&(k*=256);)E+=this[a+O]*k;return k*=128,E>=k&&(E-=Math.pow(2,8*u)),E},f.prototype.readIntBE=function(a,u,w){a=a>>>0,u=u>>>0,w||P(a,u,this.length);for(var E=u,k=1,O=this[a+--E];E>0&&(k*=256);)O+=this[a+--E]*k;return k*=128,O>=k&&(O-=Math.pow(2,8*u)),O},f.prototype.readInt8=function(a,u){return a=a>>>0,u||P(a,1,this.length),this[a]&128?(255-this[a]+1)*-1:this[a]},f.prototype.readInt16LE=function(a,u){a=a>>>0,u||P(a,2,this.length);var w=this[a]|this[a+1]<<8;return w&32768?w|4294901760:w},f.prototype.readInt16BE=function(a,u){a=a>>>0,u||P(a,2,this.length);var w=this[a+1]|this[a]<<8;return w&32768?w|4294901760:w},f.prototype.readInt32LE=function(a,u){return a=a>>>0,u||P(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},f.prototype.readInt32BE=function(a,u){return a=a>>>0,u||P(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},f.prototype.readFloatLE=function(a,u){return a=a>>>0,u||P(a,4,this.length),n.read(this,a,!0,23,4)},f.prototype.readFloatBE=function(a,u){return a=a>>>0,u||P(a,4,this.length),n.read(this,a,!1,23,4)},f.prototype.readDoubleLE=function(a,u){return a=a>>>0,u||P(a,8,this.length),n.read(this,a,!0,52,8)},f.prototype.readDoubleBE=function(a,u){return a=a>>>0,u||P(a,8,this.length),n.read(this,a,!1,52,8)};function D(g,a,u,w,E,k){if(!f.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(a>E||a<k)throw new RangeError('"value" argument is out of bounds');if(u+w>g.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(a,u,w,E){if(a=+a,u=u>>>0,w=w>>>0,!E){var k=Math.pow(2,8*w)-1;D(this,a,u,w,k,0)}var O=1,j=0;for(this[u]=a&255;++j<w&&(O*=256);)this[u+j]=a/O&255;return u+w},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(a,u,w,E){if(a=+a,u=u>>>0,w=w>>>0,!E){var k=Math.pow(2,8*w)-1;D(this,a,u,w,k,0)}var O=w-1,j=1;for(this[u+O]=a&255;--O>=0&&(j*=256);)this[u+O]=a/j&255;return u+w},f.prototype.writeUint8=f.prototype.writeUInt8=function(a,u,w){return a=+a,u=u>>>0,w||D(this,a,u,1,255,0),this[u]=a&255,u+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(a,u,w){return a=+a,u=u>>>0,w||D(this,a,u,2,65535,0),this[u]=a&255,this[u+1]=a>>>8,u+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(a,u,w){return a=+a,u=u>>>0,w||D(this,a,u,2,65535,0),this[u]=a>>>8,this[u+1]=a&255,u+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(a,u,w){return a=+a,u=u>>>0,w||D(this,a,u,4,4294967295,0),this[u+3]=a>>>24,this[u+2]=a>>>16,this[u+1]=a>>>8,this[u]=a&255,u+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(a,u,w){return a=+a,u=u>>>0,w||D(this,a,u,4,4294967295,0),this[u]=a>>>24,this[u+1]=a>>>16,this[u+2]=a>>>8,this[u+3]=a&255,u+4},f.prototype.writeIntLE=function(a,u,w,E){if(a=+a,u=u>>>0,!E){var k=Math.pow(2,8*w-1);D(this,a,u,w,k-1,-k)}var O=0,j=1,J=0;for(this[u]=a&255;++O<w&&(j*=256);)a<0&&J===0&&this[u+O-1]!==0&&(J=1),this[u+O]=(a/j>>0)-J&255;return u+w},f.prototype.writeIntBE=function(a,u,w,E){if(a=+a,u=u>>>0,!E){var k=Math.pow(2,8*w-1);D(this,a,u,w,k-1,-k)}var O=w-1,j=1,J=0;for(this[u+O]=a&255;--O>=0&&(j*=256);)a<0&&J===0&&this[u+O+1]!==0&&(J=1),this[u+O]=(a/j>>0)-J&255;return u+w},f.prototype.writeInt8=function(a,u,w){return a=+a,u=u>>>0,w||D(this,a,u,1,127,-128),a<0&&(a=255+a+1),this[u]=a&255,u+1},f.prototype.writeInt16LE=function(a,u,w){return a=+a,u=u>>>0,w||D(this,a,u,2,32767,-32768),this[u]=a&255,this[u+1]=a>>>8,u+2},f.prototype.writeInt16BE=function(a,u,w){return a=+a,u=u>>>0,w||D(this,a,u,2,32767,-32768),this[u]=a>>>8,this[u+1]=a&255,u+2},f.prototype.writeInt32LE=function(a,u,w){return a=+a,u=u>>>0,w||D(this,a,u,4,2147483647,-2147483648),this[u]=a&255,this[u+1]=a>>>8,this[u+2]=a>>>16,this[u+3]=a>>>24,u+4},f.prototype.writeInt32BE=function(a,u,w){return a=+a,u=u>>>0,w||D(this,a,u,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),this[u]=a>>>24,this[u+1]=a>>>16,this[u+2]=a>>>8,this[u+3]=a&255,u+4};function z(g,a,u,w,E,k){if(u+w>g.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function Q(g,a,u,w,E){return a=+a,u=u>>>0,E||z(g,a,u,4),n.write(g,a,u,w,23,4),u+4}f.prototype.writeFloatLE=function(a,u,w){return Q(this,a,u,!0,w)},f.prototype.writeFloatBE=function(a,u,w){return Q(this,a,u,!1,w)};function ee(g,a,u,w,E){return a=+a,u=u>>>0,E||z(g,a,u,8),n.write(g,a,u,w,52,8),u+8}f.prototype.writeDoubleLE=function(a,u,w){return ee(this,a,u,!0,w)},f.prototype.writeDoubleBE=function(a,u,w){return ee(this,a,u,!1,w)},f.prototype.copy=function(a,u,w,E){if(!f.isBuffer(a))throw new TypeError("argument should be a Buffer");if(w||(w=0),!E&&E!==0&&(E=this.length),u>=a.length&&(u=a.length),u||(u=0),E>0&&E<w&&(E=w),E===w||a.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(w<0||w>=this.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("sourceEnd out of bounds");E>this.length&&(E=this.length),a.length-u<E-w&&(E=a.length-u+w);var k=E-w;return this===a&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,w,E):Uint8Array.prototype.set.call(a,this.subarray(w,E),u),k},f.prototype.fill=function(a,u,w,E){if(typeof a=="string"){if(typeof u=="string"?(E=u,u=0,w=this.length):typeof w=="string"&&(E=w,w=this.length),E!==void 0&&typeof E!="string")throw new TypeError("encoding must be a string");if(typeof E=="string"&&!f.isEncoding(E))throw new TypeError("Unknown encoding: "+E);if(a.length===1){var k=a.charCodeAt(0);(E==="utf8"&&k<128||E==="latin1")&&(a=k)}}else typeof a=="number"?a=a&255:typeof a=="boolean"&&(a=Number(a));if(u<0||this.length<u||this.length<w)throw new RangeError("Out of range index");if(w<=u)return this;u=u>>>0,w=w===void 0?this.length:w>>>0,a||(a=0);var O;if(typeof a=="number")for(O=u;O<w;++O)this[O]=a;else{var j=f.isBuffer(a)?a:f.from(a,E),J=j.length;if(J===0)throw new TypeError('The value "'+a+'" is invalid for argument "value"');for(O=0;O<w-u;++O)this[O+u]=j[O%J]}return this};var ne=/[^+/0-9A-Za-z-_]/g;function De(g){if(g=g.split("=")[0],g=g.trim().replace(ne,""),g.length<2)return"";for(;g.length%4!==0;)g=g+"=";return g}function te(g,a){a=a||1/0;for(var u,w=g.length,E=null,k=[],O=0;O<w;++O){if(u=g.charCodeAt(O),u>55295&&u<57344){if(!E){if(u>56319){(a-=3)>-1&&k.push(239,191,189);continue}else if(O+1===w){(a-=3)>-1&&k.push(239,191,189);continue}E=u;continue}if(u<56320){(a-=3)>-1&&k.push(239,191,189),E=u;continue}u=(E-55296<<10|u-56320)+65536}else E&&(a-=3)>-1&&k.push(239,191,189);if(E=null,u<128){if((a-=1)<0)break;k.push(u)}else if(u<2048){if((a-=2)<0)break;k.push(u>>6|192,u&63|128)}else if(u<65536){if((a-=3)<0)break;k.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((a-=4)<0)break;k.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return k}function ie(g){for(var a=[],u=0;u<g.length;++u)a.push(g.charCodeAt(u)&255);return a}function It(g,a){for(var u,w,E,k=[],O=0;O<g.length&&!((a-=2)<0);++O)u=g.charCodeAt(O),w=u>>8,E=u%256,k.push(E),k.push(w);return k}function ue(g){return e.toByteArray(De(g))}function ae(g,a,u,w){for(var E=0;E<w&&!(E+u>=a.length||E>=g.length);++E)a[E+u]=g[E];return E}function Le(g,a){return g instanceof a||g!=null&&g.constructor!=null&&g.constructor.name!=null&&g.constructor.name===a.name}function ce(g){return g!==g}var he=function(){for(var g="0123456789abcdef",a=new Array(256),u=0;u<16;++u)for(var w=u*16,E=0;E<16;++E)a[w+E]=g[u]+g[E];return a}()})(yo);var Wr=Qe,bo=_o,Bu=yo.Buffer;function er(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}er.prototype.initialize=function(e){this.degree=e,this.genPoly=bo.generateECPolynomial(this.degree)};er.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var n=Wr.alloc(this.degree),r=Bu.concat([e,n],e.length+this.degree),c=bo.mod(r,this.genPoly),o=this.degree-c.length;if(o>0){var d=Wr.alloc(this.degree);return c.copy(d,o),d}return c};var Nu=er,Mo={},Ge={},tr={};tr.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var qe={},Eo="[0-9]+",Ou="[A-Z $%*+\\-./:]+",Mt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Mt=Mt.replace(/u/g,"\\u");var Lu="(?:(?![A-Z0-9 $%*+\\-./:]|"+Mt+`)(?:.|[\r
]))+`;qe.KANJI=new RegExp(Mt,"g");qe.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");qe.BYTE=new RegExp(Lu,"g");qe.NUMERIC=new RegExp(Eo,"g");qe.ALPHANUMERIC=new RegExp(Ou,"g");var Uu=new RegExp("^"+Mt+"$"),Pu=new RegExp("^"+Eo+"$"),Fu=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");qe.testKanji=function(e){return Uu.test(e)};qe.testNumeric=function(e){return Pu.test(e)};qe.testAlphanumeric=function(e){return Fu.test(e)};(function(t){var e=tr,n=qe;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,d){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(d))throw new Error("Invalid version: "+d);return d>=1&&d<10?o.ccBits[0]:d<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return n.testNumeric(o)?t.NUMERIC:n.testAlphanumeric(o)?t.ALPHANUMERIC:n.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function r(c){if(typeof c!="string")throw new Error("Param is not a string");var o=c.toLowerCase();switch(o){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+c)}}t.from=function(o,d){if(t.isValid(o))return o;try{return r(o)}catch{return d}}})(Ge);(function(t){var e=Ue,n=Jt,r=jt,c=Ge,o=tr,d=Gn,f=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,b=e.getBCHDigit(f);function I(F,U,$){for(var S=1;S<=40;S++)if(U<=t.getCapacity(S,$,F))return S}function x(F,U){return c.getCharCountIndicator(F,U)+4}function N(F,U){var $=0;return F.forEach(function(S){var C=x(S.mode,U);$+=C+S.getBitsLength()}),$}function L(F,U){for(var $=1;$<=40;$++){var S=N(F,$);if(S<=t.getCapacity($,U,c.MIXED))return $}}t.from=function(U,$){return o.isValid(U)?parseInt(U,10):$},t.getCapacity=function(U,$,S){if(!o.isValid(U))throw new Error("Invalid QR Code version");typeof S>"u"&&(S=c.BYTE);var C=e.getSymbolTotalCodewords(U),A=n.getTotalCodewordsCount(U,$),T=(C-A)*8;if(S===c.MIXED)return T;var B=T-x(S,U);switch(S){case c.NUMERIC:return Math.floor(B/10*3);case c.ALPHANUMERIC:return Math.floor(B/11*2);case c.KANJI:return Math.floor(B/13);case c.BYTE:default:return Math.floor(B/8)}},t.getBestVersionForData=function(U,$){var S,C=r.from($,r.M);if(d(U)){if(U.length>1)return L(U,C);if(U.length===0)return 1;S=U[0]}else S=U;return I(S.mode,S.getLength(),C)},t.getEncodedBits=function(U){if(!o.isValid(U)||U<7)throw new Error("Invalid QR Code version");for(var $=U<<12;e.getBCHDigit($)-b>=0;)$^=f<<e.getBCHDigit($)-b;return U<<12|$}})(Mo);var xo={},kn=Ue,So=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,Du=1<<14|1<<12|1<<10|1<<4|1<<1,Hr=kn.getBCHDigit(So);xo.getEncodedBits=function(e,n){for(var r=e.bit<<3|n,c=r<<10;kn.getBCHDigit(c)-Hr>=0;)c^=So<<kn.getBCHDigit(c)-Hr;return(r<<10|c)^Du};var Ro={},qu=Ge;function at(t){this.mode=qu.NUMERIC,this.data=t.toString()}at.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};at.prototype.getLength=function(){return this.data.length};at.prototype.getBitsLength=function(){return at.getBitsLength(this.data.length)};at.prototype.write=function(e){var n,r,c;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),c=parseInt(r,10),e.put(c,10);var o=this.data.length-n;o>0&&(r=this.data.substr(n),c=parseInt(r,10),e.put(c,o*3+1))};var $u=at,Wu=Ge,yn=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ct(t){this.mode=Wu.ALPHANUMERIC,this.data=t}ct.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};ct.prototype.getLength=function(){return this.data.length};ct.prototype.getBitsLength=function(){return ct.getBitsLength(this.data.length)};ct.prototype.write=function(e){var n;for(n=0;n+2<=this.data.length;n+=2){var r=yn.indexOf(this.data[n])*45;r+=yn.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(yn.indexOf(this.data[n]),6)};var Hu=ct,zu=Qe,ju=Ge;function ut(t){this.mode=ju.BYTE,this.data=zu.from(t)}ut.getBitsLength=function(e){return e*8};ut.prototype.getLength=function(){return this.data.length};ut.prototype.getBitsLength=function(){return ut.getBitsLength(this.data.length)};ut.prototype.write=function(t){for(var e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var Ju=ut,Vu=Ge,Ku=Ue;function lt(t){this.mode=Vu.KANJI,this.data=t}lt.getBitsLength=function(e){return e*13};lt.prototype.getLength=function(){return this.data.length};lt.prototype.getBitsLength=function(){return lt.getBitsLength(this.data.length)};lt.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var n=Ku.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var Yu=lt;(function(t){var e=Ge,n=$u,r=Hu,c=Ju,o=Yu,d=qe,f=Ue,b=_s.exports;function I(C){return unescape(encodeURIComponent(C)).length}function x(C,A,T){for(var B=[],W;(W=C.exec(T))!==null;)B.push({data:W[0],index:W.index,mode:A,length:W[0].length});return B}function N(C){var A=x(d.NUMERIC,e.NUMERIC,C),T=x(d.ALPHANUMERIC,e.ALPHANUMERIC,C),B,W;f.isKanjiModeEnabled()?(B=x(d.BYTE,e.BYTE,C),W=x(d.KANJI,e.KANJI,C)):(B=x(d.BYTE_KANJI,e.BYTE,C),W=[]);var H=A.concat(T,B,W);return H.sort(function(K,Y){return K.index-Y.index}).map(function(K){return{data:K.data,mode:K.mode,length:K.length}})}function L(C,A){switch(A){case e.NUMERIC:return n.getBitsLength(C);case e.ALPHANUMERIC:return r.getBitsLength(C);case e.KANJI:return o.getBitsLength(C);case e.BYTE:return c.getBitsLength(C)}}function F(C){return C.reduce(function(A,T){var B=A.length-1>=0?A[A.length-1]:null;return B&&B.mode===T.mode?(A[A.length-1].data+=T.data,A):(A.push(T),A)},[])}function U(C){for(var A=[],T=0;T<C.length;T++){var B=C[T];switch(B.mode){case e.NUMERIC:A.push([B,{data:B.data,mode:e.ALPHANUMERIC,length:B.length},{data:B.data,mode:e.BYTE,length:B.length}]);break;case e.ALPHANUMERIC:A.push([B,{data:B.data,mode:e.BYTE,length:B.length}]);break;case e.KANJI:A.push([B,{data:B.data,mode:e.BYTE,length:I(B.data)}]);break;case e.BYTE:A.push([{data:B.data,mode:e.BYTE,length:I(B.data)}])}}return A}function $(C,A){for(var T={},B={start:{}},W=["start"],H=0;H<C.length;H++){for(var K=C[H],Y=[],se=0;se<K.length;se++){var y=K[se],i=""+H+se;Y.push(i),T[i]={node:y,lastCount:0},B[i]={};for(var l=0;l<W.length;l++){var h=W[l];T[h]&&T[h].node.mode===y.mode?(B[h][i]=L(T[h].lastCount+y.length,y.mode)-L(T[h].lastCount,y.mode),T[h].lastCount+=y.length):(T[h]&&(T[h].lastCount=y.length),B[h][i]=L(y.length,y.mode)+4+e.getCharCountIndicator(y.mode,A))}}W=Y}for(l=0;l<W.length;l++)B[W[l]].end=0;return{map:B,table:T}}function S(C,A){var T,B=e.getBestModeForData(C);if(T=e.from(A,B),T!==e.BYTE&&T.bit<B.bit)throw new Error('"'+C+'" cannot be encoded with mode '+e.toString(T)+`.
 Suggested mode is: `+e.toString(B));switch(T===e.KANJI&&!f.isKanjiModeEnabled()&&(T=e.BYTE),T){case e.NUMERIC:return new n(C);case e.ALPHANUMERIC:return new r(C);case e.KANJI:return new o(C);case e.BYTE:return new c(C)}}t.fromArray=function(A){return A.reduce(function(T,B){return typeof B=="string"?T.push(S(B,null)):B.data&&T.push(S(B.data,B.mode)),T},[])},t.fromString=function(A,T){for(var B=N(A,f.isKanjiModeEnabled()),W=U(B),H=$(W,T),K=b.find_path(H.map,"start","end"),Y=[],se=1;se<K.length-1;se++)Y.push(H.table[K[se]].node);return t.fromArray(F(Y))},t.rawSplit=function(A){return t.fromArray(N(A,f.isKanjiModeEnabled()))}})(Ro);var zr=Qe,Kt=Ue,bn=jt,Qu=Tu,Gu=Au,Zu=go,Xu=mo,Bn=vo,Nn=Jt,el=Nu,Ut=Mo,tl=xo,nl=Ge,Mn=Ro,rl=Gn;function il(t,e){for(var n=t.size,r=Xu.getPositions(e),c=0;c<r.length;c++)for(var o=r[c][0],d=r[c][1],f=-1;f<=7;f++)if(!(o+f<=-1||n<=o+f))for(var b=-1;b<=7;b++)d+b<=-1||n<=d+b||(f>=0&&f<=6&&(b===0||b===6)||b>=0&&b<=6&&(f===0||f===6)||f>=2&&f<=4&&b>=2&&b<=4?t.set(o+f,d+b,!0,!0):t.set(o+f,d+b,!1,!0))}function ol(t){for(var e=t.size,n=8;n<e-8;n++){var r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function sl(t,e){for(var n=Zu.getPositions(e),r=0;r<n.length;r++)for(var c=n[r][0],o=n[r][1],d=-2;d<=2;d++)for(var f=-2;f<=2;f++)d===-2||d===2||f===-2||f===2||d===0&&f===0?t.set(c+d,o+f,!0,!0):t.set(c+d,o+f,!1,!0)}function al(t,e){for(var n=t.size,r=Ut.getEncodedBits(e),c,o,d,f=0;f<18;f++)c=Math.floor(f/3),o=f%3+n-8-3,d=(r>>f&1)===1,t.set(c,o,d,!0),t.set(o,c,d,!0)}function En(t,e,n){var r=t.size,c=tl.getEncodedBits(e,n),o,d;for(o=0;o<15;o++)d=(c>>o&1)===1,o<6?t.set(o,8,d,!0):o<8?t.set(o+1,8,d,!0):t.set(r-15+o,8,d,!0),o<8?t.set(8,r-o-1,d,!0):o<9?t.set(8,15-o-1+1,d,!0):t.set(8,15-o-1,d,!0);t.set(r-8,8,1,!0)}function cl(t,e){for(var n=t.size,r=-1,c=n-1,o=7,d=0,f=n-1;f>0;f-=2)for(f===6&&f--;;){for(var b=0;b<2;b++)if(!t.isReserved(c,f-b)){var I=!1;d<e.length&&(I=(e[d]>>>o&1)===1),t.set(c,f-b,I),o--,o===-1&&(d++,o=7)}if(c+=r,c<0||n<=c){c-=r,r=-r;break}}}function ul(t,e,n){var r=new Qu;n.forEach(function(I){r.put(I.mode.bit,4),r.put(I.getLength(),nl.getCharCountIndicator(I.mode,t)),I.write(r)});var c=Kt.getSymbolTotalCodewords(t),o=Nn.getTotalCodewordsCount(t,e),d=(c-o)*8;for(r.getLengthInBits()+4<=d&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);for(var f=(d-r.getLengthInBits())/8,b=0;b<f;b++)r.put(b%2?17:236,8);return ll(r,t,e)}function ll(t,e,n){for(var r=Kt.getSymbolTotalCodewords(e),c=Nn.getTotalCodewordsCount(e,n),o=r-c,d=Nn.getBlocksCount(e,n),f=r%d,b=d-f,I=Math.floor(r/d),x=Math.floor(o/d),N=x+1,L=I-x,F=new el(L),U=0,$=new Array(d),S=new Array(d),C=0,A=zr.from(t.buffer),T=0;T<d;T++){var B=T<b?x:N;$[T]=A.slice(U,U+B),S[T]=F.encode($[T]),U+=B,C=Math.max(C,B)}var W=zr.alloc(r),H=0,K,Y;for(K=0;K<C;K++)for(Y=0;Y<d;Y++)K<$[Y].length&&(W[H++]=$[Y][K]);for(K=0;K<L;K++)for(Y=0;Y<d;Y++)W[H++]=S[Y][K];return W}function fl(t,e,n,r){var c;if(rl(t))c=Mn.fromArray(t);else if(typeof t=="string"){var o=e;if(!o){var d=Mn.rawSplit(t);o=Ut.getBestVersionForData(d,n)}c=Mn.fromString(t,o||40)}else throw new Error("Invalid data");var f=Ut.getBestVersionForData(c,n);if(!f)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=f;else if(e<f)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+f+`.
`);var b=ul(e,n,c),I=Kt.getSymbolSize(e),x=new Gu(I);return il(x,e),ol(x),sl(x,e),En(x,n,0),e>=7&&al(x,e),cl(x,b),isNaN(r)&&(r=Bn.getBestMask(x,En.bind(null,x,n))),Bn.applyMask(r,x),En(x,n,r),{modules:x,version:e,errorCorrectionLevel:n,maskPattern:r,segments:c}}uo.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");var r=bn.M,c,o;return typeof n<"u"&&(r=bn.from(n.errorCorrectionLevel,bn.M),c=Ut.from(n.version),o=Bn.from(n.maskPattern),n.toSJISFunc&&Kt.setToSJISFunction(n.toSJISFunc)),fl(e,c,r,o)};var Co={},nr={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");var r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");var c=parseInt(r.join(""),16);return{r:c>>24&255,g:c>>16&255,b:c>>8&255,a:c&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});var c=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,d=r.scale||4;return{width:o,scale:o?4:d,margin:c,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,c){return c.width&&c.width>=r+c.margin*2?c.width/(r+c.margin*2):c.scale},t.getImageWidth=function(r,c){var o=t.getScale(r,c);return Math.floor((r+c.margin*2)*o)},t.qrToImageData=function(r,c,o){for(var d=c.modules.size,f=c.modules.data,b=t.getScale(d,o),I=Math.floor((d+o.margin*2)*b),x=o.margin*b,N=[o.color.light,o.color.dark],L=0;L<I;L++)for(var F=0;F<I;F++){var U=(L*I+F)*4,$=o.color.light;if(L>=x&&F>=x&&L<I-x&&F<I-x){var S=Math.floor((L-x)/b),C=Math.floor((F-x)/b);$=N[f[S*d+C]?1:0]}r[U++]=$.r,r[U++]=$.g,r[U++]=$.b,r[U]=$.a}}})(nr);(function(t){var e=nr;function n(c,o,d){c.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=d,o.width=d,o.style.height=d+"px",o.style.width=d+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,d,f){var b=f,I=d;typeof b>"u"&&(!d||!d.getContext)&&(b=d,d=void 0),d||(I=r()),b=e.getOptions(b);var x=e.getImageWidth(o.modules.size,b),N=I.getContext("2d"),L=N.createImageData(x,x);return e.qrToImageData(L.data,o,b),n(N,I,x),N.putImageData(L,0,0),I},t.renderToDataURL=function(o,d,f){var b=f;typeof b>"u"&&(!d||!d.getContext)&&(b=d,d=void 0),b||(b={});var I=t.render(o,d,b),x=b.type||"image/png",N=b.rendererOpts||{};return I.toDataURL(x,N.quality)}})(Co);var Io={},hl=nr;function jr(t,e){var n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function xn(t,e,n){var r=t+e;return typeof n<"u"&&(r+=" "+n),r}function dl(t,e,n){for(var r="",c=0,o=!1,d=0,f=0;f<t.length;f++){var b=Math.floor(f%e),I=Math.floor(f/e);!b&&!o&&(o=!0),t[f]?(d++,f>0&&b>0&&t[f-1]||(r+=o?xn("M",b+n,.5+I+n):xn("m",c,0),c=0,o=!1),b+1<e&&t[f+1]||(r+=xn("h",d),d=0)):c++}return r}Io.render=function(e,n,r){var c=hl.getOptions(n),o=e.modules.size,d=e.modules.data,f=o+c.margin*2,b=c.color.light.a?"<path "+jr(c.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",I="<path "+jr(c.color.dark,"stroke")+' d="'+dl(d,o,c.margin)+'"/>',x='viewBox="0 0 '+f+" "+f+'"',N=c.width?'width="'+c.width+'" height="'+c.width+'" ':"",L='<svg xmlns="http://www.w3.org/2000/svg" '+N+x+' shape-rendering="crispEdges">'+b+I+`</svg>
`;return typeof r=="function"&&r(null,L),L};var pl=vu,On=uo,To=Co,gl=Io;function rr(t,e,n,r,c){var o=[].slice.call(arguments,1),d=o.length,f=typeof o[d-1]=="function";if(!f&&!pl())throw new Error("Callback required as last argument");if(f){if(d<2)throw new Error("Too few arguments provided");d===2?(c=n,n=e,e=r=void 0):d===3&&(e.getContext&&typeof c>"u"?(c=r,r=void 0):(c=r,r=n,n=e,e=void 0))}else{if(d<1)throw new Error("Too few arguments provided");return d===1?(n=e,e=r=void 0):d===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(I,x){try{var N=On.create(n,r);I(t(N,e,r))}catch(L){x(L)}})}try{var b=On.create(n,r);c(null,t(b,e,r))}catch(I){c(I)}}St.create=On.create;St.toCanvas=rr.bind(null,To.render);St.toDataURL=rr.bind(null,To.renderToDataURL);St.toString=rr.bind(null,function(t,e,n){return gl.render(t,n)});var ml=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],r=0;r<t.rangeCount;r++)n.push(t.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(c){t.addRange(c)}),e&&e.focus()}},vl=ml,Jr={"text/plain":"Text","text/html":"Url",default:"Text"},_l="Copy to clipboard: #{key}, Enter";function wl(t){var e=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function yl(t,e){var n,r,c,o,d,f,b=!1;e||(e={}),n=e.debug||!1;try{c=vl(),o=document.createRange(),d=document.getSelection(),f=document.createElement("span"),f.textContent=t,f.ariaHidden="true",f.style.all="unset",f.style.position="fixed",f.style.top=0,f.style.clip="rect(0, 0, 0, 0)",f.style.whiteSpace="pre",f.style.webkitUserSelect="text",f.style.MozUserSelect="text",f.style.msUserSelect="text",f.style.userSelect="text",f.addEventListener("copy",function(x){if(x.stopPropagation(),e.format)if(x.preventDefault(),typeof x.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var N=Jr[e.format]||Jr.default;window.clipboardData.setData(N,t)}else x.clipboardData.clearData(),x.clipboardData.setData(e.format,t);e.onCopy&&(x.preventDefault(),e.onCopy(x.clipboardData))}),document.body.appendChild(f),o.selectNodeContents(f),d.addRange(o);var I=document.execCommand("copy");if(!I)throw new Error("copy command was unsuccessful");b=!0}catch(x){n&&console.error("unable to copy using execCommand: ",x),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),b=!0}catch(N){n&&console.error("unable to copy using clipboardData: ",N),n&&console.error("falling back to prompt"),r=wl("message"in e?e.message:_l),window.prompt(r,t)}}finally{d&&(typeof d.removeRange=="function"?d.removeRange(o):d.removeAllRanges()),f&&document.body.removeChild(f),c()}return b}var bl=yl,V,wt,ir,Ao,Vr,or,ko,We={},Yt=[],Ml=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function $e(t,e){for(var n in e)t[n]=e[n];return t}function Bo(t){var e=t.parentNode;e&&e.removeChild(t)}function He(t,e,n){var r,c=arguments,o={};for(r in e)r!=="key"&&r!=="ref"&&(o[r]=e[r]);if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(c[r]);if(n!=null&&(o.children=n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)o[r]===void 0&&(o[r]=t.defaultProps[r]);return Pt(t,o,e&&e.key,e&&e.ref,null)}function Pt(t,e,n,r,c){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:c};return c==null&&(o.__v=o),V.vnode&&V.vnode(o),o}function No(){return{}}function Ct(t){return t.children}function Fe(t,e){this.props=t,this.context=e}function Et(t,e){if(e==null)return t.__?Et(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Et(t):null}function Oo(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Oo(t)}}function Bt(t){(!t.__d&&(t.__d=!0)&&wt.push(t)&&!ir++||Vr!==V.debounceRendering)&&((Vr=V.debounceRendering)||Ao)(El)}function El(){for(var t;ir=wt.length;)t=wt.sort(function(e,n){return e.__v.__b-n.__v.__b}),wt=[],t.some(function(e){var n,r,c,o,d,f,b;e.__d&&(f=(d=(n=e).__v).__e,(b=n.__P)&&(r=[],(c=$e({},d)).__v=c,o=sr(b,d,c,n.__n,b.ownerSVGElement!==void 0,null,r,f==null?Et(d):f),Uo(r,d),o!=f&&Oo(d)))})}function Lo(t,e,n,r,c,o,d,f,b){var I,x,N,L,F,U,$,S=n&&n.__k||Yt,C=S.length;if(f==We&&(f=o!=null?o[0]:C?Et(n,0):null),I=0,e.__k=Ve(e.__k,function(A){if(A!=null){if(A.__=e,A.__b=e.__b+1,(N=S[I])===null||N&&A.key==N.key&&A.type===N.type)S[I]=void 0;else for(x=0;x<C;x++){if((N=S[x])&&A.key==N.key&&A.type===N.type){S[x]=void 0;break}N=null}if(L=sr(t,A,N=N||We,r,c,o,d,f,b),(x=A.ref)&&N.ref!=x&&($||($=[]),N.ref&&$.push(N.ref,null,A),$.push(x,A.__c||L,A)),L!=null){var T;if(U==null&&(U=L),A.__d!==void 0)T=A.__d,A.__d=void 0;else if(o==N||L!=f||L.parentNode==null){e:if(f==null||f.parentNode!==t)t.appendChild(L),T=null;else{for(F=f,x=0;(F=F.nextSibling)&&x<C;x+=2)if(F==L)break e;t.insertBefore(L,f),T=f}e.type=="option"&&(t.value="")}f=T!==void 0?T:L.nextSibling,typeof e.type=="function"&&(e.__d=f)}else f&&N.__e==f&&f.parentNode!=t&&(f=Et(N))}return I++,A}),e.__e=U,o!=null&&typeof e.type!="function")for(I=o.length;I--;)o[I]!=null&&Bo(o[I]);for(I=C;I--;)S[I]!=null&&yt(S[I],S[I]);if($)for(I=0;I<$.length;I++)Po($[I],$[++I],$[++I])}function Ve(t,e,n){if(n==null&&(n=[]),t==null||typeof t=="boolean")e&&n.push(e(null));else if(Array.isArray(t))for(var r=0;r<t.length;r++)Ve(t[r],e,n);else n.push(e?e(typeof t=="string"||typeof t=="number"?Pt(null,t,null,null,t):t.__e!=null||t.__c!=null?Pt(t.type,t.props,t.key,null,t.__v):t):t);return n}function xl(t,e,n,r,c){var o;for(o in n)o==="children"||o==="key"||o in e||Ft(t,o,null,n[o],r);for(o in e)c&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||n[o]===e[o]||Ft(t,o,e[o],n[o],r)}function Kr(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=typeof n=="number"&&Ml.test(e)===!1?n+"px":n==null?"":n}function Ft(t,e,n,r,c){var o,d,f,b,I;if(c?e==="className"&&(e="class"):e==="class"&&(e="className"),e==="style")if(o=t.style,typeof n=="string")o.cssText=n;else{if(typeof r=="string"&&(o.cssText="",r=null),r)for(b in r)n&&b in n||Kr(o,b,"");if(n)for(I in n)r&&n[I]===r[I]||Kr(o,I,n[I])}else e[0]==="o"&&e[1]==="n"?(d=e!==(e=e.replace(/Capture$/,"")),f=e.toLowerCase(),e=(f in t?f:e).slice(2),n?(r||t.addEventListener(e,Yr,d),(t.l||(t.l={}))[e]=n):t.removeEventListener(e,Yr,d)):e!=="list"&&e!=="tagName"&&e!=="form"&&e!=="type"&&e!=="size"&&!c&&e in t?t[e]=n==null?"":n:typeof n!="function"&&e!=="dangerouslySetInnerHTML"&&(e!==(e=e.replace(/^xlink:?/,""))?n==null||n===!1?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):n==null||n===!1&&!/^ar/.test(e)?t.removeAttribute(e):t.setAttribute(e,n))}function Yr(t){this.l[t.type](V.event?V.event(t):t)}function sr(t,e,n,r,c,o,d,f,b){var I,x,N,L,F,U,$,S,C,A,T=e.type;if(e.constructor!==void 0)return null;(I=V.__b)&&I(e);try{e:if(typeof T=="function"){if(S=e.props,C=(I=T.contextType)&&r[I.__c],A=I?C?C.props.value:I.__:r,n.__c?$=(x=e.__c=n.__c).__=x.__E:("prototype"in T&&T.prototype.render?e.__c=x=new T(S,A):(e.__c=x=new Fe(S,A),x.constructor=T,x.render=Rl),C&&C.sub(x),x.props=S,x.state||(x.state={}),x.context=A,x.__n=r,N=x.__d=!0,x.__h=[]),x.__s==null&&(x.__s=x.state),T.getDerivedStateFromProps!=null&&(x.__s==x.state&&(x.__s=$e({},x.__s)),$e(x.__s,T.getDerivedStateFromProps(S,x.__s))),L=x.props,F=x.state,N)T.getDerivedStateFromProps==null&&x.componentWillMount!=null&&x.componentWillMount(),x.componentDidMount!=null&&x.__h.push(x.componentDidMount);else{if(T.getDerivedStateFromProps==null&&S!==L&&x.componentWillReceiveProps!=null&&x.componentWillReceiveProps(S,A),!x.__e&&x.shouldComponentUpdate!=null&&x.shouldComponentUpdate(S,x.__s,A)===!1||e.__v===n.__v&&!x.__){for(x.props=S,x.state=x.__s,e.__v!==n.__v&&(x.__d=!1),x.__v=e,e.__e=n.__e,e.__k=n.__k,x.__h.length&&d.push(x),I=0;I<e.__k.length;I++)e.__k[I]&&(e.__k[I].__=e);break e}x.componentWillUpdate!=null&&x.componentWillUpdate(S,x.__s,A),x.componentDidUpdate!=null&&x.__h.push(function(){x.componentDidUpdate(L,F,U)})}x.context=A,x.props=S,x.state=x.__s,(I=V.__r)&&I(e),x.__d=!1,x.__v=e,x.__P=t,I=x.render(x.props,x.state,x.context),e.__k=I!=null&&I.type==Ct&&I.key==null?I.props.children:Array.isArray(I)?I:[I],x.getChildContext!=null&&(r=$e($e({},r),x.getChildContext())),N||x.getSnapshotBeforeUpdate==null||(U=x.getSnapshotBeforeUpdate(L,F)),Lo(t,e,n,r,c,o,d,f,b),x.base=e.__e,x.__h.length&&d.push(x),$&&(x.__E=x.__=null),x.__e=!1}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Sl(n.__e,e,n,r,c,o,d,b);(I=V.diffed)&&I(e)}catch(B){e.__v=null,V.__e(B,e,n)}return e.__e}function Uo(t,e){V.__c&&V.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){V.__e(r,n.__v)}})}function Sl(t,e,n,r,c,o,d,f){var b,I,x,N,L,F=n.props,U=e.props;if(c=e.type==="svg"||c,o!=null){for(b=0;b<o.length;b++)if((I=o[b])!=null&&((e.type===null?I.nodeType===3:I.localName===e.type)||t==I)){t=I,o[b]=null;break}}if(t==null){if(e.type===null)return document.createTextNode(U);t=c?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,U.is&&{is:U.is}),o=null,f=!1}if(e.type===null)F!==U&&t.data!=U&&(t.data=U);else{if(o!=null&&(o=Yt.slice.call(t.childNodes)),x=(F=n.props||We).dangerouslySetInnerHTML,N=U.dangerouslySetInnerHTML,!f){if(F===We)for(F={},L=0;L<t.attributes.length;L++)F[t.attributes[L].name]=t.attributes[L].value;(N||x)&&(N&&x&&N.__html==x.__html||(t.innerHTML=N&&N.__html||""))}xl(t,U,F,c,f),N?e.__k=[]:(e.__k=e.props.children,Lo(t,e,n,r,e.type!=="foreignObject"&&c,o,d,We,f)),f||("value"in U&&(b=U.value)!==void 0&&b!==t.value&&Ft(t,"value",b,F.value,!1),"checked"in U&&(b=U.checked)!==void 0&&b!==t.checked&&Ft(t,"checked",b,F.checked,!1))}return t}function Po(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){V.__e(r,n)}}function yt(t,e,n){var r,c,o;if(V.unmount&&V.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Po(r,null,e)),n||typeof t.type=="function"||(n=(c=t.__e)!=null),t.__e=t.__d=void 0,(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(d){V.__e(d,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&yt(r[o],e,n);c!=null&&Bo(c)}function Rl(t,e,n){return this.constructor(t,n)}function xt(t,e,n){var r,c,o;V.__&&V.__(t,e),c=(r=n===or)?null:n&&n.__k||e.__k,t=He(Ct,null,[t]),o=[],sr(e,(r?e:n||e).__k=t,c||We,We,e.ownerSVGElement!==void 0,n&&!r?[n]:c?null:Yt.slice.call(e.childNodes),o,n||We,r),Uo(o,t)}function Fo(t,e){xt(t,e,or)}function Cl(t,e){var n,r;for(r in e=$e($e({},t.props),e),arguments.length>2&&(e.children=Yt.slice.call(arguments,2)),n={},e)r!=="key"&&r!=="ref"&&(n[r]=e[r]);return Pt(t.type,n,e.key||t.key,e.ref||t.ref,null)}function Do(t){var e={},n={__c:"__cC"+ko++,__:t,Consumer:function(r,c){return r.children(c)},Provider:function(r){var c,o=this;return this.getChildContext||(c=[],this.getChildContext=function(){return e[n.__c]=o,e},this.shouldComponentUpdate=function(d){o.props.value!==d.value&&c.some(function(f){f.context=d.value,Bt(f)})},this.sub=function(d){c.push(d);var f=d.componentWillUnmount;d.componentWillUnmount=function(){c.splice(c.indexOf(d),1),f&&f.call(d)}}),r.children}};return n.Consumer.contextType=n,n.Provider.__=n,n}V={__e:function(t,e){for(var n,r;e=e.__;)if((n=e.__c)&&!n.__)try{if(n.constructor&&n.constructor.getDerivedStateFromError!=null&&(r=!0,n.setState(n.constructor.getDerivedStateFromError(t))),n.componentDidCatch!=null&&(r=!0,n.componentDidCatch(t)),r)return Bt(n.__E=n)}catch(c){t=c}throw t}},Fe.prototype.setState=function(t,e){var n;n=this.__s!==this.state?this.__s:this.__s=$e({},this.state),typeof t=="function"&&(t=t(n,this.props)),t&&$e(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),Bt(this))},Fe.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Bt(this))},Fe.prototype.render=Ct,wt=[],ir=0,Ao=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,or=We,ko=0;var tt,Oe,Qr,ft=0,Ln=[],Gr=V.__r,Zr=V.diffed,Xr=V.__c,ei=V.unmount;function gt(t,e){V.__h&&V.__h(Oe,t,ft||e),ft=0;var n=Oe.__H||(Oe.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function ar(t){return ft=1,cr(Jo,t)}function cr(t,e,n){var r=gt(tt++,2);return r.__c||(r.__c=Oe,r.__=[n?n(e):Jo(void 0,e),function(c){var o=t(r.__[0],c);r.__[0]!==o&&(r.__[0]=o,r.__c.setState({}))}]),r.__}function qo(t,e){var n=gt(tt++,3);!V.__s&&lr(n.__H,e)&&(n.__=t,n.__H=e,Oe.__H.__h.push(n))}function ur(t,e){var n=gt(tt++,4);!V.__s&&lr(n.__H,e)&&(n.__=t,n.__H=e,Oe.__h.push(n))}function $o(t){return ft=5,Qt(function(){return{current:t}},[])}function Wo(t,e,n){ft=6,ur(function(){typeof t=="function"?t(e()):t&&(t.current=e())},n==null?n:n.concat(t))}function Qt(t,e){var n=gt(tt++,7);return lr(n.__H,e)?(n.__H=e,n.__h=t,n.__=t()):n.__}function Ho(t,e){return ft=8,Qt(function(){return t},e)}function zo(t){var e=Oe.context[t.__c],n=gt(tt++,9);return n.__c=t,e?(n.__==null&&(n.__=!0,e.sub(Oe)),e.props.value):t.__}function jo(t,e){V.useDebugValue&&V.useDebugValue(e?e(t):t)}function Il(t){var e=gt(tt++,10),n=ar();return e.__=t,Oe.componentDidCatch||(Oe.componentDidCatch=function(r){e.__&&e.__(r),n[1](r)}),[n[0],function(){n[1](void 0)}]}function Tl(){Ln.some(function(t){if(t.__P)try{t.__H.__h.forEach(Un),t.__H.__h.forEach(Pn),t.__H.__h=[]}catch(e){return t.__H.__h=[],V.__e(e,t.__v),!0}}),Ln=[]}function Un(t){t.t&&t.t()}function Pn(t){var e=t.__();typeof e=="function"&&(t.t=e)}function lr(t,e){return!t||e.some(function(n,r){return n!==t[r]})}function Jo(t,e){return typeof e=="function"?e(t):e}V.__r=function(t){Gr&&Gr(t),tt=0,(Oe=t.__c).__H&&(Oe.__H.__h.forEach(Un),Oe.__H.__h.forEach(Pn),Oe.__H.__h=[])},V.diffed=function(t){Zr&&Zr(t);var e=t.__c;if(e){var n=e.__H;n&&n.__h.length&&(Ln.push(e)!==1&&Qr===V.requestAnimationFrame||((Qr=V.requestAnimationFrame)||function(r){var c,o=function(){clearTimeout(d),cancelAnimationFrame(c),setTimeout(r)},d=setTimeout(o,100);typeof window<"u"&&(c=requestAnimationFrame(o))})(Tl))}},V.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Un),n.__h=n.__h.filter(function(r){return!r.__||Pn(r)})}catch(r){e.some(function(c){c.__h&&(c.__h=[])}),e=[],V.__e(r,n.__v)}}),Xr&&Xr(t,e)},V.unmount=function(t){ei&&ei(t);var e=t.__c;if(e){var n=e.__H;if(n)try{n.__.forEach(function(r){return r.t&&r.t()})}catch(r){V.__e(r,e.__v)}}};function fr(t,e){for(var n in e)t[n]=e[n];return t}function Fn(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}var Vo=function(t){var e,n;function r(c){var o;return(o=t.call(this,c)||this).isPureReactComponent=!0,o}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.shouldComponentUpdate=function(c,o){return Fn(this.props,c)||Fn(this.state,o)},r}(Fe);function Ko(t,e){function n(c){var o=this.props.ref,d=o==c.ref;return!d&&o&&(o.call?o(null):o.current=null),e?!e(this.props,c)||!d:Fn(this.props,c)}function r(c){return this.shouldComponentUpdate=n,He(t,fr({},c))}return r.prototype.isReactComponent=!0,r.displayName="Memo("+(t.displayName||t.name)+")",r.t=!0,r}var ti=V.__b;function Yo(t){function e(n){var r=fr({},n);return delete r.ref,t(r,n.ref)}return e.prototype.isReactComponent=e.t=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}V.__b=function(t){t.type&&t.type.t&&t.ref&&(t.props.ref=t.ref,t.ref=null),ti&&ti(t)};var ni=function(t,e){return t?Ve(t).reduce(function(n,r,c){return n.concat(e(r,c))},[]):null},Qo={map:ni,forEach:ni,count:function(t){return t?Ve(t).length:0},only:function(t){if((t=Ve(t)).length!==1)throw new Error("Children.only() expects only one child.");return t[0]},toArray:Ve},Al=V.__e;function Go(t){return t&&((t=fr({},t)).__c=null,t.__k=t.__k&&t.__k.map(Go)),t}function Dt(){this.__u=0,this.o=null,this.__b=null}function Zo(t){var e=t.__.__c;return e&&e.u&&e.u(t)}function Xo(t){var e,n,r;function c(o){if(e||(e=t()).then(function(d){n=d.default||d},function(d){r=d}),r)throw r;if(!n)throw e;return He(n,o)}return c.displayName="Lazy",c.t=!0,c}function nt(){this.i=null,this.l=null}V.__e=function(t,e,n){if(t.then){for(var r,c=e;c=c.__;)if((r=c.__c)&&r.__c)return r.__c(t,e.__c)}Al(t,e,n)},(Dt.prototype=new Fe).__c=function(t,e){var n=this;n.o==null&&(n.o=[]),n.o.push(e);var r=Zo(n.__v),c=!1,o=function(){c||(c=!0,r?r(d):d())};e.__c=e.componentWillUnmount,e.componentWillUnmount=function(){o(),e.__c&&e.__c()};var d=function(){var f;if(!--n.__u)for(n.__v.__k[0]=n.state.u,n.setState({u:n.__b=null});f=n.o.pop();)f.forceUpdate()};n.__u++||n.setState({u:n.__b=n.__v.__k[0]}),t.then(o,o)},Dt.prototype.render=function(t,e){return this.__b&&(this.__v.__k[0]=Go(this.__b),this.__b=null),[He(Fe,null,e.u?null:t.children),e.u&&t.fallback]};var ri=function(t,e,n){if(++n[1]===n[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(n=t.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.i=n=n[2]}};(nt.prototype=new Fe).u=function(t){var e=this,n=Zo(e.__v),r=e.l.get(t);return r[0]++,function(c){var o=function(){e.props.revealOrder?(r.push(c),ri(e,t,r)):c()};n?n(o):o()}},nt.prototype.render=function(t){this.i=null,this.l=new Map;var e=Ve(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.l.set(e[n],this.i=[1,0,this.i]);return t.children},nt.prototype.componentDidUpdate=nt.prototype.componentDidMount=function(){var t=this;t.l.forEach(function(e,n){ri(t,n,e)})};var kl=function(){function t(){}var e=t.prototype;return e.getChildContext=function(){return this.props.context},e.render=function(n){return n.children},t}();function Bl(t){var e=this,n=t.container,r=He(kl,{context:e.context},t.vnode);return e.s&&e.s!==n&&(e.v.parentNode&&e.s.removeChild(e.v),yt(e.h),e.p=!1),t.vnode?e.p?(n.__k=e.__k,xt(r,n),e.__k=n.__k):(e.v=document.createTextNode(""),Fo("",n),n.appendChild(e.v),e.p=!0,e.s=n,xt(r,n,e.v),e.__k=e.v.__k):e.p&&(e.v.parentNode&&e.s.removeChild(e.v),yt(e.h)),e.h=r,e.componentWillUnmount=function(){e.v.parentNode&&e.s.removeChild(e.v),yt(e.h)},null}function es(t,e){return He(Bl,{vnode:t,container:e})}var ii=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;Fe.prototype.isReactComponent={};var ts=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103;function Dn(t,e,n){if(e.__k==null)for(;e.firstChild;)e.removeChild(e.firstChild);return xt(t,e),typeof n=="function"&&n(),t?t.__c:null}function Nl(t,e,n){return Fo(t,e),typeof n=="function"&&n(),t?t.__c:null}var oi=V.event;function Sn(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(n){this["UNSAFE_"+e]=n}})}V.event=function(t){oi&&(t=oi(t)),t.persist=function(){};var e=!1,n=!1,r=t.stopPropagation;t.stopPropagation=function(){r.call(t),e=!0};var c=t.preventDefault;return t.preventDefault=function(){c.call(t),n=!0},t.isPropagationStopped=function(){return e},t.isDefaultPrevented=function(){return n},t.nativeEvent=t};var si={configurable:!0,get:function(){return this.class}},ai=V.vnode;V.vnode=function(t){t.$$typeof=ts;var e=t.type,n=t.props;if(e){if(n.class!=n.className&&(si.enumerable="className"in n,n.className!=null&&(n.class=n.className),Object.defineProperty(n,"className",si)),typeof e!="function"){var r,c,o;for(o in n.defaultValue&&n.value!==void 0&&(n.value||n.value===0||(n.value=n.defaultValue),delete n.defaultValue),Array.isArray(n.value)&&n.multiple&&e==="select"&&(Ve(n.children).forEach(function(d){n.value.indexOf(d.props.value)!=-1&&(d.props.selected=!0)}),delete n.value),n)if(r=ii.test(o))break;if(r)for(o in c=t.props={},n)c[ii.test(o)?o.replace(/[A-Z0-9]/,"-$&").toLowerCase():o]=n[o]}(function(d){var f=t.type,b=t.props;if(b&&typeof f=="string"){var I={};for(var x in b)/^on(Ani|Tra|Tou)/.test(x)&&(b[x.toLowerCase()]=b[x],delete b[x]),I[x.toLowerCase()]=x;if(I.ondoubleclick&&(b.ondblclick=b[I.ondoubleclick],delete b[I.ondoubleclick]),I.onbeforeinput&&(b.onbeforeinput=b[I.onbeforeinput],delete b[I.onbeforeinput]),I.onchange&&(f==="textarea"||f.toLowerCase()==="input"&&!/^fil|che|ra/i.test(b.type))){var N=I.oninput||"oninput";b[N]||(b[N]=b[I.onchange],delete b[I.onchange])}}})(),typeof e=="function"&&!e.m&&e.prototype&&(Sn(e.prototype,"componentWillMount"),Sn(e.prototype,"componentWillReceiveProps"),Sn(e.prototype,"componentWillUpdate"),e.m=!0)}ai&&ai(t)};var Ol="16.8.0";function ns(t){return He.bind(null,t)}function hr(t){return!!t&&t.$$typeof===ts}function rs(t){return hr(t)?Cl.apply(null,arguments):t}function is(t){return!!t.__k&&(xt(null,t),!0)}function os(t){return t&&(t.base||t.nodeType===1&&t)||null}var ss=function(t,e){return t(e)};const Ll={useState:ar,useReducer:cr,useEffect:qo,useLayoutEffect:ur,useRef:$o,useImperativeHandle:Wo,useMemo:Qt,useCallback:Ho,useContext:zo,useDebugValue:jo,version:"16.8.0",Children:Qo,render:Dn,hydrate:Dn,unmountComponentAtNode:is,createPortal:es,createElement:He,createContext:Do,createFactory:ns,cloneElement:rs,createRef:No,Fragment:Ct,isValidElement:hr,findDOMNode:os,Component:Fe,PureComponent:Vo,memo:Ko,forwardRef:Yo,unstable_batchedUpdates:ss,Suspense:Dt,SuspenseList:nt,lazy:Xo},Ul=Object.freeze(Object.defineProperty({__proto__:null,default:Ll,version:Ol,Children:Qo,render:Dn,hydrate:Nl,unmountComponentAtNode:is,createPortal:es,createFactory:ns,cloneElement:rs,isValidElement:hr,findDOMNode:os,PureComponent:Vo,memo:Ko,forwardRef:Yo,unstable_batchedUpdates:ss,Suspense:Dt,SuspenseList:nt,lazy:Xo,createElement:He,createContext:Do,createRef:No,Fragment:Ct,Component:Fe,useState:ar,useReducer:cr,useEffect:qo,useLayoutEffect:ur,useRef:$o,useImperativeHandle:Wo,useMemo:Qt,useCallback:Ho,useContext:zo,useDebugValue:jo,useErrorBoundary:Il},Symbol.toStringTag,{value:"Module"})),Pl=hi(Ul);function as(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Ne=mu,cs=as(St),Fl=as(bl),q=Pl;function Dl(t){cs.toString(t,{type:"terminal"}).then(console.log)}var ql=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function $l(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}var Wl="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",Hl="WalletConnect",zl=300,jl="rgb(64, 153, 255)",us="walletconnect-wrapper",ci="walletconnect-style-sheet",ls="walletconnect-qrcode-modal",Jl="walletconnect-qrcode-close",fs="walletconnect-qrcode-text",Vl="walletconnect-connect-button";function Kl(t){return q.createElement("div",{className:"walletconnect-modal__header"},q.createElement("img",{src:Wl,className:"walletconnect-modal__headerLogo"}),q.createElement("p",null,Hl),q.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:t.onClose},q.createElement("div",{id:Jl,className:"walletconnect-modal__close__icon"},q.createElement("div",{className:"walletconnect-modal__close__line1"}),q.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function Yl(t){return q.createElement("a",{className:"walletconnect-connect__button",href:t.href,id:Vl+"-"+t.name,onClick:t.onClick,rel:"noopener noreferrer",style:{backgroundColor:t.color},target:"_blank"},t.name)}var Ql="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function Gl(t){var e=t.color,n=t.href,r=t.name,c=t.logo,o=t.onClick;return q.createElement("a",{className:"walletconnect-modal__base__row",href:n,onClick:o,rel:"noopener noreferrer",target:"_blank"},q.createElement("h3",{className:"walletconnect-modal__base__row__h3"},r),q.createElement("div",{className:"walletconnect-modal__base__row__right"},q.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+c+"') "+e,backgroundSize:"100%"}}),q.createElement("img",{src:Ql,className:"walletconnect-modal__base__row__right__caret"})))}function Zl(t){var e=t.color,n=t.href,r=t.name,c=t.logo,o=t.onClick,d=window.innerWidth<768?(r.length>8?2.5:2.7)+"vw":"inherit";return q.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:n,onClick:o,rel:"noopener noreferrer",target:"_blank"},q.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+c+"') "+e,backgroundSize:"100%"}}),q.createElement("div",{style:{fontSize:d},className:"walletconnect-connect__button__text"},r))}var Xl=5,Rn=12;function ef(t){var e=Ne.isAndroid(),n=q.useState(""),r=n[0],c=n[1],o=q.useState(""),d=o[0],f=o[1],b=q.useState(1),I=b[0],x=b[1],N=d?t.links.filter(function(B){return B.name.toLowerCase().includes(d.toLowerCase())}):t.links,L=t.errorMessage,F=d||N.length>Xl,U=Math.ceil(N.length/Rn),$=[(I-1)*Rn+1,I*Rn],S=N.length?N.filter(function(B,W){return W+1>=$[0]&&W+1<=$[1]}):[],C=!e&&U>1,A=void 0;function T(B){c(B.target.value),clearTimeout(A),B.target.value?A=setTimeout(function(){f(B.target.value),x(1)},1e3):(c(""),f(""),x(1))}return q.createElement("div",null,q.createElement("p",{id:fs,className:"walletconnect-qrcode__text"},e?t.text.connect_mobile_wallet:t.text.choose_preferred_wallet),!e&&q.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:r,onChange:T}),q.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(e?"__android":F&&N.length?"__wrap":"")},e?q.createElement(Yl,{name:t.text.connect,color:jl,href:t.uri,onClick:q.useCallback(function(){Ne.saveMobileLinkInfo({name:"Unknown",href:t.uri})},[])}):S.length?S.map(function(B){var W=B.color,H=B.name,K=B.shortName,Y=B.logo,se=Ne.formatIOSMobile(t.uri,B),y=q.useCallback(function(){Ne.saveMobileLinkInfo({name:H,href:se})},[S]);return F?q.createElement(Zl,{color:W,href:se,name:K||H,logo:Y,onClick:y}):q.createElement(Gl,{color:W,href:se,name:H,logo:Y,onClick:y})}):q.createElement(q.Fragment,null,q.createElement("p",null,L.length?t.errorMessage:!!t.links.length&&!N.length?t.text.no_wallets_found:t.text.loading))),C&&q.createElement("div",{className:"walletconnect-modal__footer"},Array(U).fill(0).map(function(B,W){var H=W+1,K=I===H;return q.createElement("a",{style:{margin:"auto 10px",fontWeight:K?"bold":"normal"},onClick:function(){return x(H)}},H)})))}function tf(t){var e=!!t.message.trim();return q.createElement("div",{className:"walletconnect-qrcode__notification"+(e?" notification__show":"")},t.message)}var nf=function(t){try{var e="";return Promise.resolve(cs.toString(t,{margin:0,type:"svg"})).then(function(n){return typeof n=="string"&&(e=n.replace("<svg",'<svg class="walletconnect-qrcode__image"')),e})}catch(n){return Promise.reject(n)}};function rf(t){var e=q.useState(""),n=e[0],r=e[1],c=q.useState(""),o=c[0],d=c[1];q.useEffect(function(){try{return Promise.resolve(nf(t.uri)).then(function(b){d(b)})}catch(b){Promise.reject(b)}},[]);var f=function(){var b=Fl(t.uri);b?(r(t.text.copied_to_clipboard),setInterval(function(){return r("")},1200)):(r("Error"),setInterval(function(){return r("")},1200))};return q.createElement("div",null,q.createElement("p",{id:fs,className:"walletconnect-qrcode__text"},t.text.scan_qrcode_with_wallet),q.createElement("div",{dangerouslySetInnerHTML:{__html:o}}),q.createElement("div",{className:"walletconnect-modal__footer"},q.createElement("a",{onClick:f},t.text.copy_to_clipboard)),q.createElement(tf,{message:n}))}function of(t){var e=Ne.isAndroid(),n=Ne.isMobile(),r=n?t.qrcodeModalOptions&&t.qrcodeModalOptions.mobileLinks?t.qrcodeModalOptions.mobileLinks:void 0:t.qrcodeModalOptions&&t.qrcodeModalOptions.desktopLinks?t.qrcodeModalOptions.desktopLinks:void 0,c=q.useState(!1),o=c[0],d=c[1],f=q.useState(!1),b=f[0],I=f[1],x=q.useState(!n),N=x[0],L=x[1],F={mobile:n,text:t.text,uri:t.uri,qrcodeModalOptions:t.qrcodeModalOptions},U=q.useState(""),$=U[0],S=U[1],C=q.useState(!1),A=C[0],T=C[1],B=q.useState([]),W=B[0],H=B[1],K=q.useState(""),Y=K[0],se=K[1],y=function(){b||o||r&&!r.length||W.length>0||q.useEffect(function(){var l=function(){try{if(e)return Promise.resolve();d(!0);var h=$l(function(){var p=t.qrcodeModalOptions&&t.qrcodeModalOptions.registryUrl?t.qrcodeModalOptions.registryUrl:Ne.getWalletRegistryUrl();return Promise.resolve(fetch(p)).then(function(_){return Promise.resolve(_.json()).then(function(M){var R=M.listings,m=n?"mobile":"desktop",s=Ne.getMobileLinkRegistry(Ne.formatMobileRegistry(R,m),r);d(!1),I(!0),se(s.length?"":t.text.no_supported_wallets),H(s);var v=s.length===1;v&&(S(Ne.formatIOSMobile(t.uri,s[0])),L(!0)),T(v)})})},function(p){d(!1),I(!0),se(t.text.something_went_wrong),console.error(p)});return Promise.resolve(h&&h.then?h.then(function(){}):void 0)}catch(p){return Promise.reject(p)}};l()})};y();var i=n?N:!N;return q.createElement("div",{id:ls,className:"walletconnect-qrcode__base animated fadeIn"},q.createElement("div",{className:"walletconnect-modal__base"},q.createElement(Kl,{onClose:t.onClose}),A&&N?q.createElement("div",{className:"walletconnect-modal__single_wallet"},q.createElement("a",{onClick:function(){return Ne.saveMobileLinkInfo({name:W[0].name,href:$})},href:$,rel:"noopener noreferrer",target:"_blank"},t.text.connect_with+" "+(A?W[0].name:"")+" \u203A")):e||o||!o&&W.length?q.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(i?" right__selected":"")},q.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),n?q.createElement(q.Fragment,null,q.createElement("a",{onClick:function(){return L(!1),y()}},t.text.mobile),q.createElement("a",{onClick:function(){return L(!0)}},t.text.qrcode)):q.createElement(q.Fragment,null,q.createElement("a",{onClick:function(){return L(!0)}},t.text.qrcode),q.createElement("a",{onClick:function(){return L(!1),y()}},t.text.desktop))):null,q.createElement("div",null,N||!e&&!o&&!W.length?q.createElement(rf,Object.assign({},F)):q.createElement(ef,Object.assign({},F,{links:W,errorMessage:Y})))))}var sf={choose_preferred_wallet:"W\xE4hle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterst\xFCtzten Wallet",no_wallets_found:"keine Wallet gefunden"},af={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},cf={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera m\xF3vil",scan_qrcode_with_wallet:"Escanea el c\xF3digo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali\xF3 mal",no_supported_wallets:"Todav\xEDa no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},uf={choose_preferred_wallet:"Choisissez votre portefeuille pr\xE9f\xE9r\xE9",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi\xE9!",connect_with:"Connectez-vous \xE0 l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn\xE9",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv\xE9"},lf={choose_preferred_wallet:"\uC6D0\uD558\uB294 \uC9C0\uAC11\uC744 \uC120\uD0DD\uD558\uC138\uC694",connect_mobile_wallet:"\uBAA8\uBC14\uC77C \uC9C0\uAC11\uACFC \uC5F0\uACB0",scan_qrcode_with_wallet:"WalletConnect \uC9C0\uC6D0 \uC9C0\uAC11\uC5D0\uC11C QR\uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uC138\uC694",connect:"\uC5F0\uACB0",qrcode:"QR \uCF54\uB4DC",mobile:"\uBAA8\uBC14\uC77C",desktop:"\uB370\uC2A4\uD06C\uD0D1",copy_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC",copied_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!",connect_with:"\uC640 \uC5F0\uACB0\uD558\uB2E4",loading:"\uB85C\uB4DC \uC911...",something_went_wrong:"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.",no_supported_wallets:"\uC544\uC9C1 \uC9C0\uC6D0\uB418\uB294 \uC9C0\uAC11\uC774 \uC5C6\uC2B5\uB2C8\uB2E4",no_wallets_found:"\uC9C0\uAC11\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},ff={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se \xE0 carteira m\xF3vel",scan_qrcode_with_wallet:"Ler o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda n\xE3o h\xE1 carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},hf={choose_preferred_wallet:"\u9009\u62E9\u4F60\u7684\u94B1\u5305",connect_mobile_wallet:"\u8FDE\u63A5\u81F3\u79FB\u52A8\u7AEF\u94B1\u5305",scan_qrcode_with_wallet:"\u4F7F\u7528\u517C\u5BB9 WalletConnect \u7684\u94B1\u5305\u626B\u63CF\u4E8C\u7EF4\u7801",connect:"\u8FDE\u63A5",qrcode:"\u4E8C\u7EF4\u7801",mobile:"\u79FB\u52A8",desktop:"\u684C\u9762",copy_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F",copied_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F\u6210\u529F\uFF01",connect_with:"\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u8FDE\u63A5",loading:"\u6B63\u5728\u52A0\u8F7D...",something_went_wrong:"\u51FA\u4E86\u95EE\u9898",no_supported_wallets:"\u76EE\u524D\u8FD8\u6CA1\u6709\u652F\u6301\u7684\u94B1\u5305",no_wallets_found:"\u6CA1\u6709\u627E\u5230\u94B1\u5305"},df={choose_preferred_wallet:"\u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0631\u062F \u0646\u0638\u0631 \u062E\u0648\u062F \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F",connect_mobile_wallet:"\u0628\u0647 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0628\u0627\u06CC\u0644 \u0648\u0635\u0644 \u0634\u0648\u06CC\u062F",scan_qrcode_with_wallet:"\u06A9\u062F QR \u0631\u0627 \u0628\u0627 \u06CC\u06A9 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0633\u0627\u0632\u06AF\u0627\u0631 \u0628\u0627 WalletConnect \u0627\u0633\u06A9\u0646 \u06A9\u0646\u06CC\u062F",connect:"\u0627\u062A\u0635\u0627\u0644",qrcode:"\u06A9\u062F QR",mobile:"\u0633\u06CC\u0627\u0631",desktop:"\u062F\u0633\u06A9\u062A\u0627\u067E",copy_to_clipboard:"\u06A9\u067E\u06CC \u0628\u0647 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F",copied_to_clipboard:"\u062F\u0631 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F \u06A9\u067E\u06CC \u0634\u062F!",connect_with:"\u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627",loading:"...\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",something_went_wrong:"\u0645\u0634\u06A9\u0644\u06CC \u067E\u06CC\u0634 \u0622\u0645\u062F",no_supported_wallets:"\u0647\u0646\u0648\u0632 \u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0634\u062F\u0647 \u0627\u06CC \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F",no_wallets_found:"\u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644\u06CC \u067E\u06CC\u062F\u0627 \u0646\u0634\u062F"},ui={de:sf,en:af,es:cf,fr:uf,ko:lf,pt:ff,zh:hf,fa:df};function pf(){var t=Ne.getDocumentOrThrow(),e=t.getElementById(ci);e&&t.head.removeChild(e);var n=t.createElement("style");n.setAttribute("id",ci),n.innerText=ql,t.head.appendChild(n)}function gf(){var t=Ne.getDocumentOrThrow(),e=t.createElement("div");return e.setAttribute("id",us),t.body.appendChild(e),e}function hs(){var t=Ne.getDocumentOrThrow(),e=t.getElementById(ls);e&&(e.className=e.className.replace("fadeIn","fadeOut"),setTimeout(function(){var n=t.getElementById(us);n&&t.body.removeChild(n)},zl))}function mf(t){return function(){hs(),t&&t()}}function vf(){var t=Ne.getNavigatorOrThrow().language.split("-")[0]||"en";return ui[t]||ui.en}function _f(t,e,n){pf();var r=gf();q.render(q.createElement(of,{text:vf(),uri:t,onClose:mf(e),qrcodeModalOptions:n}),r)}function wf(){hs()}var ds=function(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"};function yf(t,e,n){console.log(t),ds()?Dl(t):_f(t,e,n)}function bf(){ds()||wf()}var Mf={open:yf,close:bf},Ef=Mf;class xf{}class Sf extends xf{constructor(e){super()}}const Rf="PARSE_ERROR",Cf="INVALID_REQUEST",If="METHOD_NOT_FOUND",Tf="INVALID_PARAMS",ps="INTERNAL_ERROR",dr="SERVER_ERROR",Af=[-32700,-32600,-32601,-32602,-32603],bt={[Rf]:{code:-32700,message:"Parse error"},[Cf]:{code:-32600,message:"Invalid Request"},[If]:{code:-32601,message:"Method not found"},[Tf]:{code:-32602,message:"Invalid params"},[ps]:{code:-32603,message:"Internal error"},[dr]:{code:-32e3,message:"Server error"}},gs=dr;function kf(t){return Af.includes(t)}function li(t){return Object.keys(bt).includes(t)?bt[t]:bt[gs]}function Bf(t){const e=Object.values(bt).find(n=>n.code===t);return e||bt[gs]}function fi(t,e,n){return{id:t,jsonrpc:"2.0",error:Nf(e,n)}}function Nf(t,e){return typeof t>"u"?li(ps):(typeof t=="string"&&(t=Object.assign(Object.assign({},li(dr)),{message:t})),typeof e<"u"&&(t.data=e),kf(t.code)&&(t=Bf(t.code)),t)}class Of extends Sf{constructor(e){super(),this.events=new di,this.accounts=[],this.chainId=1,this.pending=!1,this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModalOptions=void 0,this.opts=e,this.chainId=(e==null?void 0:e.chainId)||this.chainId,this.wc=this.register(e)}get connected(){return typeof this.wc<"u"&&this.wc.connected}get connecting(){return this.pending}get connector(){return this.wc=this.register(this.opts),this.wc}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e){if(this.connected){this.onOpen();return}return new Promise((n,r)=>{this.on("error",c=>{r(c)}),this.on("open",()=>{n()}),this.create(e)})}async close(){typeof this.wc>"u"||(this.wc.connected&&this.wc.killSession(),this.onClose())}async send(e){this.wc=this.register(this.opts),this.connected||await this.open(),this.sendPayload(e).then(n=>this.events.emit("payload",n)).catch(n=>this.events.emit("payload",fi(e.id,n.message)))}register(e){if(this.wc)return this.wc;this.opts=e||this.opts,this.bridge=e!=null&&e.connector?e.connector.bridge:(e==null?void 0:e.bridge)||"https://bridge.walletconnect.org",this.qrcode=typeof(e==null?void 0:e.qrcode)>"u"||e.qrcode!==!1,this.chainId=typeof(e==null?void 0:e.chainId)<"u"?e.chainId:this.chainId,this.qrcodeModalOptions=e==null?void 0:e.qrcodeModalOptions;const n={bridge:this.bridge,qrcodeModal:this.qrcode?Ef:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:e==null?void 0:e.storageId,signingMethods:e==null?void 0:e.signingMethods,clientMeta:e==null?void 0:e.clientMeta};if(this.wc=typeof(e==null?void 0:e.connector)<"u"?e.connector:new gu(n),typeof this.wc>"u")throw new Error("Failed to register WalletConnect connector");return this.wc.accounts.length&&(this.accounts=this.wc.accounts),this.wc.chainId&&(this.chainId=this.wc.chainId),this.registerConnectorEvents(),this.wc}onOpen(e){this.pending=!1,e&&(this.wc=e),this.events.emit("open")}onClose(){this.pending=!1,this.wc&&(this.wc=void 0),this.events.emit("close")}onError(e,n="Failed or Rejected Request",r=-32e3,c){const o={id:e.id,jsonrpc:e.jsonrpc,error:{code:r,message:n}};return typeof c<"u"&&(o.error.data=c),this.events.emit("payload",o),o}create(e){this.wc=this.register(this.opts),this.chainId=e||this.chainId,!(this.connected||this.pending)&&(this.pending=!0,this.registerConnectorEvents(),this.wc.createSession({chainId:this.chainId}).then(()=>this.events.emit("created")).catch(n=>this.events.emit("error",n)))}registerConnectorEvents(){this.wc=this.register(this.opts),this.wc.on("connect",e=>{var n,r;if(e){this.events.emit("error",e);return}this.accounts=((n=this.wc)===null||n===void 0?void 0:n.accounts)||[],this.chainId=((r=this.wc)===null||r===void 0?void 0:r.chainId)||this.chainId,this.onOpen()}),this.wc.on("disconnect",e=>{if(e){this.events.emit("error",e);return}this.onClose()}),this.wc.on("modal_closed",()=>{this.events.emit("error",new Error("User closed modal"))}),this.wc.on("session_update",(e,n)=>{const{accounts:r,chainId:c}=n.params[0];(!this.accounts||r&&this.accounts!==r)&&(this.accounts=r,this.events.emit("accountsChanged",r)),(!this.chainId||c&&this.chainId!==c)&&(this.chainId=c,this.events.emit("chainChanged",c))})}async sendPayload(e){this.wc=this.register(this.opts);try{const n=await this.wc.unsafeSend(e);return this.sanitizeResponse(n)}catch(n){return this.onError(e,n.message)}}sanitizeResponse(e){return typeof e.error<"u"&&typeof e.error.code>"u"?fi(e.id,e.error.message,e.error.data):e}}class Df{constructor(e){this.events=new di,this.rpc={infuraId:e==null?void 0:e.infuraId,custom:e==null?void 0:e.rpc},this.signer=new Sr(new Of(e));const n=this.signer.connection.chainId||(e==null?void 0:e.chainId)||1;this.http=this.setHttpProvider(n),this.registerEventListeners()}get connected(){return this.signer.connection.connected}get connector(){return this.signer.connection.connector}get accounts(){return this.signer.connection.accounts}get chainId(){return this.signer.connection.chainId}get rpcUrl(){var e;return((e=this.http)===null||e===void 0?void 0:e.connection).url||""}async request(e){switch(e.method){case"eth_requestAccounts":return await this.connect(),this.signer.connection.accounts;case"eth_accounts":return this.signer.connection.accounts;case"eth_chainId":return this.signer.connection.chainId}if(Jn.includes(e.method))return this.signer.request(e);if(typeof this.http>"u")throw new Error(`Cannot request JSON-RPC method (${e.method}) without provided rpc url`);return this.http.request(e)}sendAsync(e,n){this.request(e).then(r=>n(null,r)).catch(r=>n(r,void 0))}async enable(){return await this.request({method:"eth_requestAccounts"})}async connect(){this.signer.connection.connected||await this.signer.connect()}async disconnect(){this.signer.connection.connected&&await this.signer.disconnect()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}registerEventListeners(){this.signer.connection.on("accountsChanged",e=>{this.events.emit("accountsChanged",e)}),this.signer.connection.on("chainChanged",e=>{this.http=this.setHttpProvider(e),this.events.emit("chainChanged",e)}),this.signer.on("disconnect",()=>{this.events.emit("disconnect")})}setHttpProvider(e){const n=pc(e,this.rpc);return typeof n>"u"?void 0:new Sr(new Qs(n))}}export{Df as default};
