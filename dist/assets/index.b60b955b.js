import{g as dn,i as Qe,r as ya,c as ie,b as gi,a as Yh}from"./index.dea79422.js";import{e as yi,b as vi}from"./index.b3480372.js";function Zh(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var va={},sn={},mi={};Object.defineProperty(mi,"__esModule",{value:!0});mi.walletLogo=void 0;const Jh=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};mi.walletLogo=Jh;var _i={};Object.defineProperty(_i,"__esModule",{value:!0});_i.ScopedLocalStorage=void 0;class Xh{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}_i.ScopedLocalStorage=Xh;var gr={},Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});const ed=yi.exports;function fu(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function td(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}class rd extends ed.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")fu(s,this,r);else{const o=s.length,a=td(s);for(let u=0;u<o;u+=1)fu(a[u],this,r)}return!0}}Ir.default=rd;var wi={},Rt={},Kc=on;on.default=on;on.stable=Jc;on.stableStringify=Jc;var ei="[...]",Yc="[Circular]",qt=[],Ht=[];function Zc(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function on(t,e,r,n){typeof n>"u"&&(n=Zc()),Go(t,"",0,[],void 0,0,n);var i;try{Ht.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,Xc(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;qt.length!==0;){var s=qt.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function fr(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),qt.push([n,r,e,i])):Ht.push([e,r,t]):(n[r]=t,qt.push([n,r,e]))}function Go(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){fr(Yc,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){fr(ei,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){fr(ei,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Go(t[a],a,a,n,t,s,o);else{var u=Object.keys(t);for(a=0;a<u.length;a++){var c=u[a];Go(t[c],c,a,n,t,s,o)}}n.pop()}}function nd(t,e){return t<e?-1:t>e?1:0}function Jc(t,e,r,n){typeof n>"u"&&(n=Zc());var i=Qo(t,"",0,[],void 0,0,n)||t,s;try{Ht.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,Xc(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;qt.length!==0;){var o=qt.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function Qo(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){fr(Yc,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){fr(ei,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){fr(ei,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Qo(t[a],a,a,n,t,s,o);else{var u={},c=Object.keys(t).sort(nd);for(a=0;a<c.length;a++){var l=c[a];Qo(t[l],l,a,n,t,s,o),u[l]=t[l]}if(typeof i<"u")qt.push([i,e,t]),i[e]=u;else return u}n.pop()}}function Xc(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Ht.length>0)for(var n=0;n<Ht.length;n++){var i=Ht[n];if(i[1]===e&&i[0]===r){r=i[2],Ht.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(Rt,"__esModule",{value:!0});Rt.EthereumProviderError=Rt.EthereumRpcError=void 0;const id=Kc;class el extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return id.default(this.serialize(),ad,2)}}Rt.EthereumRpcError=el;class sd extends el{constructor(e,r,n){if(!od(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Rt.EthereumProviderError=sd;function od(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function ad(t,e){if(e!=="[Circular]")return e}var ma={},Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.errorValues=Tt.errorCodes=void 0;Tt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Tt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Tt,r=Rt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(f,p=i){if(Number.isInteger(f)){const y=f.toString();if(g(e.errorValues,y))return e.errorValues[y].message;if(c(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return p}t.getMessageFromCode=o;function a(f){if(!Number.isInteger(f))return!1;const p=f.toString();return!!(e.errorValues[p]||c(f))}t.isValidCode=a;function u(f,{fallbackError:p=s,shouldIncludeStack:y=!1}={}){var C,I;if(!p||!Number.isInteger(p.code)||typeof p.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof r.EthereumRpcError)return f.serialize();const b={};if(f&&typeof f=="object"&&!Array.isArray(f)&&g(f,"code")&&a(f.code)){const S=f;b.code=S.code,S.message&&typeof S.message=="string"?(b.message=S.message,g(S,"data")&&(b.data=S.data)):(b.message=o(b.code),b.data={originalError:l(f)})}else{b.code=p.code;const S=(C=f)===null||C===void 0?void 0:C.message;b.message=S&&typeof S=="string"?S:p.message,b.data={originalError:l(f)}}const v=(I=f)===null||I===void 0?void 0:I.stack;return y&&f&&v&&typeof v=="string"&&(b.stack=v),b}t.serializeError=u;function c(f){return f>=-32099&&f<=-32e3}function l(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function g(f,p){return Object.prototype.hasOwnProperty.call(f,p)}})(ma);var Si={};Object.defineProperty(Si,"__esModule",{value:!0});Si.ethErrors=void 0;const _a=Rt,tl=ma,Re=Tt;Si.ethErrors={rpc:{parse:t=>Ue(Re.errorCodes.rpc.parse,t),invalidRequest:t=>Ue(Re.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Ue(Re.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Ue(Re.errorCodes.rpc.methodNotFound,t),internal:t=>Ue(Re.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ue(e,t)},invalidInput:t=>Ue(Re.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Ue(Re.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Ue(Re.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Ue(Re.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Ue(Re.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Ue(Re.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Ur(Re.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Ur(Re.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Ur(Re.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Ur(Re.errorCodes.provider.disconnected,t),chainDisconnected:t=>Ur(Re.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new _a.EthereumProviderError(e,r,n)}}};function Ue(t,e){const[r,n]=rl(e);return new _a.EthereumRpcError(t,r||tl.getMessageFromCode(t),n)}function Ur(t,e){const[r,n]=rl(e);return new _a.EthereumProviderError(t,r||tl.getMessageFromCode(t),n)}function rl(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Rt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=ma;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Si;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Tt;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(wi);var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.EVENTS=void 0;Rr.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Tr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ko=function(t,e){return Ko=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ko(t,e)};function P(t,e){Ko(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function yr(t){return typeof t=="function"}var hu=!1,ze={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}hu=t},get useDeprecatedSynchronousErrorHandling(){return hu}};function ur(t){setTimeout(function(){throw t},0)}var ti={closed:!0,next:function(t){},error:function(t){if(ze.useDeprecatedSynchronousErrorHandling)throw t;ur(t)},complete:function(){}},je=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function wa(t){return t!==null&&typeof t=="object"}var ud=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),Kr=ud,ve=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var u=n[a];u.remove(this)}if(yr(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(g){e=g instanceof Kr?du(g.errors):[g]}}if(je(o))for(var a=-1,c=o.length;++a<c;){var l=o[a];if(wa(l))try{l.unsubscribe()}catch(f){e=e||[],f instanceof Kr?e=e.concat(du(f.errors)):e.push(f)}}if(e)throw new Kr(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function du(t){return t.reduce(function(e,r){return e.concat(r instanceof Kr?r.errors:r)},[])}var ri=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Y=function(t){P(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=ti;break;case 1:if(!r){s.destination=ti;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new pu(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new pu(s,r,n,i);break}return s}return e.prototype[ri]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(ve),pu=function(t){P(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,u=o;return yr(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==ti&&(u=Object.create(n),yr(u.unsubscribe)&&o.add(u.unsubscribe.bind(u)),u.unsubscribe=o.unsubscribe.bind(o))),o._context=u,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!ze.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=ze.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):ur(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;ur(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!ze.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),ze.useDeprecatedSynchronousErrorHandling)throw i;ur(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!ze.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return ze.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(ur(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(Y);function Sa(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof Y?t=n:t=null}return!0}function cd(t,e,r){if(t){if(t instanceof Y)return t;if(t[ri])return t[ri]()}return!t&&!e&&!r?new Y(ti):new Y(t,e,r)}var Or=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Ot(t){return t}function Yo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return nl(t)}function nl(t){return t.length===0?Ot:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var se=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=cd(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||ze.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),ze.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){ze.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),Sa(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=bu(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(u){s(u),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[Or]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:nl(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=bu(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function bu(t){if(t||(t=ze.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var ld=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),kt=ld,il=function(t){P(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(ve),sl=function(t){P(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(Y),ke=function(t){P(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[ri]=function(){return new sl(this)},e.prototype.lift=function(r){var n=new gu(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new kt;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new kt;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new kt;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new kt;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new kt;return this.hasError?(r.error(this.thrownError),ve.EMPTY):this.isStopped?(r.complete(),ve.EMPTY):(this.observers.push(r),new il(this,r))},e.prototype.asObservable=function(){var r=new se;return r.source=this,r},e.create=function(r,n){return new gu(r,n)},e}(se),gu=function(t){P(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):ve.EMPTY},e}(ke);function Ea(){return function(e){return e.lift(new fd(e))}}var fd=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new hd(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),hd=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(Y),ol=function(t){P(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new ve,r.add(this.source.subscribe(new pd(this.getSubject(),this))),r.closed&&(this._connection=null,r=ve.EMPTY)),r},e.prototype.refCount=function(){return Ea()(this)},e}(se),dd=function(){var t=ol.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),pd=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(sl);function bd(t,e,r,n){return function(i){return i.lift(new gd(t,e,r,n))}}var gd=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new yd(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),yd=function(t){P(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(c){this.error(c)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new ke,i.set(n,s);var a=new Zo(n,s,this);if(this.destination.next(a),this.durationSelector){var u=void 0;try{u=this.durationSelector(new Zo(n,s))}catch(c){this.error(c);return}this.add(u.subscribe(new vd(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(Y),vd=function(t){P(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(Y),Zo=function(t){P(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new ve,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new md(s)),n.add(o.subscribe(r)),n},e}(se),md=function(t){P(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(ve),al=function(t){P(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new kt;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(ke),_d=function(t){P(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(ve),pn=function(t){P(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(_d),wd=function(t){P(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(pn),Jo=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),bn=function(t){P(e,t);function e(r,n){n===void 0&&(n=Jo.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(Jo),Sd=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(bn),ul=new Sd(wd),cl=ul,vr=new se(function(t){return t.complete()});function Nr(t){return t?Ed(t):vr}function Ed(t){return new se(function(e){return t.schedule(function(){return e.complete()})})}function We(t){return t&&typeof t.schedule=="function"}var ll=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function xa(t,e){return new se(function(r){var n=new ve,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function gn(t,e){return e?xa(t,e):new se(ll(t))}function Ei(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return We(r)?(t.pop(),xa(t,r)):gn(t)}function Ca(t,e){return e?new se(function(r){return e.schedule(xd,0,{error:t,subscriber:r})}):new se(function(r){return r.error(t)})}function xd(t){var e=t.error,r=t.subscriber;r.error(e)}var Xo;Xo||(Xo={});var gt=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Ei(this.value);case"E":return Ca(this.error);case"C":return Nr()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function Cd(t,e){return e===void 0&&(e=0),function(n){return n.lift(new kd(t,e))}}var kd=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new fl(e,this.scheduler,this.delay))},t}(),fl=function(t){P(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new Ad(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(gt.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(gt.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(gt.createComplete()),this.unsubscribe()},e}(Y),Ad=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),ka=function(t){P(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new Md(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new kt;if(this.isStopped||this.hasError?a=ve.EMPTY:(this.observers.push(r),a=new il(this,r)),s&&r.add(r=new fl(r,s)),n)for(var u=0;u<o&&!r.closed;u++)r.next(i[u]);else for(var u=0;u<o&&!r.closed;u++)r.next(i[u].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||cl).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(ke),Md=function(){function t(e,r){this.time=e,this.value=r}return t}(),Pr=function(t){P(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),ve.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),ve.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(ke),Id=1,Rd=function(){return Promise.resolve()}(),ea={};function yu(t){return t in ea?(delete ea[t],!0):!1}var vu={setImmediate:function(t){var e=Id++;return ea[e]=!0,Rd.then(function(){return yu(e)&&t()}),e},clearImmediate:function(t){yu(t)}},Td=function(t){P(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=vu.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(vu.clearImmediate(n),r.scheduled=void 0)},e}(pn),Od=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(bn),hl=new Od(Td),zn=hl,dl=new bn(pn),Be=dl,Nd=function(t){P(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(pn),Pd=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(bn),pl=new Pd(Nd),Dd=pl,Ld=function(t){P(e,t);function e(r,n){r===void 0&&(r=bl),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(bn),bl=function(t){P(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(pn);function st(){}function jd(t){return!!t&&(t instanceof se||typeof t.lift=="function"&&typeof t.subscribe=="function")}var Bd=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),mr=Bd,Fd=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),yn=Fd,$d=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),gl=$d;function Ke(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Wd(t,e))}}var Wd=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new Ud(e,this.project,this.thisArg))},t}(),Ud=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Y);function yl(t,e,r){if(e)if(We(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return yl(t,r).apply(void 0,n).pipe(Ke(function(s){return je(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new se(function(u){if(r){var l={args:n,subscriber:u,params:a};return r.schedule(Hd,0,l)}else{if(!o){o=new Pr;var c=function(){for(var g=[],f=0;f<arguments.length;f++)g[f]=arguments[f];o.next(g.length<=1?g[0]:g),o.complete()};try{t.apply(s,n.concat([c]))}catch(g){Sa(o)?o.error(g):console.warn(g)}}return o.subscribe(u)}})}}function Hd(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,u=i.subject;if(!u){u=i.subject=new Pr;var c=function(){for(var l=[],g=0;g<arguments.length;g++)l[g]=arguments[g];var f=l.length<=1?l[0]:l;e.add(a.schedule(Vd,0,{value:f,subject:u}))};try{s.apply(o,r.concat([c]))}catch(l){u.error(l)}}this.add(u.subscribe(n))}function Vd(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function vl(t,e,r){if(e)if(We(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return vl(t,r).apply(void 0,n).pipe(Ke(function(s){return je(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new se(function(o){var a=s.context,u=s.subject;if(r)return r.schedule(zd,0,{params:s,subscriber:o,context:a});if(!u){u=s.subject=new Pr;var c=function(){for(var l=[],g=0;g<arguments.length;g++)l[g]=arguments[g];var f=l.shift();if(f){u.error(f);return}u.next(l.length<=1?l[0]:l),u.complete()};try{t.apply(a,n.concat([c]))}catch(l){Sa(u)?u.error(l):console.warn(l)}}return u.subscribe(o)})}}function zd(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,u=r.subject;if(!u){u=r.subject=new Pr;var c=function(){for(var l=[],g=0;g<arguments.length;g++)l[g]=arguments[g];var f=l.shift();if(f)e.add(a.schedule(mu,0,{err:f,subject:u}));else{var p=l.length<=1?l[0]:l;e.add(a.schedule(qd,0,{value:p,subject:u}))}};try{s.apply(i,o.concat([c]))}catch(l){this.add(a.schedule(mu,0,{err:l,subject:u}))}}this.add(u.subscribe(n))}function qd(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function mu(t){var e=t.err,r=t.subject;r.error(e)}var Yt=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(Y),Gd=function(t){P(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Y),Qd=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,ur),e}};function Kd(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Nt=Kd(),Yd=function(t){return function(e){var r=t[Nt]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},Zd=function(t){return function(e){var r=t[Or]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},ml=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function _l(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var an=function(t){if(!!t&&typeof t[Or]=="function")return Zd(t);if(ml(t))return ll(t);if(_l(t))return Qd(t);if(!!t&&typeof t[Nt]=="function")return Yd(t);var e=wa(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function yt(t,e,r,n,i){if(i===void 0&&(i=new Gd(t,r,n)),!i.closed)return e instanceof se?e.subscribe(i):an(e)(i)}var _u={};function Jd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return We(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&je(t[0])&&(t=t[0]),gn(t,n).lift(new Aa(r))}var Aa=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Xd(e,this.resultSelector))},t}(),Xd=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(_u),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(yt(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===_u?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Yt);function ep(t,e){return new se(function(r){var n=new ve;return n.add(e.schedule(function(){var i=t[Or]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function tp(t,e){return new se(function(r){var n=new ve;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function rp(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(function(r){var n=new ve,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[Nt](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(u){r.error(u);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function np(t){return t&&typeof t[Or]=="function"}function ip(t){return t&&typeof t[Nt]=="function"}function wl(t,e){if(t!=null){if(np(t))return ep(t,e);if(_l(t))return tp(t,e);if(ml(t))return xa(t,e);if(ip(t)||typeof t=="string")return rp(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function _t(t,e){return e?wl(t,e):t instanceof se?t:new se(an(t))}var me=function(t){P(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(Y),_e=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(Y);function we(t,e){if(!e.closed){if(t instanceof se)return t.subscribe(e);var r;try{r=an(t)(e)}catch(n){e.error(n)}return r}}function Gt(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(Gt(function(i,s){return _t(t(i,s)).pipe(Ke(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new sp(t,r))})}var sp=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new op(e,this.project,this.concurrent))},t}(),op=function(t){P(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new me(this),i=this.destination;i.add(n);var s=we(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(_e),ap=Gt;function Ma(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),Gt(Ot,t)}function Sl(){return Ma(1)}function un(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Sl()(Ei.apply(void 0,t))}function Ia(t){return new se(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?_t(r):Nr();return n.subscribe(e)})}function up(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(je(r))return Pn(r,null);if(wa(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Pn(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&je(t[0])?t[0]:t,Pn(t,null).pipe(Ke(function(s){return i.apply(void 0,s)}))}return Pn(t,null)}function Pn(t,e){return new se(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(c){var l=_t(t[c]),g=!1;r.add(l.subscribe({next:function(f){g||(g=!0,o++),i[c]=f},error:function(f){return r.error(f)},complete:function(){s++,(s===n||!g)&&(o===n&&r.next(e?e.reduce(function(f,p,y){return f[p]=i[y],f},{}):i),r.complete())}}))},u=0;u<n;u++)a(u)})}function El(t,e,r,n){return yr(r)&&(n=r,r=void 0),n?El(t,e,r).pipe(Ke(function(i){return je(i)?n.apply(void 0,i):n(i)})):new se(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}xl(t,e,s,i,r)})}function xl(t,e,r,n,i){var s;if(fp(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(lp(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(cp(t)){var u=t;t.addListener(e,r),s=function(){return u.removeListener(e,r)}}else if(t&&t.length)for(var c=0,l=t.length;c<l;c++)xl(t[c],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function cp(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function lp(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function fp(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Cl(t,e,r){return r?Cl(t,e).pipe(Ke(function(n){return je(n)?r.apply(void 0,n):r(n)})):new se(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(!!yr(e))return function(){return e(i,s)}})}function hp(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||Ot,i=a.scheduler}else n===void 0||We(n)?(o=t,s=Ot,i=n):(o=t,s=n);return new se(function(u){var c=o;if(i)return i.schedule(dp,0,{subscriber:u,iterate:r,condition:e,resultSelector:s,state:c});do{if(e){var l=void 0;try{l=e(c)}catch(f){u.error(f);return}if(!l){u.complete();break}}var g=void 0;try{g=s(c)}catch(f){u.error(f);return}if(u.next(g),u.closed)break;try{c=r(c)}catch(f){u.error(f);return}}while(!0)})}function dp(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function pp(t,e,r){return e===void 0&&(e=vr),r===void 0&&(r=vr),Ia(function(){return t()?e:r})}function _r(t){return!je(t)&&t-parseFloat(t)+1>=0}function bp(t,e){return t===void 0&&(t=0),e===void 0&&(e=Be),(!_r(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=Be),new se(function(r){return r.add(e.schedule(gp,t,{subscriber:r,counter:0,period:t})),r})}function gp(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function kl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return We(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof se?t[0]:Ma(r)(gn(t,n))}var Al=new se(st);function yp(){return Al}function ta(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return vr;var r=t[0],n=t.slice(1);return t.length===1&&je(r)?ta.apply(void 0,r):new se(function(i){var s=function(){return i.add(ta.apply(void 0,n).subscribe(i))};return _t(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function vp(t,e){return e?new se(function(r){var n=Object.keys(t),i=new ve;return i.add(e.schedule(mp,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new se(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function mp(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function Ml(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function Pt(t,e){return function(n){return n.lift(new _p(t,e))}}var _p=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new wp(e,this.predicate,this.thisArg))},t}(),wp=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(Y);function Sp(t,e,r){return[Pt(e,r)(new se(an(t))),Pt(Ml(e,r))(new se(an(t)))]}function Il(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(je(t[0]))t=t[0];else return t[0];return gn(t,void 0).lift(new Ep)}var Ep=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new xp(e))},t}(),xp=function(t){P(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=yt(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(Yt);function Cp(t,e,r){return t===void 0&&(t=0),new se(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(kp,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function kp(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function Rl(t,e,r){t===void 0&&(t=0);var n=-1;return _r(e)?n=Number(e)<1&&1||Number(e):We(e)&&(r=e),We(r)||(r=Be),new se(function(i){var s=_r(t)?t:+t-r.now();return r.schedule(Ap,s,{index:0,period:n,subscriber:i})})}function Ap(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function Mp(t,e){return new se(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?_t(i):vr,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function Tl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),gn(t,void 0).lift(new Ol(r))}var Ol=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Ip(e,this.resultSelector))},t}(),Ip=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;je(r)?n.push(new Tp(r)):typeof r[Nt]=="function"?n.push(new Rp(r[Nt]())):n.push(new Op(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,u=[],s=0;s<n;s++){var o=r[s],c=o.next();if(o.hasCompleted()&&(a=!0),c.done){i.complete();return}u.push(c.value)}this.resultSelector?this._tryresultSelector(u):i.next(u),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Y),Rp=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),Tp=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[Nt]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Op=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[Nt]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return we(this.observable,new me(this))},e}(_e);const Np=Object.freeze(Object.defineProperty({__proto__:null,Observable:se,ConnectableObservable:ol,GroupedObservable:Zo,observable:Or,Subject:ke,BehaviorSubject:al,ReplaySubject:ka,AsyncSubject:Pr,asap:zn,asapScheduler:hl,async:Be,asyncScheduler:dl,queue:cl,queueScheduler:ul,animationFrame:Dd,animationFrameScheduler:pl,VirtualTimeScheduler:Ld,VirtualAction:bl,Scheduler:Jo,Subscription:ve,Subscriber:Y,Notification:gt,get NotificationKind(){return Xo},pipe:Yo,noop:st,identity:Ot,isObservable:jd,ArgumentOutOfRangeError:mr,EmptyError:yn,ObjectUnsubscribedError:kt,UnsubscriptionError:Kr,TimeoutError:gl,bindCallback:yl,bindNodeCallback:vl,combineLatest:Jd,concat:un,defer:Ia,empty:Nr,forkJoin:up,from:_t,fromEvent:El,fromEventPattern:Cl,generate:hp,iif:pp,interval:bp,merge:kl,never:yp,of:Ei,onErrorResumeNext:ta,pairs:vp,partition:Sp,race:Il,range:Cp,throwError:Ca,timer:Rl,using:Mp,zip:Tl,scheduled:wl,EMPTY:vr,NEVER:Al,config:ze},Symbol.toStringTag,{value:"Module"})),Dr=dn(Np);function Nl(t){return function(r){return r.lift(new Pp(t))}}var Pp=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Dp(e,this.durationSelector))},t}(),Dp=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=we(n,new me(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(_e);function Lp(t,e){return e===void 0&&(e=Be),Nl(function(){return Rl(t,e)})}function jp(t){return function(r){return r.lift(new Bp(t))}}var Bp=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Fp(e,this.closingNotifier))},t}(),Fp=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(we(n,new me(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(_e);function $p(t,e){return e===void 0&&(e=null),function(n){return n.lift(new Wp(t,e))}}var Wp=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=Up:this.subscriberClass=Hp}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),Up=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(Y),Hp=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var u=o.length;u--;){var c=o[u];c.push(r),c.length===i&&(o.splice(u,1),this.destination.next(c))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(Y);function Vp(t){var e=arguments.length,r=Be;We(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new zp(t,n,i,r))}}var zp=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Gp(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),qp=function(){function t(){this.buffer=[]}return t}(),Gp=function(t){P(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var u=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var c={subscriber:a,context:u,bufferTimeSpan:n};a.add(u.closeAction=o.schedule(wu,n,c))}else{var l={subscriber:a,context:u},g={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(u.closeAction=o.schedule(Pl,n,l)),a.add(o.schedule(Qp,i,g))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],u=a.buffer;u.push(r),u.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(wu,i,s))}},e.prototype.openContext=function(){var r=new qp;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(Y);function wu(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function Qp(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(Pl,r,{subscriber:n,context:s})),o.schedule(t,e))}function Pl(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function Kp(t,e){return function(n){return n.lift(new Yp(t,e))}}var Yp=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Zp(e,this.openings,this.closingSelector))},t}(),Zp=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(yt(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new ve,o={buffer:i,subscription:s};n.push(o);var a=yt(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(Yt);function Jp(t){return function(e){return e.lift(new Xp(t))}}var Xp=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new eb(e,this.closingSelector))},t}(),eb=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new ve,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(we(i,new me(this))),this.subscribing=!1},e}(_e);function tb(t){return function(r){var n=new rb(t),i=r.lift(n);return n.caught=i}}var rb=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new nb(e,this.selector,this.caught))},t}(),nb=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new me(this);this.add(i);var s=we(n,i);s!==i&&this.add(s)}},e}(_e);function ib(t){return function(e){return e.lift(new Aa(t))}}function sb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&je(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(_t([n].concat(t)),new Aa(r))}}function ob(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(un.apply(void 0,[r].concat(t)))}}function Dl(t,e){return Gt(t,e,1)}function ab(t,e){return Dl(function(){return t},e)}function ub(t){return function(e){return e.lift(new cb(t,e))}}var cb=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new lb(e,this.predicate,this.source))},t}(),lb=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(Y);function fb(t){return function(e){return e.lift(new hb(t))}}var hb=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new db(e,this.durationSelector))},t}(),db=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=we(n,new me(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(_e);function pb(t,e){return e===void 0&&(e=Be),function(r){return r.lift(new bb(t,e))}}var bb=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new gb(e,this.dueTime,this.scheduler))},t}(),gb=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(yb,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(Y);function yb(t){t.debouncedNext()}function vn(t){return t===void 0&&(t=null),function(e){return e.lift(new vb(t))}}var vb=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new mb(e,this.defaultValue))},t}(),mb=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(Y);function Ll(t){return t instanceof Date&&!isNaN(+t)}function _b(t,e){e===void 0&&(e=Be);var r=Ll(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new wb(n,e))}}var wb=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Sb(e,this.delay,this.scheduler))},t}(),Sb=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new Eb(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(gt.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(gt.createComplete()),this.unsubscribe()},e}(Y),Eb=function(){function t(e,r){this.time=e,this.notification=r}return t}();function xb(t,e){return e?function(r){return new kb(r,e).lift(new Su(t))}:function(r){return r.lift(new Su(t))}}var Su=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Cb(e,this.delayDurationSelector))},t}(),Cb=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=yt(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Yt),kb=function(t){P(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new Ab(r,this.source))},e}(se),Ab=function(t){P(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(Y);function Mb(){return function(e){return e.lift(new Ib)}}var Ib=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Rb(e))},t}(),Rb=function(t){P(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(Y);function Tb(t,e){return function(r){return r.lift(new Ob(t,e))}}var Ob=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new Nb(e,this.keySelector,this.flushes))},t}(),Nb=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(we(i,new me(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(_e);function jl(t,e){return function(r){return r.lift(new Pb(t,e))}}var Pb=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Db(e,this.compare,this.keySelector))},t}(),Db=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(Y);function Lb(t,e){return jl(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function xi(t){return t===void 0&&(t=Fb),function(e){return e.lift(new jb(t))}}var jb=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new Bb(e,this.errorFactory))},t}(),Bb=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(Y);function Fb(){return new yn}function Ra(t){return function(e){return t===0?Nr():e.lift(new $b(t))}}var $b=function(){function t(e){if(this.total=e,this.total<0)throw new mr}return t.prototype.call=function(e,r){return r.subscribe(new Wb(e,this.total))},t}(),Wb=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(Y);function Ub(t,e){if(t<0)throw new mr;var r=arguments.length>=2;return function(n){return n.pipe(Pt(function(i,s){return s===t}),Ra(1),r?vn(e):xi(function(){return new mr}))}}function Hb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return un(r,Ei.apply(void 0,t))}}function Vb(t,e){return function(r){return r.lift(new zb(t,e,r))}}var zb=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new qb(e,this.predicate,this.thisArg,this.source))},t}(),qb=function(t){P(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Y);function Gb(){return function(t){return t.lift(new Qb)}}var Qb=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Kb(e))},t}(),Kb=function(t){P(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(we(r,new me(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(_e);function Bl(t,e){return e?function(r){return r.pipe(Bl(function(n,i){return _t(t(n,i)).pipe(Ke(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new Yb(t))}}var Yb=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new Zb(e,this.project))},t}(),Zb=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new me(this),i=this.destination;i.add(n);var s=we(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(_e);function Jb(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new Xb(t,e,r))}}var Xb=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new eg(e,this.project,this.concurrent,this.scheduler))},t}(),eg=function(t){P(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},u=this.destination;u.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(c){n.error(c)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(we(r,new me(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(_e);function tg(t){return function(e){return e.lift(new rg(t))}}var rg=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new ng(e,this.callback))},t}(),ng=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new ve(n)),i}return e}(Y);function ig(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new Fl(t,r,!1,e))}}var Fl=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new sg(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),sg=function(t){P(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(u){this.destination.error(u)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(Y);function og(t,e){return function(r){return r.lift(new Fl(t,r,!0,e))}}function ag(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Pt(function(i,s){return t(i,s,n)}):Ot,Ra(1),r?vn(e):xi(function(){return new yn}))}}function ug(){return function(e){return e.lift(new cg)}}var cg=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new lg(e))},t}(),lg=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(Y);function fg(){return function(t){return t.lift(new hg)}}var hg=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new dg(e))},t}(),dg=function(t){P(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Y);function ni(t){return function(r){return t===0?Nr():r.lift(new pg(t))}}var pg=function(){function t(e){if(this.total=e,this.total<0)throw new mr}return t.prototype.call=function(e,r){return r.subscribe(new bg(e,this.total))},t}(),bg=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(Y);function gg(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Pt(function(i,s){return t(i,s,n)}):Ot,ni(1),r?vn(e):xi(function(){return new yn}))}}function yg(t){return function(e){return e.lift(new vg(t))}}var vg=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new mg(e,this.value))},t}(),mg=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(Y);function _g(){return function(e){return e.lift(new wg)}}var wg=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Sg(e))},t}(),Sg=function(t){P(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(gt.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(gt.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(gt.createComplete()),r.complete()},e}(Y);function ii(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new Eg(t,e,r))}}var Eg=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new xg(e,this.accumulator,this.seed,this.hasSeed))},t}(),xg=function(t){P(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(Y);function Ci(t,e){return arguments.length>=2?function(n){return Yo(ii(t,e),ni(1),vn(e))(n)}:function(n){return Yo(ii(function(i,s,o){return t(i,s,o+1)}),ni(1))(n)}}function Cg(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return Ci(e)}function kg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(kl.apply(void 0,[r].concat(t)))}}function Ag(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?Gt(function(){return t},e,r):(typeof e=="number"&&(r=e),Gt(function(){return t},r))}function Mg(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new Ig(t,e,r))}}var Ig=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new Rg(e,this.accumulator,this.seed,this.concurrent))},t}(),Rg=function(t){P(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new me(this),i=this.destination;i.add(n);var s=we(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(_e);function Tg(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return Ci(e)}function Qt(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new Og(i,e));var s=Object.create(n,dd);return s.source=n,s.subjectFactory=i,s}}var Og=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function Ng(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&je(t[0])&&(t=t[0]),function(r){return r.lift(new Pg(t))}}var Pg=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new Dg(e,this.nextSources))},t}(),Dg=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new me(this),i=this.destination;i.add(n);var s=we(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(_e);function Lg(){return function(t){return t.lift(new jg)}}var jg=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Bg(e))},t}(),Bg=function(t){P(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(Y);function Fg(t,e){return function(r){return[Pt(t,e)(r),Pt(Ml(t,e))(r)]}}function $g(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return Ke(Wg(t,r))(n)}}function Wg(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function Ug(t){return t?Qt(function(){return new ke},t):Qt(new ke)}function Hg(t){return function(e){return Qt(new al(t))(e)}}function Vg(){return function(t){return Qt(new Pr)(t)}}function zg(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new ka(t,e,n);return function(o){return Qt(function(){return s},i)(o)}}function qg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&je(t[0])&&(t=t[0]),n.lift.call(Il.apply(void 0,[n].concat(t)))}}function Gg(t){return t===void 0&&(t=-1),function(e){return t===0?Nr():t<0?e.lift(new Eu(-1,e)):e.lift(new Eu(t-1,e))}}var Eu=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Qg(e,this.count,this.source))},t}(),Qg=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(Y);function Kg(t){return function(e){return e.lift(new Yg(t))}}var Yg=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Zg(e,this.notifier,r))},t}(),Zg=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new ke;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=we(r,new me(this))},e}(_e);function Jg(t){return t===void 0&&(t=-1),function(e){return e.lift(new Xg(t,e))}}var Xg=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new ey(e,this.count,this.source))},t}(),ey=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(Y);function ty(t){return function(e){return e.lift(new ry(t,e))}}var ry=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new ny(e,this.notifier,this.source))},t}(),ny=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new ke;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=we(i,new me(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(_e);function iy(t){return function(e){return e.lift(new sy(t))}}var sy=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new oy(e),i=r.subscribe(n);return i.add(we(this.notifier,new me(n))),i},t}(),oy=function(t){P(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(_e);function ay(t,e){return e===void 0&&(e=Be),function(r){return r.lift(new uy(t,e))}}var uy=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new cy(e,this.period,this.scheduler))},t}(),cy=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(ly,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(Y);function ly(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function fy(t,e){return function(r){return r.lift(new hy(t,e))}}var hy=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new dy(e,this.compareTo,this.comparator))},t}(),dy=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new py(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),u=!1;try{u=s?s(o,a):o===a}catch(c){this.destination.error(c)}u||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(Y),py=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(Y);function by(){return new ke}function gy(){return function(t){return Ea()(Qt(by)(t))}}function yy(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(vy(n))}}function vy(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,u=0,c,l=!1,g=!1;return function(p){u++;var y;!a||l?(l=!1,a=new ka(r,i,o),y=a.subscribe(this),c=p.subscribe({next:function(C){a.next(C)},error:function(C){l=!0,a.error(C)},complete:function(){g=!0,c=void 0,a.complete()}}),g&&(c=void 0)):y=a.subscribe(this),this.add(function(){u--,y.unsubscribe(),y=void 0,c&&!g&&s&&u===0&&(c.unsubscribe(),c=void 0,a=void 0)})}}function my(t){return function(e){return e.lift(new _y(t,e))}}var _y=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new wy(e,this.predicate,this.source))},t}(),wy=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new yn)},e}(Y);function Sy(t){return function(e){return e.lift(new Ey(t))}}var Ey=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new xy(e,this.total))},t}(),xy=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(Y);function Cy(t){return function(e){return e.lift(new ky(t))}}var ky=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new mr}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new Y(e)):r.subscribe(new Ay(e,this._skipCount))},t}(),Ay=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(Y);function My(t){return function(e){return e.lift(new Iy(t))}}var Iy=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Ry(e,this.notifier))},t}(),Ry=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new me(i);i.add(s),i.innerSubscription=s;var o=we(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(_e);function Ty(t){return function(e){return e.lift(new Oy(t))}}var Oy=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new Ny(e,this.predicate))},t}(),Ny=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(Y);function Py(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return We(r)?(t.pop(),function(n){return un(t,n,r)}):function(n){return un(t,n)}}var Dy=function(t){P(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=zn);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!_r(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=zn),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=zn),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(se);function Ly(t,e){return e===void 0&&(e=0),function(n){return n.lift(new jy(t,e))}}var jy=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new Dy(r,this.delay,this.scheduler).subscribe(e)},t}();function cn(t,e){return typeof e=="function"?function(r){return r.pipe(cn(function(n,i){return _t(t(n,i)).pipe(Ke(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new By(t))}}var By=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new Fy(e,this.project))},t}(),Fy=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new me(this),s=this.destination;s.add(i),this.innerSubscription=we(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(_e);function $y(){return cn(Ot)}function Wy(t,e){return e?cn(function(){return t},e):cn(function(){return t})}function Uy(t){return function(e){return e.lift(new Hy(t))}}var Hy=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new Vy(e),i=we(this.notifier,new me(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),Vy=function(t){P(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(_e);function zy(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new qy(t,e))}}var qy=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new Gy(e,this.predicate,this.inclusive))},t}(),Gy=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(Y);function Qy(t,e,r){return function(i){return i.lift(new Ky(t,e,r))}}var Ky=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new Yy(e,this.nextOrObserver,this.error,this.complete))},t}(),Yy=function(t){P(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=st,o._tapError=st,o._tapComplete=st,o._tapError=i||st,o._tapComplete=s||st,yr(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||st,o._tapError=n.error||st,o._tapComplete=n.complete||st),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(Y),$l={leading:!0,trailing:!1};function Zy(t,e){return e===void 0&&(e=$l),function(r){return r.lift(new Jy(t,!!e.leading,!!e.trailing))}}var Jy=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new Xy(e,this.durationSelector,this.leading,this.trailing))},t}(),Xy=function(t){P(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=we(n,new me(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(_e);function e0(t,e,r){return e===void 0&&(e=Be),r===void 0&&(r=$l),function(n){return n.lift(new t0(t,e,r.leading,r.trailing))}}var t0=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new r0(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),r0=function(t){P(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(n0,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(Y);function n0(t){var e=t.subscriber;e.clearThrottle()}function i0(t){return t===void 0&&(t=Be),function(e){return Ia(function(){return e.pipe(ii(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Ke(function(r){var n=r.current,i=r.last,s=r.value;return new s0(s,n-i)}))})}}var s0=function(){function t(e,r){this.value=e,this.interval=r}return t}();function Wl(t,e,r){return r===void 0&&(r=Be),function(n){var i=Ll(t),s=i?+t-r.now():Math.abs(t);return n.lift(new o0(s,i,e,r))}}var o0=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new a0(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),a0=function(t){P(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(we(n,new me(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(_e);function u0(t,e){return e===void 0&&(e=Be),Wl(t,Ca(new gl),e)}function c0(t){return t===void 0&&(t=Be),Ke(function(e){return new l0(e,t.now())})}var l0=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function f0(t,e,r){return r===0?[e]:(t.push(e),t)}function h0(){return Ci(f0,[])}function d0(t){return function(r){return r.lift(new p0(t))}}var p0=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new b0(e),i=r.subscribe(n);return i.closed||n.add(we(this.windowBoundaries,new me(n))),i},t}(),b0=function(t){P(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new ke,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new ke;n.next(i)},e}(_e);function g0(t,e){return e===void 0&&(e=0),function(n){return n.lift(new y0(t,e))}}var y0=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new v0(e,this.windowSize,this.startWindowEvery))},t}(),v0=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new ke],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,u=0;u<a&&!this.closed;u++)o[u].next(r);var c=this.count-s+1;if(c>=0&&c%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var l=new ke;o.push(l),i.next(l)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(Y);function m0(t){var e=Be,r=null,n=Number.POSITIVE_INFINITY;return We(arguments[3])&&(e=arguments[3]),We(arguments[2])?e=arguments[2]:_r(arguments[2])&&(n=Number(arguments[2])),We(arguments[1])?e=arguments[1]:_r(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new _0(t,r,n,e))}}var _0=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new S0(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),w0=function(t){P(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(ke),S0=function(t){P(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var u=a.openWindow();if(i!==null&&i>=0){var c={subscriber:a,window:u,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(Ul,n,c)),a.add(o.schedule(x0,i,l))}else{var g={subscriber:a,window:u,windowTimeSpan:n};a.add(o.schedule(E0,n,g))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new w0;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(Y);function E0(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function x0(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},u={subscriber:r,window:s,context:a};a.subscription=n.schedule(Ul,e,u),o.add(a.subscription),o.schedule(t,i)}function Ul(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function C0(t,e){return function(r){return r.lift(new k0(t,e))}}var k0=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new A0(e,this.openings,this.closingSelector))},t}(),A0=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=yt(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var u=this.closingSelector;a=u(n)}catch(p){return this.error(p)}var c=new ke,l=new ve,g={window:c,subscription:l};this.contexts.push(g);var f=yt(this,a,g);f.closed?this.closeWindow(this.contexts.length-1):(f.context=g,l.add(f)),this.destination.next(c)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(Yt);function M0(t){return function(r){return r.lift(new I0(t))}}var I0=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new R0(e,this.closingSelector))},t}(),R0=function(t){P(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new ke;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=yt(this,s))},e}(Yt);function T0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new O0(i,n))}}var O0=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new N0(e,this.observables,this.project))},t}(),N0=function(t){P(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var u=n[a];s.add(yt(s,u,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Yt);function P0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(Tl.apply(void 0,[n].concat(t)))}}function D0(t){return function(e){return e.lift(new Ol(t))}}const L0=Object.freeze(Object.defineProperty({__proto__:null,audit:Nl,auditTime:Lp,buffer:jp,bufferCount:$p,bufferTime:Vp,bufferToggle:Kp,bufferWhen:Jp,catchError:tb,combineAll:ib,combineLatest:sb,concat:ob,concatAll:Sl,concatMap:Dl,concatMapTo:ab,count:ub,debounce:fb,debounceTime:pb,defaultIfEmpty:vn,delay:_b,delayWhen:xb,dematerialize:Mb,distinct:Tb,distinctUntilChanged:jl,distinctUntilKeyChanged:Lb,elementAt:Ub,endWith:Hb,every:Vb,exhaust:Gb,exhaustMap:Bl,expand:Jb,filter:Pt,finalize:tg,find:ig,findIndex:og,first:ag,groupBy:bd,ignoreElements:ug,isEmpty:fg,last:gg,map:Ke,mapTo:yg,materialize:_g,max:Cg,merge:kg,mergeAll:Ma,mergeMap:Gt,flatMap:ap,mergeMapTo:Ag,mergeScan:Mg,min:Tg,multicast:Qt,observeOn:Cd,onErrorResumeNext:Ng,pairwise:Lg,partition:Fg,pluck:$g,publish:Ug,publishBehavior:Hg,publishLast:Vg,publishReplay:zg,race:qg,reduce:Ci,repeat:Gg,repeatWhen:Kg,retry:Jg,retryWhen:ty,refCount:Ea,sample:iy,sampleTime:ay,scan:ii,sequenceEqual:fy,share:gy,shareReplay:yy,single:my,skip:Sy,skipLast:Cy,skipUntil:My,skipWhile:Ty,startWith:Py,subscribeOn:Ly,switchAll:$y,switchMap:cn,switchMapTo:Wy,take:Ra,takeLast:ni,takeUntil:Uy,takeWhile:zy,tap:Qy,throttle:Zy,throttleTime:e0,throwIfEmpty:xi,timeInterval:i0,timeout:u0,timeoutWith:Wl,timestamp:c0,toArray:h0,window:d0,windowCount:g0,windowTime:m0,windowToggle:C0,windowWhen:M0,withLatestFrom:T0,zip:P0,zipAll:D0},Symbol.toStringTag,{value:"Module"})),ki=dn(L0);var Hl={exports:{}},lt={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=vi,n=r.Buffer;function i(o,a){for(var u in o)a[u]=o[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,u){return n(o,a,u)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,u)},s.alloc=function(o,a,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=n(o);return a!==void 0?typeof u=="string"?c.fill(a,u):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(lt,lt.exports);var Vl=lt.exports.Buffer;function Ai(t,e){this._block=Vl.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Ai.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Vl.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,u=Math.min(i-o,n-a),c=0;c<u;c++)r[a+c]=t[o+c];s+=u,o+=u,s%n===0&&this._update(r)}return this._len+=i,this};Ai.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};Ai.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Lr=Ai,j0=Qe.exports,zl=Lr,B0=lt.exports.Buffer,F0=[1518500249,1859775393,-1894007588,-899497514],$0=new Array(80);function mn(){this.init(),this._w=$0,zl.call(this,64,56)}j0(mn,zl);mn.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function W0(t){return t<<5|t>>>27}function U0(t){return t<<30|t>>>2}function H0(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}mn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var u=0;u<80;++u){var c=~~(u/20),l=W0(r)+H0(c,n,i,s)+o+e[u]+F0[c]|0;o=s,s=i,i=U0(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};mn.prototype._hash=function(){var t=B0.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var V0=mn,z0=Qe.exports,ql=Lr,q0=lt.exports.Buffer,G0=[1518500249,1859775393,-1894007588,-899497514],Q0=new Array(80);function _n(){this.init(),this._w=Q0,ql.call(this,64,56)}z0(_n,ql);_n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function K0(t){return t<<1|t>>>31}function Y0(t){return t<<5|t>>>27}function Z0(t){return t<<30|t>>>2}function J0(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}_n.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=K0(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var u=0;u<80;++u){var c=~~(u/20),l=Y0(r)+J0(c,n,i,s)+o+e[u]+G0[c]|0;o=s,s=i,i=Z0(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};_n.prototype._hash=function(){var t=q0.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var X0=_n,ev=Qe.exports,Gl=Lr,tv=lt.exports.Buffer,rv=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],nv=new Array(64);function wn(){this.init(),this._w=nv,Gl.call(this,64,56)}ev(wn,Gl);wn.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function iv(t,e,r){return r^t&(e^r)}function sv(t,e,r){return t&e|r&(t|e)}function ov(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function av(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function uv(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function cv(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}wn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,u=this._g|0,c=this._h|0,l=0;l<16;++l)e[l]=t.readInt32BE(l*4);for(;l<64;++l)e[l]=cv(e[l-2])+e[l-7]+uv(e[l-15])+e[l-16]|0;for(var g=0;g<64;++g){var f=c+av(o)+iv(o,a,u)+rv[g]+e[g]|0,p=ov(r)+sv(r,n,i)|0;c=u,u=a,a=o,o=s+f|0,s=i,i=n,n=r,r=f+p|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=u+this._g|0,this._h=c+this._h|0};wn.prototype._hash=function(){var t=tv.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var Ql=wn,lv=Qe.exports,fv=Ql,hv=Lr,dv=lt.exports.Buffer,pv=new Array(64);function Mi(){this.init(),this._w=pv,hv.call(this,64,56)}lv(Mi,fv);Mi.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Mi.prototype._hash=function(){var t=dv.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var bv=Mi,gv=Qe.exports,Kl=Lr,yv=lt.exports.Buffer,xu=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],vv=new Array(160);function Sn(){this.init(),this._w=vv,Kl.call(this,128,112)}gv(Sn,Kl);Sn.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Cu(t,e,r){return r^t&(e^r)}function ku(t,e,r){return t&e|r&(t|e)}function Au(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Mu(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function mv(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function _v(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function wv(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Sv(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Se(t,e){return t>>>0<e>>>0?1:0}Sn.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,u=this._gh|0,c=this._hh|0,l=this._al|0,g=this._bl|0,f=this._cl|0,p=this._dl|0,y=this._el|0,C=this._fl|0,I=this._gl|0,b=this._hl|0,v=0;v<32;v+=2)e[v]=t.readInt32BE(v*4),e[v+1]=t.readInt32BE(v*4+4);for(;v<160;v+=2){var S=e[v-30],T=e[v-15*2+1],F=mv(S,T),G=_v(T,S);S=e[v-2*2],T=e[v-2*2+1];var Q=wv(S,T),U=Sv(T,S),$=e[v-7*2],q=e[v-7*2+1],te=e[v-16*2],Z=e[v-16*2+1],E=G+q|0,x=F+$+Se(E,G)|0;E=E+U|0,x=x+Q+Se(E,U)|0,E=E+Z|0,x=x+te+Se(E,Z)|0,e[v]=x,e[v+1]=E}for(var M=0;M<160;M+=2){x=e[M],E=e[M+1];var D=ku(r,n,i),B=ku(l,g,f),L=Au(r,l),z=Au(l,r),re=Mu(o,y),ge=Mu(y,o),w=xu[M],k=xu[M+1],O=Cu(o,a,u),H=Cu(y,C,I),m=b+ge|0,_=c+re+Se(m,b)|0;m=m+H|0,_=_+O+Se(m,H)|0,m=m+k|0,_=_+w+Se(m,k)|0,m=m+E|0,_=_+x+Se(m,E)|0;var A=z+B|0,j=L+D+Se(A,z)|0;c=u,b=I,u=a,I=C,a=o,C=y,y=p+m|0,o=s+_+Se(y,p)|0,s=i,p=f,i=n,f=g,n=r,g=l,l=m+A|0,r=_+j+Se(l,m)|0}this._al=this._al+l|0,this._bl=this._bl+g|0,this._cl=this._cl+f|0,this._dl=this._dl+p|0,this._el=this._el+y|0,this._fl=this._fl+C|0,this._gl=this._gl+I|0,this._hl=this._hl+b|0,this._ah=this._ah+r+Se(this._al,l)|0,this._bh=this._bh+n+Se(this._bl,g)|0,this._ch=this._ch+i+Se(this._cl,f)|0,this._dh=this._dh+s+Se(this._dl,p)|0,this._eh=this._eh+o+Se(this._el,y)|0,this._fh=this._fh+a+Se(this._fl,C)|0,this._gh=this._gh+u+Se(this._gl,I)|0,this._hh=this._hh+c+Se(this._hl,b)|0};Sn.prototype._hash=function(){var t=yv.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var Yl=Sn,Ev=Qe.exports,xv=Yl,Cv=Lr,kv=lt.exports.Buffer,Av=new Array(160);function Ii(){this.init(),this._w=Av,Cv.call(this,128,112)}Ev(Ii,xv);Ii.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Ii.prototype._hash=function(){var t=kv.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Mv=Ii,Zt=Hl.exports=function(e){e=e.toLowerCase();var r=Zt[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Zt.sha=V0;Zt.sha1=X0;Zt.sha224=bv;Zt.sha256=Ql;Zt.sha384=Mv;Zt.sha512=Yl;var K={},Zl=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},Iu=typeof Symbol<"u"&&Symbol,Iv=Zl,Rv=function(){return typeof Iu!="function"||typeof Symbol!="function"||typeof Iu("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Iv()},Tv="Function.prototype.bind called on incompatible ",so=Array.prototype.slice,Ov=Object.prototype.toString,Nv="[object Function]",Pv=function(e){var r=this;if(typeof r!="function"||Ov.call(r)!==Nv)throw new TypeError(Tv+r);for(var n=so.call(arguments,1),i,s=function(){if(this instanceof i){var l=r.apply(this,n.concat(so.call(arguments)));return Object(l)===l?l:this}else return r.apply(e,n.concat(so.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],u=0;u<o;u++)a.push("$"+u);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},Dv=Pv,Ta=Function.prototype.bind||Dv,Lv=Ta,jv=Lv.call(Function.call,Object.prototype.hasOwnProperty),ce,wr=SyntaxError,Jl=Function,hr=TypeError,oo=function(t){try{return Jl('"use strict"; return ('+t+").constructor;")()}catch{}},zt=Object.getOwnPropertyDescriptor;if(zt)try{zt({},"")}catch{zt=null}var ao=function(){throw new hr},Bv=zt?function(){try{return arguments.callee,ao}catch{try{return zt(arguments,"callee").get}catch{return ao}}}():ao,nr=Rv(),xt=Object.getPrototypeOf||function(t){return t.__proto__},or={},Fv=typeof Uint8Array>"u"?ce:xt(Uint8Array),dr={"%AggregateError%":typeof AggregateError>"u"?ce:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ce:ArrayBuffer,"%ArrayIteratorPrototype%":nr?xt([][Symbol.iterator]()):ce,"%AsyncFromSyncIteratorPrototype%":ce,"%AsyncFunction%":or,"%AsyncGenerator%":or,"%AsyncGeneratorFunction%":or,"%AsyncIteratorPrototype%":or,"%Atomics%":typeof Atomics>"u"?ce:Atomics,"%BigInt%":typeof BigInt>"u"?ce:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ce:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?ce:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ce:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ce:FinalizationRegistry,"%Function%":Jl,"%GeneratorFunction%":or,"%Int8Array%":typeof Int8Array>"u"?ce:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ce:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ce:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":nr?xt(xt([][Symbol.iterator]())):ce,"%JSON%":typeof JSON=="object"?JSON:ce,"%Map%":typeof Map>"u"?ce:Map,"%MapIteratorPrototype%":typeof Map>"u"||!nr?ce:xt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ce:Promise,"%Proxy%":typeof Proxy>"u"?ce:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?ce:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ce:Set,"%SetIteratorPrototype%":typeof Set>"u"||!nr?ce:xt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ce:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":nr?xt(""[Symbol.iterator]()):ce,"%Symbol%":nr?Symbol:ce,"%SyntaxError%":wr,"%ThrowTypeError%":Bv,"%TypedArray%":Fv,"%TypeError%":hr,"%Uint8Array%":typeof Uint8Array>"u"?ce:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ce:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ce:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ce:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?ce:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ce:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ce:WeakSet},$v=function t(e){var r;if(e==="%AsyncFunction%")r=oo("async function () {}");else if(e==="%GeneratorFunction%")r=oo("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=oo("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=xt(i.prototype))}return dr[e]=r,r},Ru={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},En=Ta,si=jv,Wv=En.call(Function.call,Array.prototype.concat),Uv=En.call(Function.apply,Array.prototype.splice),Tu=En.call(Function.call,String.prototype.replace),oi=En.call(Function.call,String.prototype.slice),Hv=En.call(Function.call,RegExp.prototype.exec),Vv=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,zv=/\\(\\)?/g,qv=function(e){var r=oi(e,0,1),n=oi(e,-1);if(r==="%"&&n!=="%")throw new wr("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new wr("invalid intrinsic syntax, expected opening `%`");var i=[];return Tu(e,Vv,function(s,o,a,u){i[i.length]=a?Tu(u,zv,"$1"):o||s}),i},Gv=function(e,r){var n=e,i;if(si(Ru,n)&&(i=Ru[n],n="%"+i[0]+"%"),si(dr,n)){var s=dr[n];if(s===or&&(s=$v(n)),typeof s>"u"&&!r)throw new hr("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new wr("intrinsic "+e+" does not exist!")},Ri=function(e,r){if(typeof e!="string"||e.length===0)throw new hr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new hr('"allowMissing" argument must be a boolean');if(Hv(/^%?[^%]*%?$/,e)===null)throw new wr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=qv(e),i=n.length>0?n[0]:"",s=Gv("%"+i+"%",r),o=s.name,a=s.value,u=!1,c=s.alias;c&&(i=c[0],Uv(n,Wv([0,1],c)));for(var l=1,g=!0;l<n.length;l+=1){var f=n[l],p=oi(f,0,1),y=oi(f,-1);if((p==='"'||p==="'"||p==="`"||y==='"'||y==="'"||y==="`")&&p!==y)throw new wr("property names with quotes must have matching quotes");if((f==="constructor"||!g)&&(u=!0),i+="."+f,o="%"+i+"%",si(dr,o))a=dr[o];else if(a!=null){if(!(f in a)){if(!r)throw new hr("base intrinsic for "+e+" exists, but the property is not available.");return}if(zt&&l+1>=n.length){var C=zt(a,f);g=!!C,g&&"get"in C&&!("originalValue"in C.get)?a=C.get:a=a[f]}else g=si(a,f),a=a[f];g&&!u&&(dr[o]=a)}}return a},Xl={exports:{}};(function(t){var e=Ta,r=Ri,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(g){var f=s(e,i,arguments);if(o&&a){var p=o(f,"length");p.configurable&&a(f,"length",{value:1+u(0,g.length-(arguments.length-1))})}return f};var c=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:c}):t.exports.apply=c})(Xl);var ef=Ri,tf=Xl.exports,Qv=tf(ef("String.prototype.indexOf")),Ti=function(e,r){var n=ef(e,!!r);return typeof n=="function"&&Qv(e,".prototype.")>-1?tf(n):n},Oa=typeof Map=="function"&&Map.prototype,uo=Object.getOwnPropertyDescriptor&&Oa?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ai=Oa&&uo&&typeof uo.get=="function"?uo.get:null,Kv=Oa&&Map.prototype.forEach,Na=typeof Set=="function"&&Set.prototype,co=Object.getOwnPropertyDescriptor&&Na?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ui=Na&&co&&typeof co.get=="function"?co.get:null,Yv=Na&&Set.prototype.forEach,Zv=typeof WeakMap=="function"&&WeakMap.prototype,Yr=Zv?WeakMap.prototype.has:null,Jv=typeof WeakSet=="function"&&WeakSet.prototype,Zr=Jv?WeakSet.prototype.has:null,Xv=typeof WeakRef=="function"&&WeakRef.prototype,Ou=Xv?WeakRef.prototype.deref:null,em=Boolean.prototype.valueOf,tm=Object.prototype.toString,rm=Function.prototype.toString,nm=String.prototype.match,Pa=String.prototype.slice,Mt=String.prototype.replace,im=String.prototype.toUpperCase,Nu=String.prototype.toLowerCase,rf=RegExp.prototype.test,Pu=Array.prototype.concat,at=Array.prototype.join,sm=Array.prototype.slice,Du=Math.floor,ra=typeof BigInt=="function"?BigInt.prototype.valueOf:null,lo=Object.getOwnPropertySymbols,na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Sr=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ne=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Sr?"object":"symbol")?Symbol.toStringTag:null,nf=Object.prototype.propertyIsEnumerable,Lu=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function ju(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||rf.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Du(-t):Du(t);if(n!==t){var i=String(n),s=Pa.call(e,i.length+1);return Mt.call(i,r,"$&_")+"."+Mt.call(Mt.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Mt.call(e,r,"$&_")}var ia=ya,Bu=ia.custom,Fu=of(Bu)?Bu:null,om=function t(e,r,n,i){var s=r||{};if(Ct(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ct(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Ct(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ct(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ct(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return uf(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?ju(e,u):u}if(typeof e=="bigint"){var c=String(e)+"n";return a?ju(e,c):c}var l=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=l&&l>0&&typeof e=="object")return sa(e)?"[Array]":"[Object]";var g=xm(s,n);if(typeof i>"u")i=[];else if(af(i,e)>=0)return"[Circular]";function f(E,x,M){if(x&&(i=sm.call(i),i.push(x)),M){var D={depth:s.depth};return Ct(s,"quoteStyle")&&(D.quoteStyle=s.quoteStyle),t(E,D,n+1,i)}return t(E,s,n+1,i)}if(typeof e=="function"&&!$u(e)){var p=bm(e),y=Dn(e,f);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(y.length>0?" { "+at.call(y,", ")+" }":"")}if(of(e)){var C=Sr?Mt.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):na.call(e);return typeof e=="object"&&!Sr?Hr(C):C}if(wm(e)){for(var I="<"+Nu.call(String(e.nodeName)),b=e.attributes||[],v=0;v<b.length;v++)I+=" "+b[v].name+"="+sf(am(b[v].value),"double",s);return I+=">",e.childNodes&&e.childNodes.length&&(I+="..."),I+="</"+Nu.call(String(e.nodeName))+">",I}if(sa(e)){if(e.length===0)return"[]";var S=Dn(e,f);return g&&!Em(S)?"["+oa(S,g)+"]":"[ "+at.call(S,", ")+" ]"}if(cm(e)){var T=Dn(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!nf.call(e,"cause")?"{ ["+String(e)+"] "+at.call(Pu.call("[cause]: "+f(e.cause),T),", ")+" }":T.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+at.call(T,", ")+" }"}if(typeof e=="object"&&o){if(Fu&&typeof e[Fu]=="function"&&ia)return ia(e,{depth:l-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(gm(e)){var F=[];return Kv.call(e,function(E,x){F.push(f(x,e,!0)+" => "+f(E,e))}),Wu("Map",ai.call(e),F,g)}if(mm(e)){var G=[];return Yv.call(e,function(E){G.push(f(E,e))}),Wu("Set",ui.call(e),G,g)}if(ym(e))return fo("WeakMap");if(_m(e))return fo("WeakSet");if(vm(e))return fo("WeakRef");if(fm(e))return Hr(f(Number(e)));if(dm(e))return Hr(f(ra.call(e)));if(hm(e))return Hr(em.call(e));if(lm(e))return Hr(f(String(e)));if(!um(e)&&!$u(e)){var Q=Dn(e,f),U=Lu?Lu(e)===Object.prototype:e instanceof Object||e.constructor===Object,$=e instanceof Object?"":"null prototype",q=!U&&Ne&&Object(e)===e&&Ne in e?Pa.call(jt(e),8,-1):$?"Object":"",te=U||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Z=te+(q||$?"["+at.call(Pu.call([],q||[],$||[]),": ")+"] ":"");return Q.length===0?Z+"{}":g?Z+"{"+oa(Q,g)+"}":Z+"{ "+at.call(Q,", ")+" }"}return String(e)};function sf(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function am(t){return Mt.call(String(t),/"/g,"&quot;")}function sa(t){return jt(t)==="[object Array]"&&(!Ne||!(typeof t=="object"&&Ne in t))}function um(t){return jt(t)==="[object Date]"&&(!Ne||!(typeof t=="object"&&Ne in t))}function $u(t){return jt(t)==="[object RegExp]"&&(!Ne||!(typeof t=="object"&&Ne in t))}function cm(t){return jt(t)==="[object Error]"&&(!Ne||!(typeof t=="object"&&Ne in t))}function lm(t){return jt(t)==="[object String]"&&(!Ne||!(typeof t=="object"&&Ne in t))}function fm(t){return jt(t)==="[object Number]"&&(!Ne||!(typeof t=="object"&&Ne in t))}function hm(t){return jt(t)==="[object Boolean]"&&(!Ne||!(typeof t=="object"&&Ne in t))}function of(t){if(Sr)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!na)return!1;try{return na.call(t),!0}catch{}return!1}function dm(t){if(!t||typeof t!="object"||!ra)return!1;try{return ra.call(t),!0}catch{}return!1}var pm=Object.prototype.hasOwnProperty||function(t){return t in this};function Ct(t,e){return pm.call(t,e)}function jt(t){return tm.call(t)}function bm(t){if(t.name)return t.name;var e=nm.call(rm.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function af(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function gm(t){if(!ai||!t||typeof t!="object")return!1;try{ai.call(t);try{ui.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function ym(t){if(!Yr||!t||typeof t!="object")return!1;try{Yr.call(t,Yr);try{Zr.call(t,Zr)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function vm(t){if(!Ou||!t||typeof t!="object")return!1;try{return Ou.call(t),!0}catch{}return!1}function mm(t){if(!ui||!t||typeof t!="object")return!1;try{ui.call(t);try{ai.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function _m(t){if(!Zr||!t||typeof t!="object")return!1;try{Zr.call(t,Zr);try{Yr.call(t,Yr)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function wm(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function uf(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return uf(Pa.call(t,0,e.maxStringLength),e)+n}var i=Mt.call(Mt.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Sm);return sf(i,"single",e)}function Sm(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+im.call(e.toString(16))}function Hr(t){return"Object("+t+")"}function fo(t){return t+" { ? }"}function Wu(t,e,r,n){var i=n?oa(r,n):at.call(r,", ");return t+" ("+e+") {"+i+"}"}function Em(t){for(var e=0;e<t.length;e++)if(af(t[e],`
`)>=0)return!1;return!0}function xm(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=at.call(Array(t.indent+1)," ");else return null;return{base:r,prev:at.call(Array(e+1),r)}}function oa(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+at.call(t,","+r)+`
`+e.prev}function Dn(t,e){var r=sa(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Ct(t,i)?e(t[i],t):""}var s=typeof lo=="function"?lo(t):[],o;if(Sr){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in t)!Ct(t,u)||r&&String(Number(u))===u&&u<t.length||Sr&&o["$"+u]instanceof Symbol||(rf.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t)));if(typeof lo=="function")for(var c=0;c<s.length;c++)nf.call(t,s[c])&&n.push("["+e(s[c])+"]: "+e(t[s[c]],t));return n}var Da=Ri,jr=Ti,Cm=om,km=Da("%TypeError%"),Ln=Da("%WeakMap%",!0),jn=Da("%Map%",!0),Am=jr("WeakMap.prototype.get",!0),Mm=jr("WeakMap.prototype.set",!0),Im=jr("WeakMap.prototype.has",!0),Rm=jr("Map.prototype.get",!0),Tm=jr("Map.prototype.set",!0),Om=jr("Map.prototype.has",!0),La=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Nm=function(t,e){var r=La(t,e);return r&&r.value},Pm=function(t,e,r){var n=La(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Dm=function(t,e){return!!La(t,e)},Lm=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new km("Side channel does not contain "+Cm(s))},get:function(s){if(Ln&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Am(e,s)}else if(jn){if(r)return Rm(r,s)}else if(n)return Nm(n,s)},has:function(s){if(Ln&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Im(e,s)}else if(jn){if(r)return Om(r,s)}else if(n)return Dm(n,s);return!1},set:function(s,o){Ln&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Ln),Mm(e,s,o)):jn?(r||(r=new jn),Tm(r,s,o)):(n||(n={key:{},next:null}),Pm(n,s,o))}};return i},jm=String.prototype.replace,Bm=/%20/g,ho={RFC1738:"RFC1738",RFC3986:"RFC3986"},ja={default:ho.RFC3986,formatters:{RFC1738:function(t){return jm.call(t,Bm,"+")},RFC3986:function(t){return String(t)}},RFC1738:ho.RFC1738,RFC3986:ho.RFC3986},Fm=ja,po=Object.prototype.hasOwnProperty,$t=Array.isArray,it=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),$m=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if($t(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},cf=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Wm=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if($t(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!po.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return $t(e)&&!$t(r)&&(i=cf(e,n)),$t(e)&&$t(r)?(r.forEach(function(s,o){if(po.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return po.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},Um=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Hm=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Vm=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;++u){var c=o.charCodeAt(u);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===Fm.RFC1738&&(c===40||c===41)){a+=o.charAt(u);continue}if(c<128){a=a+it[c];continue}if(c<2048){a=a+(it[192|c>>6]+it[128|c&63]);continue}if(c<55296||c>=57344){a=a+(it[224|c>>12]+it[128|c>>6&63]+it[128|c&63]);continue}u+=1,c=65536+((c&1023)<<10|o.charCodeAt(u)&1023),a+=it[240|c>>18]+it[128|c>>12&63]+it[128|c>>6&63]+it[128|c&63]}return a},zm=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var c=a[u],l=o[c];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(r.push({obj:o,prop:c}),n.push(l))}return $m(r),e},qm=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Gm=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Qm=function(e,r){return[].concat(e,r)},Km=function(e,r){if($t(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},lf={arrayToObject:cf,assign:Um,combine:Qm,compact:zm,decode:Hm,encode:Vm,isBuffer:Gm,isRegExp:qm,maybeMap:Km,merge:Wm},ff=Lm,aa=lf,Jr=ja,Ym=Object.prototype.hasOwnProperty,Uu={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},pt=Array.isArray,Zm=String.prototype.split,Jm=Array.prototype.push,hf=function(t,e){Jm.apply(t,pt(e)?e:[e])},Xm=Date.prototype.toISOString,Hu=Jr.default,Me={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:aa.encode,encodeValuesOnly:!1,format:Hu,formatter:Jr.formatters[Hu],indices:!1,serializeDate:function(e){return Xm.call(e)},skipNulls:!1,strictNullHandling:!1},e_=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},bo={},t_=function t(e,r,n,i,s,o,a,u,c,l,g,f,p,y,C,I){for(var b=e,v=I,S=0,T=!1;(v=v.get(bo))!==void 0&&!T;){var F=v.get(e);if(S+=1,typeof F<"u"){if(F===S)throw new RangeError("Cyclic object value");T=!0}typeof v.get(bo)>"u"&&(S=0)}if(typeof u=="function"?b=u(r,b):b instanceof Date?b=g(b):n==="comma"&&pt(b)&&(b=aa.maybeMap(b,function(z){return z instanceof Date?g(z):z})),b===null){if(s)return a&&!y?a(r,Me.encoder,C,"key",f):r;b=""}if(e_(b)||aa.isBuffer(b)){if(a){var G=y?r:a(r,Me.encoder,C,"key",f);if(n==="comma"&&y){for(var Q=Zm.call(String(b),","),U="",$=0;$<Q.length;++$)U+=($===0?"":",")+p(a(Q[$],Me.encoder,C,"value",f));return[p(G)+(i&&pt(b)&&Q.length===1?"[]":"")+"="+U]}return[p(G)+"="+p(a(b,Me.encoder,C,"value",f))]}return[p(r)+"="+p(String(b))]}var q=[];if(typeof b>"u")return q;var te;if(n==="comma"&&pt(b))te=[{value:b.length>0?b.join(",")||null:void 0}];else if(pt(u))te=u;else{var Z=Object.keys(b);te=c?Z.sort(c):Z}for(var E=i&&pt(b)&&b.length===1?r+"[]":r,x=0;x<te.length;++x){var M=te[x],D=typeof M=="object"&&typeof M.value<"u"?M.value:b[M];if(!(o&&D===null)){var B=pt(b)?typeof n=="function"?n(E,M):E:E+(l?"."+M:"["+M+"]");I.set(e,S);var L=ff();L.set(bo,I),hf(q,t(D,B,n,i,s,o,a,u,c,l,g,f,p,y,C,L))}}return q},r_=function(e){if(!e)return Me;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Me.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Jr.default;if(typeof e.format<"u"){if(!Ym.call(Jr.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Jr.formatters[n],s=Me.filter;return(typeof e.filter=="function"||pt(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Me.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Me.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Me.charsetSentinel,delimiter:typeof e.delimiter>"u"?Me.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Me.encode,encoder:typeof e.encoder=="function"?e.encoder:Me.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Me.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Me.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Me.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Me.strictNullHandling}},n_=function(t,e){var r=t,n=r_(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):pt(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Uu?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var u=Uu[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=u==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=ff(),g=0;g<i.length;++g){var f=i[g];n.skipNulls&&r[f]===null||hf(o,t_(r[f],f,u,c,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var p=o.join(n.delimiter),y=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),p.length>0?y+p:""},Er=lf,ua=Object.prototype.hasOwnProperty,i_=Array.isArray,xe={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Er.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s_=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},df=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},o_="utf8=%26%2310003%3B",a_="utf8=%E2%9C%93",u_=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,u,c=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===a_?c="utf-8":o[u]===o_&&(c="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var l=o[u],g=l.indexOf("]="),f=g===-1?l.indexOf("="):g+1,p,y;f===-1?(p=r.decoder(l,xe.decoder,c,"key"),y=r.strictNullHandling?null:""):(p=r.decoder(l.slice(0,f),xe.decoder,c,"key"),y=Er.maybeMap(df(l.slice(f+1),r),function(C){return r.decoder(C,xe.decoder,c,"value")})),y&&r.interpretNumericEntities&&c==="iso-8859-1"&&(y=s_(y)),l.indexOf("[]=")>-1&&(y=i_(y)?[y]:y),ua.call(n,p)?n[p]=Er.combine(n[p],y):n[p]=y}return n},c_=function(t,e,r,n){for(var i=n?e:df(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=parseInt(u,10);!r.parseArrays&&u===""?o={0:i}:!isNaN(c)&&a!==u&&String(c)===u&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[],o[c]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},l_=function(e,r,n,i){if(!!e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(s),c=u?s.slice(0,u.index):s,l=[];if(c){if(!n.plainObjects&&ua.call(Object.prototype,c)&&!n.allowPrototypes)return;l.push(c)}for(var g=0;n.depth>0&&(u=a.exec(s))!==null&&g<n.depth;){if(g+=1,!n.plainObjects&&ua.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(u[1])}return u&&l.push("["+s.slice(u.index)+"]"),c_(l,r,n,i)}},f_=function(e){if(!e)return xe;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?xe.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?xe.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:xe.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:xe.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:xe.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:xe.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:xe.comma,decoder:typeof e.decoder=="function"?e.decoder:xe.decoder,delimiter:typeof e.delimiter=="string"||Er.isRegExp(e.delimiter)?e.delimiter:xe.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:xe.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:xe.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:xe.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:xe.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:xe.strictNullHandling}},h_=function(t,e){var r=f_(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?u_(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],u=l_(a,n[a],r,typeof t=="string");i=Er.merge(i,u,r)}return r.allowSparse===!0?i:Er.compact(i)},d_=n_,p_=h_,b_=ja,g_={formats:b_,parse:p_,stringify:d_},xn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(xn);var y_=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(K,"__esModule",{value:!0});K.isInIFrame=K.createQrUrl=K.getFavicon=K.range=K.isBigNumber=K.ensureParsedJSONObject=K.ensureBN=K.ensureRegExpString=K.ensureIntNumber=K.ensureBuffer=K.ensureAddressString=K.ensureEvenLengthHexString=K.ensureHexString=K.isHexString=K.prepend0x=K.strip0x=K.has0xPrefix=K.hexStringFromIntNumber=K.intNumberFromHexString=K.bigIntStringFromBN=K.hexStringFromBuffer=K.hexStringToUint8Array=K.uint8ArrayToHex=K.randomBytesHex=void 0;const At=y_(gi.exports),v_=g_,Ge=xn,pf=/^[0-9]*$/,bf=/^[a-f0-9]*$/;function m_(t){return gf(crypto.getRandomValues(new Uint8Array(t)))}K.randomBytesHex=m_;function gf(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}K.uint8ArrayToHex=gf;function __(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}K.hexStringToUint8Array=__;function w_(t,e=!1){const r=t.toString("hex");return(0,Ge.HexString)(e?"0x"+r:r)}K.hexStringFromBuffer=w_;function S_(t){return(0,Ge.BigIntString)(t.toString(10))}K.bigIntStringFromBN=S_;function E_(t){return(0,Ge.IntNumber)(new At.default(kn(t,!1),16).toNumber())}K.intNumberFromHexString=E_;function x_(t){return(0,Ge.HexString)("0x"+new At.default(t).toString(16))}K.hexStringFromIntNumber=x_;function Ba(t){return t.startsWith("0x")||t.startsWith("0X")}K.has0xPrefix=Ba;function Oi(t){return Ba(t)?t.slice(2):t}K.strip0x=Oi;function yf(t){return Ba(t)?"0x"+t.slice(2):"0x"+t}K.prepend0x=yf;function Cn(t){if(typeof t!="string")return!1;const e=Oi(t).toLowerCase();return bf.test(e)}K.isHexString=Cn;function vf(t,e=!1){if(typeof t=="string"){const r=Oi(t).toLowerCase();if(bf.test(r))return(0,Ge.HexString)(e?"0x"+r:r)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}K.ensureHexString=vf;function kn(t,e=!1){let r=vf(t,!1);return r.length%2===1&&(r=(0,Ge.HexString)("0"+r)),e?(0,Ge.HexString)("0x"+r):r}K.ensureEvenLengthHexString=kn;function C_(t){if(typeof t=="string"){const e=Oi(t).toLowerCase();if(Cn(e)&&e.length===40)return(0,Ge.AddressString)(yf(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)}K.ensureAddressString=C_;function k_(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(Cn(t)){const e=kn(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw new Error(`Not binary data: ${String(t)}`)}K.ensureBuffer=k_;function mf(t){if(typeof t=="number"&&Number.isInteger(t))return(0,Ge.IntNumber)(t);if(typeof t=="string"){if(pf.test(t))return(0,Ge.IntNumber)(Number(t));if(Cn(t))return(0,Ge.IntNumber)(new At.default(kn(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}K.ensureIntNumber=mf;function A_(t){if(t instanceof RegExp)return(0,Ge.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)}K.ensureRegExpString=A_;function M_(t){if(t!==null&&(At.default.isBN(t)||_f(t)))return new At.default(t.toString(10),10);if(typeof t=="number")return new At.default(mf(t));if(typeof t=="string"){if(pf.test(t))return new At.default(t,10);if(Cn(t))return new At.default(kn(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)}K.ensureBN=M_;function I_(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)}K.ensureParsedJSONObject=I_;function _f(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}K.isBigNumber=_f;function R_(t,e){return Array.from({length:e-t},(r,n)=>t+n)}K.range=R_;function T_(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}K.getFavicon=T_;function O_(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,v_.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}K.createQrUrl=O_;function N_(){try{return window.frameElement!==null}catch{return!1}}K.isInIFrame=N_;Object.defineProperty(Tr,"__esModule",{value:!0});Tr.Session=void 0;const P_=Dr,Vu=ki,zu=Hl.exports,qu=K,go="session:id",Gu="session:secret",Qu="session:linked";class Fa{constructor(e,r,n,i){this._storage=e,this._id=r||(0,qu.randomBytesHex)(16),this._secret=n||(0,qu.randomBytesHex)(32),this._key=new zu.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(go),n=e.getItem(Qu),i=e.getItem(Gu);return r&&i?new Fa(e,r,i,n==="1"):null}static get persistedSessionIdChange$(){return(0,P_.fromEvent)(window,"storage").pipe((0,Vu.filter)(e=>e.key===go),(0,Vu.map)(e=>({oldValue:e.oldValue||null,newValue:e.newValue||null})))}static hash(e){return new zu.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(go,this._id),this._storage.setItem(Gu,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Qu,this._linked?"1":"0")}}Tr.Session=Fa;var tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.WalletSDKRelayAbstract=tt.APP_VERSION_KEY=tt.LOCAL_STORAGE_ADDRESSES_KEY=tt.WALLET_USER_NAME_KEY=void 0;const Ku=wi;tt.WALLET_USER_NAME_KEY="walletUsername";tt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";tt.APP_VERSION_KEY="AppVersion";class D_{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Ku.ethErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Ku.serializeError)(s);return i})}}tt.WalletSDKRelayAbstract=D_;var ci={exports:{}},wf=yi.exports.EventEmitter,yo,Yu;function L_(){if(Yu)return yo;Yu=1;function t(f,p){var y=Object.keys(f);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(f);p&&(C=C.filter(function(I){return Object.getOwnPropertyDescriptor(f,I).enumerable})),y.push.apply(y,C)}return y}function e(f){for(var p=1;p<arguments.length;p++){var y=arguments[p]!=null?arguments[p]:{};p%2?t(Object(y),!0).forEach(function(C){r(f,C,y[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(y)):t(Object(y)).forEach(function(C){Object.defineProperty(f,C,Object.getOwnPropertyDescriptor(y,C))})}return f}function r(f,p,y){return p in f?Object.defineProperty(f,p,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[p]=y,f}function n(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function i(f,p){for(var y=0;y<p.length;y++){var C=p[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(f,C.key,C)}}function s(f,p,y){return p&&i(f.prototype,p),y&&i(f,y),f}var o=vi,a=o.Buffer,u=ya,c=u.inspect,l=c&&c.custom||"inspect";function g(f,p,y){a.prototype.copy.call(f,p,y)}return yo=function(){function f(){n(this,f),this.head=null,this.tail=null,this.length=0}return s(f,[{key:"push",value:function(y){var C={data:y,next:null};this.length>0?this.tail.next=C:this.head=C,this.tail=C,++this.length}},{key:"unshift",value:function(y){var C={data:y,next:this.head};this.length===0&&(this.tail=C),this.head=C,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var C=this.head,I=""+C.data;C=C.next;)I+=y+C.data;return I}},{key:"concat",value:function(y){if(this.length===0)return a.alloc(0);for(var C=a.allocUnsafe(y>>>0),I=this.head,b=0;I;)g(I.data,C,b),b+=I.data.length,I=I.next;return C}},{key:"consume",value:function(y,C){var I;return y<this.head.data.length?(I=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?I=this.shift():I=C?this._getString(y):this._getBuffer(y),I}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var C=this.head,I=1,b=C.data;for(y-=b.length;C=C.next;){var v=C.data,S=y>v.length?v.length:y;if(S===v.length?b+=v:b+=v.slice(0,y),y-=S,y===0){S===v.length?(++I,C.next?this.head=C.next:this.head=this.tail=null):(this.head=C,C.data=v.slice(S));break}++I}return this.length-=I,b}},{key:"_getBuffer",value:function(y){var C=a.allocUnsafe(y),I=this.head,b=1;for(I.data.copy(C),y-=I.data.length;I=I.next;){var v=I.data,S=y>v.length?v.length:y;if(v.copy(C,C.length-y,0,S),y-=S,y===0){S===v.length?(++b,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=v.slice(S));break}++b}return this.length-=b,C}},{key:l,value:function(y,C){return c(this,e({},C,{depth:0,customInspect:!1}))}}]),f}(),yo}function j_(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ca,this,t)):process.nextTick(ca,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(qn,r):(r._writableState.errorEmitted=!0,process.nextTick(Zu,r,s)):process.nextTick(Zu,r,s):e?(process.nextTick(qn,r),e(s)):process.nextTick(qn,r)}),this)}function Zu(t,e){ca(t,e),qn(t)}function qn(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function B_(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ca(t,e){t.emit("error",e)}function F_(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var Sf={destroy:j_,undestroy:B_,errorOrDestroy:F_},Jt={};function $_(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Ef={};function Ye(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){$_(o,s);function o(a,u,c){return s.call(this,n(a,u,c))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,Ef[t]=i}function Ju(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function W_(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function U_(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function H_(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Ye("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Ye("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&W_(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(U_(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Ju(e,"type"));else{var s=H_(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(Ju(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Ye("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ye("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Ye("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ye("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Ye("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ye("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ye("ERR_STREAM_WRITE_AFTER_END","write after end");Ye("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ye("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Ye("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Jt.codes=Ef;var V_=Jt.codes.ERR_INVALID_OPT_VALUE;function z_(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function q_(t,e,r,n){var i=z_(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new V_(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var xf={getHighWaterMark:q_},G_=Q_;function Q_(t,e){if(vo("noDeprecation"))return t;var r=!1;function n(){if(!r){if(vo("throwDeprecation"))throw new Error(e);vo("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function vo(t){try{if(!ie.localStorage)return!1}catch{return!1}var e=ie.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var mo,Xu;function Cf(){if(Xu)return mo;Xu=1,mo=U;function t(m){var _=this;this.next=null,this.entry=null,this.finish=function(){H(_,m)}}var e;U.WritableState=G;var r={deprecate:G_},n=wf,i=vi.Buffer,s=ie.Uint8Array||function(){};function o(m){return i.from(m)}function a(m){return i.isBuffer(m)||m instanceof s}var u=Sf,c=xf,l=c.getHighWaterMark,g=Jt.codes,f=g.ERR_INVALID_ARG_TYPE,p=g.ERR_METHOD_NOT_IMPLEMENTED,y=g.ERR_MULTIPLE_CALLBACK,C=g.ERR_STREAM_CANNOT_PIPE,I=g.ERR_STREAM_DESTROYED,b=g.ERR_STREAM_NULL_VALUES,v=g.ERR_STREAM_WRITE_AFTER_END,S=g.ERR_UNKNOWN_ENCODING,T=u.errorOrDestroy;Qe.exports(U,n);function F(){}function G(m,_,A){e=e||xr(),m=m||{},typeof A!="boolean"&&(A=_ instanceof e),this.objectMode=!!m.objectMode,A&&(this.objectMode=this.objectMode||!!m.writableObjectMode),this.highWaterMark=l(this,m,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var j=m.decodeStrings===!1;this.decodeStrings=!j,this.defaultEncoding=m.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(V){D(_,V)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=m.emitClose!==!1,this.autoDestroy=!!m.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}G.prototype.getBuffer=function(){for(var _=this.bufferedRequest,A=[];_;)A.push(_),_=_.next;return A},function(){try{Object.defineProperty(G.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Q;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Q=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(_){return Q.call(this,_)?!0:this!==U?!1:_&&_._writableState instanceof G}})):Q=function(_){return _ instanceof this};function U(m){e=e||xr();var _=this instanceof e;if(!_&&!Q.call(U,this))return new U(m);this._writableState=new G(m,this,_),this.writable=!0,m&&(typeof m.write=="function"&&(this._write=m.write),typeof m.writev=="function"&&(this._writev=m.writev),typeof m.destroy=="function"&&(this._destroy=m.destroy),typeof m.final=="function"&&(this._final=m.final)),n.call(this)}U.prototype.pipe=function(){T(this,new C)};function $(m,_){var A=new v;T(m,A),process.nextTick(_,A)}function q(m,_,A,j){var V;return A===null?V=new b:typeof A!="string"&&!_.objectMode&&(V=new f("chunk",["string","Buffer"],A)),V?(T(m,V),process.nextTick(j,V),!1):!0}U.prototype.write=function(m,_,A){var j=this._writableState,V=!1,h=!j.objectMode&&a(m);return h&&!i.isBuffer(m)&&(m=o(m)),typeof _=="function"&&(A=_,_=null),h?_="buffer":_||(_=j.defaultEncoding),typeof A!="function"&&(A=F),j.ending?$(this,A):(h||q(this,j,m,A))&&(j.pendingcb++,V=Z(this,j,h,m,_,A)),V},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var m=this._writableState;m.corked&&(m.corked--,!m.writing&&!m.corked&&!m.bufferProcessing&&m.bufferedRequest&&z(this,m))},U.prototype.setDefaultEncoding=function(_){if(typeof _=="string"&&(_=_.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_+"").toLowerCase())>-1))throw new S(_);return this._writableState.defaultEncoding=_,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function te(m,_,A){return!m.objectMode&&m.decodeStrings!==!1&&typeof _=="string"&&(_=i.from(_,A)),_}Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Z(m,_,A,j,V,h){if(!A){var d=te(_,j,V);j!==d&&(A=!0,V="buffer",j=d)}var N=_.objectMode?1:j.length;_.length+=N;var W=_.length<_.highWaterMark;if(W||(_.needDrain=!0),_.writing||_.corked){var fe=_.lastBufferedRequest;_.lastBufferedRequest={chunk:j,encoding:V,isBuf:A,callback:h,next:null},fe?fe.next=_.lastBufferedRequest:_.bufferedRequest=_.lastBufferedRequest,_.bufferedRequestCount+=1}else E(m,_,!1,N,j,V,h);return W}function E(m,_,A,j,V,h,d){_.writelen=j,_.writecb=d,_.writing=!0,_.sync=!0,_.destroyed?_.onwrite(new I("write")):A?m._writev(V,_.onwrite):m._write(V,h,_.onwrite),_.sync=!1}function x(m,_,A,j,V){--_.pendingcb,A?(process.nextTick(V,j),process.nextTick(k,m,_),m._writableState.errorEmitted=!0,T(m,j)):(V(j),m._writableState.errorEmitted=!0,T(m,j),k(m,_))}function M(m){m.writing=!1,m.writecb=null,m.length-=m.writelen,m.writelen=0}function D(m,_){var A=m._writableState,j=A.sync,V=A.writecb;if(typeof V!="function")throw new y;if(M(A),_)x(m,A,j,_,V);else{var h=re(A)||m.destroyed;!h&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&z(m,A),j?process.nextTick(B,m,A,h,V):B(m,A,h,V)}}function B(m,_,A,j){A||L(m,_),_.pendingcb--,j(),k(m,_)}function L(m,_){_.length===0&&_.needDrain&&(_.needDrain=!1,m.emit("drain"))}function z(m,_){_.bufferProcessing=!0;var A=_.bufferedRequest;if(m._writev&&A&&A.next){var j=_.bufferedRequestCount,V=new Array(j),h=_.corkedRequestsFree;h.entry=A;for(var d=0,N=!0;A;)V[d]=A,A.isBuf||(N=!1),A=A.next,d+=1;V.allBuffers=N,E(m,_,!0,_.length,V,"",h.finish),_.pendingcb++,_.lastBufferedRequest=null,h.next?(_.corkedRequestsFree=h.next,h.next=null):_.corkedRequestsFree=new t(_),_.bufferedRequestCount=0}else{for(;A;){var W=A.chunk,fe=A.encoding,ee=A.callback,le=_.objectMode?1:W.length;if(E(m,_,!1,le,W,fe,ee),A=A.next,_.bufferedRequestCount--,_.writing)break}A===null&&(_.lastBufferedRequest=null)}_.bufferedRequest=A,_.bufferProcessing=!1}U.prototype._write=function(m,_,A){A(new p("_write()"))},U.prototype._writev=null,U.prototype.end=function(m,_,A){var j=this._writableState;return typeof m=="function"?(A=m,m=null,_=null):typeof _=="function"&&(A=_,_=null),m!=null&&this.write(m,_),j.corked&&(j.corked=1,this.uncork()),j.ending||O(this,j,A),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function re(m){return m.ending&&m.length===0&&m.bufferedRequest===null&&!m.finished&&!m.writing}function ge(m,_){m._final(function(A){_.pendingcb--,A&&T(m,A),_.prefinished=!0,m.emit("prefinish"),k(m,_)})}function w(m,_){!_.prefinished&&!_.finalCalled&&(typeof m._final=="function"&&!_.destroyed?(_.pendingcb++,_.finalCalled=!0,process.nextTick(ge,m,_)):(_.prefinished=!0,m.emit("prefinish")))}function k(m,_){var A=re(_);if(A&&(w(m,_),_.pendingcb===0&&(_.finished=!0,m.emit("finish"),_.autoDestroy))){var j=m._readableState;(!j||j.autoDestroy&&j.endEmitted)&&m.destroy()}return A}function O(m,_,A){_.ending=!0,k(m,_),A&&(_.finished?process.nextTick(A):m.once("finish",A)),_.ended=!0,m.writable=!1}function H(m,_,A){var j=m.entry;for(m.entry=null;j;){var V=j.callback;_.pendingcb--,V(A),j=j.next}_.corkedRequestsFree.next=m}return Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(_){!this._writableState||(this._writableState.destroyed=_)}}),U.prototype.destroy=u.destroy,U.prototype._undestroy=u.undestroy,U.prototype._destroy=function(m,_){_(m)},mo}var _o,ec;function xr(){if(ec)return _o;ec=1;var t=Object.keys||function(c){var l=[];for(var g in c)l.push(g);return l};_o=o;var e=Af(),r=Cf();Qe.exports(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(c){if(!(this instanceof o))return new o(c);e.call(this,c),r.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(u,this)}function u(c){c.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),_o}var wo={},tc;function rc(){if(tc)return wo;tc=1;var t=lt.exports.Buffer,e=t.isEncoding||function(b){switch(b=""+b,b&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(b){if(!b)return"utf8";for(var v;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(v)return;b=(""+b).toLowerCase(),v=!0}}function n(b){var v=r(b);if(typeof v!="string"&&(t.isEncoding===e||!e(b)))throw new Error("Unknown encoding: "+b);return v||b}wo.StringDecoder=i;function i(b){this.encoding=n(b);var v;switch(this.encoding){case"utf16le":this.text=g,this.end=f,v=4;break;case"utf8":this.fillLast=u,v=4;break;case"base64":this.text=p,this.end=y,v=3;break;default:this.write=C,this.end=I;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(v)}i.prototype.write=function(b){if(b.length===0)return"";var v,S;if(this.lastNeed){if(v=this.fillLast(b),v===void 0)return"";S=this.lastNeed,this.lastNeed=0}else S=0;return S<b.length?v?v+this.text(b,S):this.text(b,S):v||""},i.prototype.end=l,i.prototype.text=c,i.prototype.fillLast=function(b){if(this.lastNeed<=b.length)return b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),this.lastNeed-=b.length};function s(b){return b<=127?0:b>>5===6?2:b>>4===14?3:b>>3===30?4:b>>6===2?-1:-2}function o(b,v,S){var T=v.length-1;if(T<S)return 0;var F=s(v[T]);return F>=0?(F>0&&(b.lastNeed=F-1),F):--T<S||F===-2?0:(F=s(v[T]),F>=0?(F>0&&(b.lastNeed=F-2),F):--T<S||F===-2?0:(F=s(v[T]),F>=0?(F>0&&(F===2?F=0:b.lastNeed=F-3),F):0))}function a(b,v,S){if((v[0]&192)!==128)return b.lastNeed=0,"\uFFFD";if(b.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return b.lastNeed=1,"\uFFFD";if(b.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return b.lastNeed=2,"\uFFFD"}}function u(b){var v=this.lastTotal-this.lastNeed,S=a(this,b);if(S!==void 0)return S;if(this.lastNeed<=b.length)return b.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,v,0,b.length),this.lastNeed-=b.length}function c(b,v){var S=o(this,b,v);if(!this.lastNeed)return b.toString("utf8",v);this.lastTotal=S;var T=b.length-(S-this.lastNeed);return b.copy(this.lastChar,0,T),b.toString("utf8",v,T)}function l(b){var v=b&&b.length?this.write(b):"";return this.lastNeed?v+"\uFFFD":v}function g(b,v){if((b.length-v)%2===0){var S=b.toString("utf16le",v);if(S){var T=S.charCodeAt(S.length-1);if(T>=55296&&T<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],S.slice(0,-1)}return S}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",v,b.length-1)}function f(b){var v=b&&b.length?this.write(b):"";if(this.lastNeed){var S=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,S)}return v}function p(b,v){var S=(b.length-v)%3;return S===0?b.toString("base64",v):(this.lastNeed=3-S,this.lastTotal=3,S===1?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",v,b.length-S))}function y(b){var v=b&&b.length?this.write(b):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function C(b){return b.toString(this.encoding)}function I(b){return b&&b.length?this.write(b):""}return wo}var nc=Jt.codes.ERR_STREAM_PREMATURE_CLOSE;function K_(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function Y_(){}function Z_(t){return t.setHeader&&typeof t.abort=="function"}function kf(t,e,r){if(typeof e=="function")return kf(t,null,e);e||(e={}),r=K_(r||Y_);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,c=function(){n=!1,u=!0,i||r.call(t)},l=function(y){r.call(t,y)},g=function(){var y;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(y=new nc),r.call(t,y);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(y=new nc),r.call(t,y)},f=function(){t.req.on("finish",a)};return Z_(t)?(t.on("complete",a),t.on("abort",g),t.req?f():t.on("request",f)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",l),t.on("close",g),function(){t.removeListener("complete",a),t.removeListener("abort",g),t.removeListener("request",f),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",l),t.removeListener("close",g)}}var $a=kf,So,ic;function J_(){if(ic)return So;ic=1;var t;function e(b,v,S){return v in b?Object.defineProperty(b,v,{value:S,enumerable:!0,configurable:!0,writable:!0}):b[v]=S,b}var r=$a,n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),u=Symbol("handlePromise"),c=Symbol("stream");function l(b,v){return{value:b,done:v}}function g(b){var v=b[n];if(v!==null){var S=b[c].read();S!==null&&(b[a]=null,b[n]=null,b[i]=null,v(l(S,!1)))}}function f(b){process.nextTick(g,b)}function p(b,v){return function(S,T){b.then(function(){if(v[o]){S(l(void 0,!0));return}v[u](S,T)},T)}}var y=Object.getPrototypeOf(function(){}),C=Object.setPrototypeOf((t={get stream(){return this[c]},next:function(){var v=this,S=this[s];if(S!==null)return Promise.reject(S);if(this[o])return Promise.resolve(l(void 0,!0));if(this[c].destroyed)return new Promise(function(Q,U){process.nextTick(function(){v[s]?U(v[s]):Q(l(void 0,!0))})});var T=this[a],F;if(T)F=new Promise(p(T,this));else{var G=this[c].read();if(G!==null)return Promise.resolve(l(G,!1));F=new Promise(this[u])}return this[a]=F,F}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var v=this;return new Promise(function(S,T){v[c].destroy(null,function(F){if(F){T(F);return}S(l(void 0,!0))})})}),t),y),I=function(v){var S,T=Object.create(C,(S={},e(S,c,{value:v,writable:!0}),e(S,n,{value:null,writable:!0}),e(S,i,{value:null,writable:!0}),e(S,s,{value:null,writable:!0}),e(S,o,{value:v._readableState.endEmitted,writable:!0}),e(S,u,{value:function(G,Q){var U=T[c].read();U?(T[a]=null,T[n]=null,T[i]=null,G(l(U,!1))):(T[n]=G,T[i]=Q)},writable:!0}),S));return T[a]=null,r(v,function(F){if(F&&F.code!=="ERR_STREAM_PREMATURE_CLOSE"){var G=T[i];G!==null&&(T[a]=null,T[n]=null,T[i]=null,G(F)),T[s]=F;return}var Q=T[n];Q!==null&&(T[a]=null,T[n]=null,T[i]=null,Q(l(void 0,!0))),T[o]=!0}),v.on("readable",f.bind(null,T)),T};return So=I,So}var Eo,sc;function X_(){return sc||(sc=1,Eo=function(){throw new Error("Readable.from is not available in the browser")}),Eo}var xo,oc;function Af(){if(oc)return xo;oc=1,xo=$;var t;$.ReadableState=U,yi.exports.EventEmitter;var e=function(d,N){return d.listeners(N).length},r=wf,n=vi.Buffer,i=ie.Uint8Array||function(){};function s(h){return n.from(h)}function o(h){return n.isBuffer(h)||h instanceof i}var a=ya,u;a&&a.debuglog?u=a.debuglog("stream"):u=function(){};var c=L_(),l=Sf,g=xf,f=g.getHighWaterMark,p=Jt.codes,y=p.ERR_INVALID_ARG_TYPE,C=p.ERR_STREAM_PUSH_AFTER_EOF,I=p.ERR_METHOD_NOT_IMPLEMENTED,b=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,v,S,T;Qe.exports($,r);var F=l.errorOrDestroy,G=["error","close","destroy","pause","resume"];function Q(h,d,N){if(typeof h.prependListener=="function")return h.prependListener(d,N);!h._events||!h._events[d]?h.on(d,N):Array.isArray(h._events[d])?h._events[d].unshift(N):h._events[d]=[N,h._events[d]]}function U(h,d,N){t=t||xr(),h=h||{},typeof N!="boolean"&&(N=d instanceof t),this.objectMode=!!h.objectMode,N&&(this.objectMode=this.objectMode||!!h.readableObjectMode),this.highWaterMark=f(this,h,"readableHighWaterMark",N),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=h.emitClose!==!1,this.autoDestroy=!!h.autoDestroy,this.destroyed=!1,this.defaultEncoding=h.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,h.encoding&&(v||(v=rc().StringDecoder),this.decoder=new v(h.encoding),this.encoding=h.encoding)}function $(h){if(t=t||xr(),!(this instanceof $))return new $(h);var d=this instanceof t;this._readableState=new U(h,this,d),this.readable=!0,h&&(typeof h.read=="function"&&(this._read=h.read),typeof h.destroy=="function"&&(this._destroy=h.destroy)),r.call(this)}Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(d){!this._readableState||(this._readableState.destroyed=d)}}),$.prototype.destroy=l.destroy,$.prototype._undestroy=l.undestroy,$.prototype._destroy=function(h,d){d(h)},$.prototype.push=function(h,d){var N=this._readableState,W;return N.objectMode?W=!0:typeof h=="string"&&(d=d||N.defaultEncoding,d!==N.encoding&&(h=n.from(h,d),d=""),W=!0),q(this,h,d,!1,W)},$.prototype.unshift=function(h){return q(this,h,null,!0,!1)};function q(h,d,N,W,fe){u("readableAddChunk",d);var ee=h._readableState;if(d===null)ee.reading=!1,D(h,ee);else{var le;if(fe||(le=Z(ee,d)),le)F(h,le);else if(ee.objectMode||d&&d.length>0)if(typeof d!="string"&&!ee.objectMode&&Object.getPrototypeOf(d)!==n.prototype&&(d=s(d)),W)ee.endEmitted?F(h,new b):te(h,ee,d,!0);else if(ee.ended)F(h,new C);else{if(ee.destroyed)return!1;ee.reading=!1,ee.decoder&&!N?(d=ee.decoder.write(d),ee.objectMode||d.length!==0?te(h,ee,d,!1):z(h,ee)):te(h,ee,d,!1)}else W||(ee.reading=!1,z(h,ee))}return!ee.ended&&(ee.length<ee.highWaterMark||ee.length===0)}function te(h,d,N,W){d.flowing&&d.length===0&&!d.sync?(d.awaitDrain=0,h.emit("data",N)):(d.length+=d.objectMode?1:N.length,W?d.buffer.unshift(N):d.buffer.push(N),d.needReadable&&B(h)),z(h,d)}function Z(h,d){var N;return!o(d)&&typeof d!="string"&&d!==void 0&&!h.objectMode&&(N=new y("chunk",["string","Buffer","Uint8Array"],d)),N}$.prototype.isPaused=function(){return this._readableState.flowing===!1},$.prototype.setEncoding=function(h){v||(v=rc().StringDecoder);var d=new v(h);this._readableState.decoder=d,this._readableState.encoding=this._readableState.decoder.encoding;for(var N=this._readableState.buffer.head,W="";N!==null;)W+=d.write(N.data),N=N.next;return this._readableState.buffer.clear(),W!==""&&this._readableState.buffer.push(W),this._readableState.length=W.length,this};var E=1073741824;function x(h){return h>=E?h=E:(h--,h|=h>>>1,h|=h>>>2,h|=h>>>4,h|=h>>>8,h|=h>>>16,h++),h}function M(h,d){return h<=0||d.length===0&&d.ended?0:d.objectMode?1:h!==h?d.flowing&&d.length?d.buffer.head.data.length:d.length:(h>d.highWaterMark&&(d.highWaterMark=x(h)),h<=d.length?h:d.ended?d.length:(d.needReadable=!0,0))}$.prototype.read=function(h){u("read",h),h=parseInt(h,10);var d=this._readableState,N=h;if(h!==0&&(d.emittedReadable=!1),h===0&&d.needReadable&&((d.highWaterMark!==0?d.length>=d.highWaterMark:d.length>0)||d.ended))return u("read: emitReadable",d.length,d.ended),d.length===0&&d.ended?A(this):B(this),null;if(h=M(h,d),h===0&&d.ended)return d.length===0&&A(this),null;var W=d.needReadable;u("need readable",W),(d.length===0||d.length-h<d.highWaterMark)&&(W=!0,u("length less than watermark",W)),d.ended||d.reading?(W=!1,u("reading or ended",W)):W&&(u("do read"),d.reading=!0,d.sync=!0,d.length===0&&(d.needReadable=!0),this._read(d.highWaterMark),d.sync=!1,d.reading||(h=M(N,d)));var fe;return h>0?fe=_(h,d):fe=null,fe===null?(d.needReadable=d.length<=d.highWaterMark,h=0):(d.length-=h,d.awaitDrain=0),d.length===0&&(d.ended||(d.needReadable=!0),N!==h&&d.ended&&A(this)),fe!==null&&this.emit("data",fe),fe};function D(h,d){if(u("onEofChunk"),!d.ended){if(d.decoder){var N=d.decoder.end();N&&N.length&&(d.buffer.push(N),d.length+=d.objectMode?1:N.length)}d.ended=!0,d.sync?B(h):(d.needReadable=!1,d.emittedReadable||(d.emittedReadable=!0,L(h)))}}function B(h){var d=h._readableState;u("emitReadable",d.needReadable,d.emittedReadable),d.needReadable=!1,d.emittedReadable||(u("emitReadable",d.flowing),d.emittedReadable=!0,process.nextTick(L,h))}function L(h){var d=h._readableState;u("emitReadable_",d.destroyed,d.length,d.ended),!d.destroyed&&(d.length||d.ended)&&(h.emit("readable"),d.emittedReadable=!1),d.needReadable=!d.flowing&&!d.ended&&d.length<=d.highWaterMark,m(h)}function z(h,d){d.readingMore||(d.readingMore=!0,process.nextTick(re,h,d))}function re(h,d){for(;!d.reading&&!d.ended&&(d.length<d.highWaterMark||d.flowing&&d.length===0);){var N=d.length;if(u("maybeReadMore read 0"),h.read(0),N===d.length)break}d.readingMore=!1}$.prototype._read=function(h){F(this,new I("_read()"))},$.prototype.pipe=function(h,d){var N=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=h;break;case 1:W.pipes=[W.pipes,h];break;default:W.pipes.push(h);break}W.pipesCount+=1,u("pipe count=%d opts=%j",W.pipesCount,d);var fe=(!d||d.end!==!1)&&h!==process.stdout&&h!==process.stderr,ee=fe?Ze:wt;W.endEmitted?process.nextTick(ee):N.once("end",ee),h.on("unpipe",le);function le(ht,nt){u("onunpipe"),ht===N&&nt&&nt.hasUnpiped===!1&&(nt.hasUnpiped=!0,$r())}function Ze(){u("onend"),h.end()}var R=ge(N);h.on("drain",R);var Bt=!1;function $r(){u("cleanup"),h.removeListener("close",tr),h.removeListener("finish",rr),h.removeListener("drain",R),h.removeListener("error",er),h.removeListener("unpipe",le),N.removeListener("end",Ze),N.removeListener("end",wt),N.removeListener("data",Wr),Bt=!0,W.awaitDrain&&(!h._writableState||h._writableState.needDrain)&&R()}N.on("data",Wr);function Wr(ht){u("ondata");var nt=h.write(ht);u("dest.write",nt),nt===!1&&((W.pipesCount===1&&W.pipes===h||W.pipesCount>1&&V(W.pipes,h)!==-1)&&!Bt&&(u("false write response, pause",W.awaitDrain),W.awaitDrain++),N.pause())}function er(ht){u("onerror",ht),wt(),h.removeListener("error",er),e(h,"error")===0&&F(h,ht)}Q(h,"error",er);function tr(){h.removeListener("finish",rr),wt()}h.once("close",tr);function rr(){u("onfinish"),h.removeListener("close",tr),wt()}h.once("finish",rr);function wt(){u("unpipe"),N.unpipe(h)}return h.emit("pipe",N),W.flowing||(u("pipe resume"),N.resume()),h};function ge(h){return function(){var N=h._readableState;u("pipeOnDrain",N.awaitDrain),N.awaitDrain&&N.awaitDrain--,N.awaitDrain===0&&e(h,"data")&&(N.flowing=!0,m(h))}}$.prototype.unpipe=function(h){var d=this._readableState,N={hasUnpiped:!1};if(d.pipesCount===0)return this;if(d.pipesCount===1)return h&&h!==d.pipes?this:(h||(h=d.pipes),d.pipes=null,d.pipesCount=0,d.flowing=!1,h&&h.emit("unpipe",this,N),this);if(!h){var W=d.pipes,fe=d.pipesCount;d.pipes=null,d.pipesCount=0,d.flowing=!1;for(var ee=0;ee<fe;ee++)W[ee].emit("unpipe",this,{hasUnpiped:!1});return this}var le=V(d.pipes,h);return le===-1?this:(d.pipes.splice(le,1),d.pipesCount-=1,d.pipesCount===1&&(d.pipes=d.pipes[0]),h.emit("unpipe",this,N),this)},$.prototype.on=function(h,d){var N=r.prototype.on.call(this,h,d),W=this._readableState;return h==="data"?(W.readableListening=this.listenerCount("readable")>0,W.flowing!==!1&&this.resume()):h==="readable"&&!W.endEmitted&&!W.readableListening&&(W.readableListening=W.needReadable=!0,W.flowing=!1,W.emittedReadable=!1,u("on readable",W.length,W.reading),W.length?B(this):W.reading||process.nextTick(k,this)),N},$.prototype.addListener=$.prototype.on,$.prototype.removeListener=function(h,d){var N=r.prototype.removeListener.call(this,h,d);return h==="readable"&&process.nextTick(w,this),N},$.prototype.removeAllListeners=function(h){var d=r.prototype.removeAllListeners.apply(this,arguments);return(h==="readable"||h===void 0)&&process.nextTick(w,this),d};function w(h){var d=h._readableState;d.readableListening=h.listenerCount("readable")>0,d.resumeScheduled&&!d.paused?d.flowing=!0:h.listenerCount("data")>0&&h.resume()}function k(h){u("readable nexttick read 0"),h.read(0)}$.prototype.resume=function(){var h=this._readableState;return h.flowing||(u("resume"),h.flowing=!h.readableListening,O(this,h)),h.paused=!1,this};function O(h,d){d.resumeScheduled||(d.resumeScheduled=!0,process.nextTick(H,h,d))}function H(h,d){u("resume",d.reading),d.reading||h.read(0),d.resumeScheduled=!1,h.emit("resume"),m(h),d.flowing&&!d.reading&&h.read(0)}$.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function m(h){var d=h._readableState;for(u("flow",d.flowing);d.flowing&&h.read()!==null;);}$.prototype.wrap=function(h){var d=this,N=this._readableState,W=!1;h.on("end",function(){if(u("wrapped end"),N.decoder&&!N.ended){var le=N.decoder.end();le&&le.length&&d.push(le)}d.push(null)}),h.on("data",function(le){if(u("wrapped data"),N.decoder&&(le=N.decoder.write(le)),!(N.objectMode&&le==null)&&!(!N.objectMode&&(!le||!le.length))){var Ze=d.push(le);Ze||(W=!0,h.pause())}});for(var fe in h)this[fe]===void 0&&typeof h[fe]=="function"&&(this[fe]=function(Ze){return function(){return h[Ze].apply(h,arguments)}}(fe));for(var ee=0;ee<G.length;ee++)h.on(G[ee],this.emit.bind(this,G[ee]));return this._read=function(le){u("wrapped _read",le),W&&(W=!1,h.resume())},this},typeof Symbol=="function"&&($.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=J_()),S(this)}),Object.defineProperty($.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty($.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty($.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(d){this._readableState&&(this._readableState.flowing=d)}}),$._fromList=_,Object.defineProperty($.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function _(h,d){if(d.length===0)return null;var N;return d.objectMode?N=d.buffer.shift():!h||h>=d.length?(d.decoder?N=d.buffer.join(""):d.buffer.length===1?N=d.buffer.first():N=d.buffer.concat(d.length),d.buffer.clear()):N=d.buffer.consume(h,d.decoder),N}function A(h){var d=h._readableState;u("endReadable",d.endEmitted),d.endEmitted||(d.ended=!0,process.nextTick(j,d,h))}function j(h,d){if(u("endReadableNT",h.endEmitted,h.length),!h.endEmitted&&h.length===0&&(h.endEmitted=!0,d.readable=!1,d.emit("end"),h.autoDestroy)){var N=d._writableState;(!N||N.autoDestroy&&N.finished)&&d.destroy()}}typeof Symbol=="function"&&($.from=function(h,d){return T===void 0&&(T=X_()),T($,h,d)});function V(h,d){for(var N=0,W=h.length;N<W;N++)if(h[N]===d)return N;return-1}return xo}var Mf=vt,Ni=Jt.codes,e1=Ni.ERR_METHOD_NOT_IMPLEMENTED,t1=Ni.ERR_MULTIPLE_CALLBACK,r1=Ni.ERR_TRANSFORM_ALREADY_TRANSFORMING,n1=Ni.ERR_TRANSFORM_WITH_LENGTH_0,Pi=xr();Qe.exports(vt,Pi);function i1(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new t1);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function vt(t){if(!(this instanceof vt))return new vt(t);Pi.call(this,t),this._transformState={afterTransform:i1.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",s1)}function s1(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){ac(t,e,r)}):ac(this,null,null)}vt.prototype.push=function(t,e){return this._transformState.needTransform=!1,Pi.prototype.push.call(this,t,e)};vt.prototype._transform=function(t,e,r){r(new e1("_transform()"))};vt.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};vt.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};vt.prototype._destroy=function(t,e){Pi.prototype._destroy.call(this,t,function(r){e(r)})};function ac(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new n1;if(t._transformState.transforming)throw new r1;return t.push(null)}var o1=ln,If=Mf;Qe.exports(ln,If);function ln(t){if(!(this instanceof ln))return new ln(t);If.call(this,t)}ln.prototype._transform=function(t,e,r){r(null,t)};var Co;function a1(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Rf=Jt.codes,u1=Rf.ERR_MISSING_ARGS,c1=Rf.ERR_STREAM_DESTROYED;function uc(t){if(t)throw t}function l1(t){return t.setHeader&&typeof t.abort=="function"}function f1(t,e,r,n){n=a1(n);var i=!1;t.on("close",function(){i=!0}),Co===void 0&&(Co=$a),Co(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,l1(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new c1("pipe"))}}}function cc(t){t()}function h1(t,e){return t.pipe(e)}function d1(t){return!t.length||typeof t[t.length-1]!="function"?uc:t.pop()}function p1(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=d1(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new u1("streams");var i,s=e.map(function(o,a){var u=a<e.length-1,c=a>0;return f1(o,u,c,function(l){i||(i=l),l&&s.forEach(cc),!u&&(s.forEach(cc),n(i))})});return e.reduce(h1)}var b1=p1;(function(t,e){e=t.exports=Af(),e.Stream=e,e.Readable=e,e.Writable=Cf(),e.Duplex=xr(),e.Transform=Mf,e.PassThrough=o1,e.finished=$a,e.pipeline=b1})(ci,ci.exports);const{Transform:g1}=ci.exports;var y1=t=>class Tf extends g1{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Tf(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:v1}=ci.exports;var m1=t=>class Of extends v1{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Of(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const _1=y1,w1=m1;var S1=function(t){const e=_1(t),r=w1(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},Nf={};const lc=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Nf.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],u=t[6]^t[16]^t[26]^t[36]^t[46],c=t[7]^t[17]^t[27]^t[37]^t[47],l=t[8]^t[18]^t[28]^t[38]^t[48],g=t[9]^t[19]^t[29]^t[39]^t[49];let f=l^(i<<1|s>>>31),p=g^(s<<1|i>>>31);const y=t[0]^f,C=t[1]^p,I=t[10]^f,b=t[11]^p,v=t[20]^f,S=t[21]^p,T=t[30]^f,F=t[31]^p,G=t[40]^f,Q=t[41]^p;f=r^(o<<1|a>>>31),p=n^(a<<1|o>>>31);const U=t[2]^f,$=t[3]^p,q=t[12]^f,te=t[13]^p,Z=t[22]^f,E=t[23]^p,x=t[32]^f,M=t[33]^p,D=t[42]^f,B=t[43]^p;f=i^(u<<1|c>>>31),p=s^(c<<1|u>>>31);const L=t[4]^f,z=t[5]^p,re=t[14]^f,ge=t[15]^p,w=t[24]^f,k=t[25]^p,O=t[34]^f,H=t[35]^p,m=t[44]^f,_=t[45]^p;f=o^(l<<1|g>>>31),p=a^(g<<1|l>>>31);const A=t[6]^f,j=t[7]^p,V=t[16]^f,h=t[17]^p,d=t[26]^f,N=t[27]^p,W=t[36]^f,fe=t[37]^p,ee=t[46]^f,le=t[47]^p;f=u^(r<<1|n>>>31),p=c^(n<<1|r>>>31);const Ze=t[8]^f,R=t[9]^p,Bt=t[18]^f,$r=t[19]^p,Wr=t[28]^f,er=t[29]^p,tr=t[38]^f,rr=t[39]^p,wt=t[48]^f,ht=t[49]^p,nt=y,ls=C,fs=b<<4|I>>>28,hs=I<<4|b>>>28,ds=v<<3|S>>>29,ps=S<<3|v>>>29,bs=F<<9|T>>>23,gs=T<<9|F>>>23,ys=G<<18|Q>>>14,vs=Q<<18|G>>>14,ms=U<<1|$>>>31,_s=$<<1|U>>>31,ws=te<<12|q>>>20,Ss=q<<12|te>>>20,Es=Z<<10|E>>>22,xs=E<<10|Z>>>22,Cs=M<<13|x>>>19,ks=x<<13|M>>>19,As=D<<2|B>>>30,Ms=B<<2|D>>>30,Is=z<<30|L>>>2,Rs=L<<30|z>>>2,Ts=re<<6|ge>>>26,Os=ge<<6|re>>>26,Ns=k<<11|w>>>21,Ps=w<<11|k>>>21,Ds=O<<15|H>>>17,Ls=H<<15|O>>>17,js=_<<29|m>>>3,Bs=m<<29|_>>>3,Fs=A<<28|j>>>4,$s=j<<28|A>>>4,Ws=h<<23|V>>>9,Us=V<<23|h>>>9,Hs=d<<25|N>>>7,Vs=N<<25|d>>>7,zs=W<<21|fe>>>11,qs=fe<<21|W>>>11,Gs=le<<24|ee>>>8,Qs=ee<<24|le>>>8,Ks=Ze<<27|R>>>5,Ys=R<<27|Ze>>>5,Zs=Bt<<20|$r>>>12,Js=$r<<20|Bt>>>12,Xs=er<<7|Wr>>>25,eo=Wr<<7|er>>>25,to=tr<<8|rr>>>24,ro=rr<<8|tr>>>24,no=wt<<14|ht>>>18,io=ht<<14|wt>>>18;t[0]=nt^~ws&Ns,t[1]=ls^~Ss&Ps,t[10]=Fs^~Zs&ds,t[11]=$s^~Js&ps,t[20]=ms^~Ts&Hs,t[21]=_s^~Os&Vs,t[30]=Ks^~fs&Es,t[31]=Ys^~hs&xs,t[40]=Is^~Ws&Xs,t[41]=Rs^~Us&eo,t[2]=ws^~Ns&zs,t[3]=Ss^~Ps&qs,t[12]=Zs^~ds&Cs,t[13]=Js^~ps&ks,t[22]=Ts^~Hs&to,t[23]=Os^~Vs&ro,t[32]=fs^~Es&Ds,t[33]=hs^~xs&Ls,t[42]=Ws^~Xs&bs,t[43]=Us^~eo&gs,t[4]=Ns^~zs&no,t[5]=Ps^~qs&io,t[14]=ds^~Cs&js,t[15]=ps^~ks&Bs,t[24]=Hs^~to&ys,t[25]=Vs^~ro&vs,t[34]=Es^~Ds&Gs,t[35]=xs^~Ls&Qs,t[44]=Xs^~bs&As,t[45]=eo^~gs&Ms,t[6]=zs^~no&nt,t[7]=qs^~io&ls,t[16]=Cs^~js&Fs,t[17]=ks^~Bs&$s,t[26]=to^~ys&ms,t[27]=ro^~vs&_s,t[36]=Ds^~Gs&Ks,t[37]=Ls^~Qs&Ys,t[46]=bs^~As&Is,t[47]=gs^~Ms&Rs,t[8]=no^~nt&ws,t[9]=io^~ls&Ss,t[18]=js^~Fs&Zs,t[19]=Bs^~$s&Js,t[28]=ys^~ms&Ts,t[29]=vs^~_s&Os,t[38]=Gs^~Ks&fs,t[39]=Qs^~Ys&hs,t[48]=As^~Is&Ws,t[49]=Ms^~Rs&Us,t[0]^=lc[e*2],t[1]^=lc[e*2+1]}};const li=Nf;function Br(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Br.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};Br.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(li.p1600(this.state),this.count=0)};Br.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),(t&128)!==0&&this.count===this.blockSize-1&&li.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),li.p1600(this.state),this.count=0,this.squeezing=!0};Br.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(li.p1600(this.state),this.count=0);return e};Br.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var E1=Br,x1=S1(E1);const C1=x1,k1=gi.exports;function Pf(t){return Buffer.allocUnsafe(t).fill(0)}function Df(t,e,r){const n=Pf(e);return t=Di(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function A1(t,e){return Df(t,e,!0)}function Di(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")Lf(t)?t=Buffer.from(R1(jf(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(k1.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function M1(t){return t=Di(t),"0x"+t.toString("hex")}function I1(t,e){return t=Di(t),e||(e=256),C1("keccak"+e).update(t).digest()}function R1(t){return t.length%2?"0"+t:t}function Lf(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function jf(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Bf={zeros:Pf,setLength:Df,setLengthRight:A1,isHexString:Lf,stripHexPrefix:jf,toBuffer:Di,bufferToHex:M1,keccak:I1};const Kt=Bf,Vt=gi.exports;function Ff(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function pr(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function fc(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function $f(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Wt(t){var e=typeof t;if(e==="string")return Kt.isHexString(t)?new Vt(Kt.stripHexPrefix(t),16):new Vt(t,10);if(e==="number")return new Vt(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function ot(t,e){var r,n,i,s;if(t==="address")return ot("uint160",Wt(e));if(t==="bool")return ot("uint8",e?1:0);if(t==="string")return ot("bytes",new Buffer(e,"utf8"));if(O1(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=$f(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(ot(t,e[s]));if(r==="dynamic"){var o=ot("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([ot("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Kt.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=pr(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Kt.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=pr(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Wt(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=pr(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Wt(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=fc(t),n=Wt(e),n<0)throw new Error("Supplied ufixed is negative");return ot("uint256",n.mul(new Vt(2).pow(new Vt(r[1]))))}else if(t.startsWith("fixed"))return r=fc(t),ot("int256",Wt(e).mul(new Vt(2).pow(new Vt(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function T1(t){return t==="string"||t==="bytes"||$f(t)==="dynamic"}function O1(t){return t.lastIndexOf("]")===t.length-1}function N1(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=Ff(t[s]),a=e[s],u=ot(o,a);T1(o)?(r.push(ot("uint256",i)),n.push(u),i+=u.length):r.push(u)}return Buffer.concat(r.concat(n))}function Wf(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=Ff(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Kt.setLength(a,20));else if(o.startsWith("bytes")){if(r=pr(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(Kt.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=pr(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Wt(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=pr(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Wt(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function P1(t,e){return Kt.keccak(Wf(t,e))}var D1={rawEncode:N1,solidityPack:Wf,soliditySHA3:P1};const Xe=Bf,Xr=D1,Uf={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},ko={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,u,c)=>{if(r[u]!==void 0)return["bytes32",c==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Xe.keccak(this.encodeData(u,c,r,n))];if(c===void 0)throw new Error(`missing value for field ${a} of type ${u}`);if(u==="bytes")return["bytes32",Xe.keccak(c)];if(u==="string")return typeof c=="string"&&(c=Buffer.from(c,"utf8")),["bytes32",Xe.keccak(c)];if(u.lastIndexOf("]")===u.length-1){const l=u.slice(0,u.lastIndexOf("[")),g=c.map(f=>o(a,l,f));return["bytes32",Xe.keccak(Xr.rawEncode(g.map(([f])=>f),g.map(([,f])=>f)))]}return[u,c]};for(const a of r[t]){const[u,c]=o(a.name,a.type,e[a.name]);i.push(u),s.push(c)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Xe.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Xe.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Xe.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return Xr.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Xe.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Xe.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in Uf.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Xe.keccak(Buffer.concat(n))}};var L1={TYPED_MESSAGE_SCHEMA:Uf,TypedDataUtils:ko,hashForSignTypedDataLegacy:function(t){return j1(t.data)},hashForSignTypedData_v3:function(t){return ko.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return ko.hash(t.data)}};function j1(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?Xe.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return Xr.soliditySHA3(["bytes32","bytes32"],[Xr.soliditySHA3(new Array(t.length).fill("string"),i),Xr.soliditySHA3(n,r)])}var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.filterFromParam=Cr.FilterPolyfill=void 0;const ar=xn,Le=K,B1=5*60*1e3,Ut={jsonrpc:"2.0",id:0};class F1{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,ar.IntNumber)(1),this.provider=e}async newFilter(e){const r=Hf(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,Le.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,Le.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,Le.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,Le.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,Le.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Bn())}async getFilterLogs(e){const r=(0,Le.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},Ut),{method:"eth_getLogs",params:[hc(n)]})):Bn()}makeFilterId(){return(0,ar.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return Bn();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return Fn();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},Ut),{method:"eth_getLogs",params:[hc(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(c=>(0,Le.intNumberFromHexString)(c.blockNumber||"0x0")),u=Math.max(...a);if(u&&u>n){const c=(0,ar.IntNumber)(u+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${c}`),this.cursors.set(e,c)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return Bn();const n=await this.getCurrentBlockHeight();if(r>n)return Fn();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,Le.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,ar.IntNumber)(o))))).filter(o=>!!o),s=(0,ar.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},Ut),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(Fn())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},B1);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},Ut),{method:"eth_blockNumber",params:[]}));return(0,Le.intNumberFromHexString)((0,Le.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},Ut),{method:"eth_getBlockByNumber",params:[(0,Le.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,Le.ensureHexString)(r.result.hash):null}}Cr.FilterPolyfill=F1;function Hf(t){return{fromBlock:dc(t.fromBlock),toBlock:dc(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}Cr.filterFromParam=Hf;function hc(t){const e={fromBlock:pc(t.fromBlock),toBlock:pc(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function dc(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,ar.IntNumber)(0);if((0,Le.isHexString)(t))return(0,Le.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function pc(t){return t==="latest"?t:(0,Le.hexStringFromIntNumber)(t)}function Bn(){return Object.assign(Object.assign({},Ut),{error:{code:-32e3,message:"filter not found"}})}function Fn(){return Object.assign(Object.assign({},Ut),{result:[]})}var Vf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(Vf);var Li={};const bc=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const u=new Array(arguments.length-1);for(let c=1;c<arguments.length;c++)u[c-1]=arguments[c];o?(u.unshift(o),s(u)):i(u)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let u=0;u<arguments.length;u++)a[u]=arguments[u];i(a)}else i(o)}),t.apply(this,n)})};var $1=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):bc(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?bc(s,e):s}return n},W1=H1,U1=Object.prototype.hasOwnProperty;function H1(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)U1.call(r,n)&&(t[n]=r[n])}return t}var V1=z1;function z1(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const q1=W1,G1=V1();var Q1=J;function J(t){const e=this;e.currentProvider=t}J.prototype.getBalance=An(2,"eth_getBalance");J.prototype.getCode=An(2,"eth_getCode");J.prototype.getTransactionCount=An(2,"eth_getTransactionCount");J.prototype.getStorageAt=An(3,"eth_getStorageAt");J.prototype.call=An(2,"eth_call");J.prototype.protocolVersion=oe("eth_protocolVersion");J.prototype.syncing=oe("eth_syncing");J.prototype.coinbase=oe("eth_coinbase");J.prototype.mining=oe("eth_mining");J.prototype.hashrate=oe("eth_hashrate");J.prototype.gasPrice=oe("eth_gasPrice");J.prototype.accounts=oe("eth_accounts");J.prototype.blockNumber=oe("eth_blockNumber");J.prototype.getBlockTransactionCountByHash=oe("eth_getBlockTransactionCountByHash");J.prototype.getBlockTransactionCountByNumber=oe("eth_getBlockTransactionCountByNumber");J.prototype.getUncleCountByBlockHash=oe("eth_getUncleCountByBlockHash");J.prototype.getUncleCountByBlockNumber=oe("eth_getUncleCountByBlockNumber");J.prototype.sign=oe("eth_sign");J.prototype.sendTransaction=oe("eth_sendTransaction");J.prototype.sendRawTransaction=oe("eth_sendRawTransaction");J.prototype.estimateGas=oe("eth_estimateGas");J.prototype.getBlockByHash=oe("eth_getBlockByHash");J.prototype.getBlockByNumber=oe("eth_getBlockByNumber");J.prototype.getTransactionByHash=oe("eth_getTransactionByHash");J.prototype.getTransactionByBlockHashAndIndex=oe("eth_getTransactionByBlockHashAndIndex");J.prototype.getTransactionByBlockNumberAndIndex=oe("eth_getTransactionByBlockNumberAndIndex");J.prototype.getTransactionReceipt=oe("eth_getTransactionReceipt");J.prototype.getUncleByBlockHashAndIndex=oe("eth_getUncleByBlockHashAndIndex");J.prototype.getUncleByBlockNumberAndIndex=oe("eth_getUncleByBlockNumberAndIndex");J.prototype.getCompilers=oe("eth_getCompilers");J.prototype.compileLLL=oe("eth_compileLLL");J.prototype.compileSolidity=oe("eth_compileSolidity");J.prototype.compileSerpent=oe("eth_compileSerpent");J.prototype.newFilter=oe("eth_newFilter");J.prototype.newBlockFilter=oe("eth_newBlockFilter");J.prototype.newPendingTransactionFilter=oe("eth_newPendingTransactionFilter");J.prototype.uninstallFilter=oe("eth_uninstallFilter");J.prototype.getFilterChanges=oe("eth_getFilterChanges");J.prototype.getFilterLogs=oe("eth_getFilterLogs");J.prototype.getLogs=oe("eth_getLogs");J.prototype.getWork=oe("eth_getWork");J.prototype.submitWork=oe("eth_submitWork");J.prototype.submitHashrate=oe("eth_submitHashrate");J.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(K1(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function oe(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function An(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function K1(t){return q1({id:G1(),jsonrpc:"2.0",params:[]},t)}var zf={},qf={},Y1=Zl,ji=function(){return Y1()&&!!Symbol.toStringTag},Z1=ji(),J1=Ti,la=J1("Object.prototype.toString"),Bi=function(e){return Z1&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:la(e)==="[object Arguments]"},Gf=function(e){return Bi(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&la(e)!=="[object Array]"&&la(e.callee)==="[object Function]"},X1=function(){return Bi(arguments)}();Bi.isLegacyArguments=Gf;var ew=X1?Bi:Gf,tw=Object.prototype.toString,rw=Function.prototype.toString,nw=/^\s*(?:function)?\*/,Qf=ji(),Ao=Object.getPrototypeOf,iw=function(){if(!Qf)return!1;try{return Function("return function*() {}")()}catch{}},Mo,sw=function(e){if(typeof e!="function")return!1;if(nw.test(rw.call(e)))return!0;if(!Qf){var r=tw.call(e);return r==="[object GeneratorFunction]"}if(!Ao)return!1;if(typeof Mo>"u"){var n=iw();Mo=n?Ao(n):!1}return Ao(e)===Mo},Kf=Function.prototype.toString,cr=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,fa,Gn;if(typeof cr=="function"&&typeof Object.defineProperty=="function")try{fa=Object.defineProperty({},"length",{get:function(){throw Gn}}),Gn={},cr(function(){throw 42},null,fa)}catch(t){t!==Gn&&(cr=null)}else cr=null;var ow=/^\s*class\b/,ha=function(e){try{var r=Kf.call(e);return ow.test(r)}catch{return!1}},Io=function(e){try{return ha(e)?!1:(Kf.call(e),!0)}catch{return!1}},Qn=Object.prototype.toString,aw="[object Object]",uw="[object Function]",cw="[object GeneratorFunction]",lw="[object HTMLAllCollection]",fw="[object HTML document.all class]",hw="[object HTMLCollection]",dw=typeof Symbol=="function"&&!!Symbol.toStringTag,pw=!(0 in[,]),da=function(){return!1};if(typeof document=="object"){var bw=document.all;Qn.call(bw)===Qn.call(document.all)&&(da=function(e){if((pw||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=Qn.call(e);return(r===lw||r===fw||r===hw||r===aw)&&e("")==null}catch{}return!1})}var gw=cr?function(e){if(da(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{cr(e,null,fa)}catch(r){if(r!==Gn)return!1}return!ha(e)&&Io(e)}:function(e){if(da(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(dw)return Io(e);if(ha(e))return!1;var r=Qn.call(e);return r!==uw&&r!==cw&&!/^\[object HTML/.test(r)?!1:Io(e)},yw=gw,vw=Object.prototype.toString,Yf=Object.prototype.hasOwnProperty,mw=function(e,r,n){for(var i=0,s=e.length;i<s;i++)Yf.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},_w=function(e,r,n){for(var i=0,s=e.length;i<s;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},ww=function(e,r,n){for(var i in e)Yf.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},Sw=function(e,r,n){if(!yw(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),vw.call(e)==="[object Array]"?mw(e,r,i):typeof e=="string"?_w(e,r,i):ww(e,r,i)},Zf=Sw,Ro=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],Ew=typeof globalThis>"u"?ie:globalThis,Jf=function(){for(var e=[],r=0;r<Ro.length;r++)typeof Ew[Ro[r]]=="function"&&(e[e.length]=Ro[r]);return e},xw=Ri,Kn=xw("%Object.getOwnPropertyDescriptor%",!0);if(Kn)try{Kn([],"length")}catch{Kn=null}var Xf=Kn,eh=Zf,Cw=Jf,Wa=Ti,kw=Wa("Object.prototype.toString"),th=ji(),Yn=Xf,Aw=typeof globalThis>"u"?ie:globalThis,rh=Cw(),Mw=Wa("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},Iw=Wa("String.prototype.slice"),nh={},To=Object.getPrototypeOf;th&&Yn&&To&&eh(rh,function(t){var e=new Aw[t];if(Symbol.toStringTag in e){var r=To(e),n=Yn(r,Symbol.toStringTag);if(!n){var i=To(r);n=Yn(i,Symbol.toStringTag)}nh[t]=n.get}});var Rw=function(e){var r=!1;return eh(nh,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r},ih=function(e){if(!e||typeof e!="object")return!1;if(!th||!(Symbol.toStringTag in e)){var r=Iw(kw(e),8,-1);return Mw(rh,r)>-1}return Yn?Rw(e):!1},sh=Zf,Tw=Jf,oh=Ti,Oo=Xf,Ow=oh("Object.prototype.toString"),ah=ji(),gc=typeof globalThis>"u"?ie:globalThis,Nw=Tw(),Pw=oh("String.prototype.slice"),uh={},No=Object.getPrototypeOf;ah&&Oo&&No&&sh(Nw,function(t){if(typeof gc[t]=="function"){var e=new gc[t];if(Symbol.toStringTag in e){var r=No(e),n=Oo(r,Symbol.toStringTag);if(!n){var i=No(r);n=Oo(i,Symbol.toStringTag)}uh[t]=n.get}}});var Dw=function(e){var r=!1;return sh(uh,function(n,i){if(!r)try{var s=n.call(e);s===i&&(r=s)}catch{}}),r},Lw=ih,jw=function(e){return Lw(e)?!ah||!(Symbol.toStringTag in e)?Pw(Ow(e),8,-1):Dw(e):!1};(function(t){var e=ew,r=sw,n=jw,i=ih;function s(R){return R.call.bind(R)}var o=typeof BigInt<"u",a=typeof Symbol<"u",u=s(Object.prototype.toString),c=s(Number.prototype.valueOf),l=s(String.prototype.valueOf),g=s(Boolean.prototype.valueOf);if(o)var f=s(BigInt.prototype.valueOf);if(a)var p=s(Symbol.prototype.valueOf);function y(R,Bt){if(typeof R!="object")return!1;try{return Bt(R),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function C(R){return typeof Promise<"u"&&R instanceof Promise||R!==null&&typeof R=="object"&&typeof R.then=="function"&&typeof R.catch=="function"}t.isPromise=C;function I(R){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(R):i(R)||k(R)}t.isArrayBufferView=I;function b(R){return n(R)==="Uint8Array"}t.isUint8Array=b;function v(R){return n(R)==="Uint8ClampedArray"}t.isUint8ClampedArray=v;function S(R){return n(R)==="Uint16Array"}t.isUint16Array=S;function T(R){return n(R)==="Uint32Array"}t.isUint32Array=T;function F(R){return n(R)==="Int8Array"}t.isInt8Array=F;function G(R){return n(R)==="Int16Array"}t.isInt16Array=G;function Q(R){return n(R)==="Int32Array"}t.isInt32Array=Q;function U(R){return n(R)==="Float32Array"}t.isFloat32Array=U;function $(R){return n(R)==="Float64Array"}t.isFloat64Array=$;function q(R){return n(R)==="BigInt64Array"}t.isBigInt64Array=q;function te(R){return n(R)==="BigUint64Array"}t.isBigUint64Array=te;function Z(R){return u(R)==="[object Map]"}Z.working=typeof Map<"u"&&Z(new Map);function E(R){return typeof Map>"u"?!1:Z.working?Z(R):R instanceof Map}t.isMap=E;function x(R){return u(R)==="[object Set]"}x.working=typeof Set<"u"&&x(new Set);function M(R){return typeof Set>"u"?!1:x.working?x(R):R instanceof Set}t.isSet=M;function D(R){return u(R)==="[object WeakMap]"}D.working=typeof WeakMap<"u"&&D(new WeakMap);function B(R){return typeof WeakMap>"u"?!1:D.working?D(R):R instanceof WeakMap}t.isWeakMap=B;function L(R){return u(R)==="[object WeakSet]"}L.working=typeof WeakSet<"u"&&L(new WeakSet);function z(R){return L(R)}t.isWeakSet=z;function re(R){return u(R)==="[object ArrayBuffer]"}re.working=typeof ArrayBuffer<"u"&&re(new ArrayBuffer);function ge(R){return typeof ArrayBuffer>"u"?!1:re.working?re(R):R instanceof ArrayBuffer}t.isArrayBuffer=ge;function w(R){return u(R)==="[object DataView]"}w.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&w(new DataView(new ArrayBuffer(1),0,1));function k(R){return typeof DataView>"u"?!1:w.working?w(R):R instanceof DataView}t.isDataView=k;var O=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function H(R){return u(R)==="[object SharedArrayBuffer]"}function m(R){return typeof O>"u"?!1:(typeof H.working>"u"&&(H.working=H(new O)),H.working?H(R):R instanceof O)}t.isSharedArrayBuffer=m;function _(R){return u(R)==="[object AsyncFunction]"}t.isAsyncFunction=_;function A(R){return u(R)==="[object Map Iterator]"}t.isMapIterator=A;function j(R){return u(R)==="[object Set Iterator]"}t.isSetIterator=j;function V(R){return u(R)==="[object Generator]"}t.isGeneratorObject=V;function h(R){return u(R)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=h;function d(R){return y(R,c)}t.isNumberObject=d;function N(R){return y(R,l)}t.isStringObject=N;function W(R){return y(R,g)}t.isBooleanObject=W;function fe(R){return o&&y(R,f)}t.isBigIntObject=fe;function ee(R){return a&&y(R,p)}t.isSymbolObject=ee;function le(R){return d(R)||N(R)||W(R)||fe(R)||ee(R)}t.isBoxedPrimitive=le;function Ze(R){return typeof Uint8Array<"u"&&(ge(R)||m(R))}t.isAnyArrayBuffer=Ze,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(R){Object.defineProperty(t,R,{enumerable:!1,value:function(){throw new Error(R+" is not supported in userland")}})})})(qf);var Bw=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(t){var e=Object.getOwnPropertyDescriptors||function(k){for(var O=Object.keys(k),H={},m=0;m<O.length;m++)H[O[m]]=Object.getOwnPropertyDescriptor(k,O[m]);return H},r=/%[sdj%]/g;t.format=function(w){if(!F(w)){for(var k=[],O=0;O<arguments.length;O++)k.push(o(arguments[O]));return k.join(" ")}for(var O=1,H=arguments,m=H.length,_=String(w).replace(r,function(j){if(j==="%%")return"%";if(O>=m)return j;switch(j){case"%s":return String(H[O++]);case"%d":return Number(H[O++]);case"%j":try{return JSON.stringify(H[O++])}catch{return"[Circular]"}default:return j}}),A=H[O];O<m;A=H[++O])v(A)||!$(A)?_+=" "+A:_+=" "+o(A);return _},t.deprecate=function(w,k){if(typeof process<"u"&&process.noDeprecation===!0)return w;if(typeof process>"u")return function(){return t.deprecate(w,k).apply(this,arguments)};var O=!1;function H(){if(!O){if(process.throwDeprecation)throw new Error(k);process.traceDeprecation?console.trace(k):console.error(k),O=!0}return w.apply(this,arguments)}return H};var n={},i=/^$/;if(process.env.NODE_DEBUG){var s=process.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(w){if(w=w.toUpperCase(),!n[w])if(i.test(w)){var k=process.pid;n[w]=function(){var O=t.format.apply(t,arguments);console.error("%s %d: %s",w,k,O)}}else n[w]=function(){};return n[w]};function o(w,k){var O={seen:[],stylize:u};return arguments.length>=3&&(O.depth=arguments[2]),arguments.length>=4&&(O.colors=arguments[3]),b(k)?O.showHidden=k:k&&t._extend(O,k),Q(O.showHidden)&&(O.showHidden=!1),Q(O.depth)&&(O.depth=2),Q(O.colors)&&(O.colors=!1),Q(O.customInspect)&&(O.customInspect=!0),O.colors&&(O.stylize=a),l(O,w,O.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(w,k){var O=o.styles[k];return O?"\x1B["+o.colors[O][0]+"m"+w+"\x1B["+o.colors[O][1]+"m":w}function u(w,k){return w}function c(w){var k={};return w.forEach(function(O,H){k[O]=!0}),k}function l(w,k,O){if(w.customInspect&&k&&Z(k.inspect)&&k.inspect!==t.inspect&&!(k.constructor&&k.constructor.prototype===k)){var H=k.inspect(O,w);return F(H)||(H=l(w,H,O)),H}var m=g(w,k);if(m)return m;var _=Object.keys(k),A=c(_);if(w.showHidden&&(_=Object.getOwnPropertyNames(k)),te(k)&&(_.indexOf("message")>=0||_.indexOf("description")>=0))return f(k);if(_.length===0){if(Z(k)){var j=k.name?": "+k.name:"";return w.stylize("[Function"+j+"]","special")}if(U(k))return w.stylize(RegExp.prototype.toString.call(k),"regexp");if(q(k))return w.stylize(Date.prototype.toString.call(k),"date");if(te(k))return f(k)}var V="",h=!1,d=["{","}"];if(I(k)&&(h=!0,d=["[","]"]),Z(k)){var N=k.name?": "+k.name:"";V=" [Function"+N+"]"}if(U(k)&&(V=" "+RegExp.prototype.toString.call(k)),q(k)&&(V=" "+Date.prototype.toUTCString.call(k)),te(k)&&(V=" "+f(k)),_.length===0&&(!h||k.length==0))return d[0]+V+d[1];if(O<0)return U(k)?w.stylize(RegExp.prototype.toString.call(k),"regexp"):w.stylize("[Object]","special");w.seen.push(k);var W;return h?W=p(w,k,O,A,_):W=_.map(function(fe){return y(w,k,O,A,fe,h)}),w.seen.pop(),C(W,V,d)}function g(w,k){if(Q(k))return w.stylize("undefined","undefined");if(F(k)){var O="'"+JSON.stringify(k).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return w.stylize(O,"string")}if(T(k))return w.stylize(""+k,"number");if(b(k))return w.stylize(""+k,"boolean");if(v(k))return w.stylize("null","null")}function f(w){return"["+Error.prototype.toString.call(w)+"]"}function p(w,k,O,H,m){for(var _=[],A=0,j=k.length;A<j;++A)L(k,String(A))?_.push(y(w,k,O,H,String(A),!0)):_.push("");return m.forEach(function(V){V.match(/^\d+$/)||_.push(y(w,k,O,H,V,!0))}),_}function y(w,k,O,H,m,_){var A,j,V;if(V=Object.getOwnPropertyDescriptor(k,m)||{value:k[m]},V.get?V.set?j=w.stylize("[Getter/Setter]","special"):j=w.stylize("[Getter]","special"):V.set&&(j=w.stylize("[Setter]","special")),L(H,m)||(A="["+m+"]"),j||(w.seen.indexOf(V.value)<0?(v(O)?j=l(w,V.value,null):j=l(w,V.value,O-1),j.indexOf(`
`)>-1&&(_?j=j.split(`
`).map(function(h){return"  "+h}).join(`
`).slice(2):j=`
`+j.split(`
`).map(function(h){return"   "+h}).join(`
`))):j=w.stylize("[Circular]","special")),Q(A)){if(_&&m.match(/^\d+$/))return j;A=JSON.stringify(""+m),A.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(A=A.slice(1,-1),A=w.stylize(A,"name")):(A=A.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),A=w.stylize(A,"string"))}return A+": "+j}function C(w,k,O){var H=w.reduce(function(m,_){return _.indexOf(`
`)>=0,m+_.replace(/\u001b\[\d\d?m/g,"").length+1},0);return H>60?O[0]+(k===""?"":k+`
 `)+" "+w.join(`,
  `)+" "+O[1]:O[0]+k+" "+w.join(", ")+" "+O[1]}t.types=qf;function I(w){return Array.isArray(w)}t.isArray=I;function b(w){return typeof w=="boolean"}t.isBoolean=b;function v(w){return w===null}t.isNull=v;function S(w){return w==null}t.isNullOrUndefined=S;function T(w){return typeof w=="number"}t.isNumber=T;function F(w){return typeof w=="string"}t.isString=F;function G(w){return typeof w=="symbol"}t.isSymbol=G;function Q(w){return w===void 0}t.isUndefined=Q;function U(w){return $(w)&&x(w)==="[object RegExp]"}t.isRegExp=U,t.types.isRegExp=U;function $(w){return typeof w=="object"&&w!==null}t.isObject=$;function q(w){return $(w)&&x(w)==="[object Date]"}t.isDate=q,t.types.isDate=q;function te(w){return $(w)&&(x(w)==="[object Error]"||w instanceof Error)}t.isError=te,t.types.isNativeError=te;function Z(w){return typeof w=="function"}t.isFunction=Z;function E(w){return w===null||typeof w=="boolean"||typeof w=="number"||typeof w=="string"||typeof w=="symbol"||typeof w>"u"}t.isPrimitive=E,t.isBuffer=Bw;function x(w){return Object.prototype.toString.call(w)}function M(w){return w<10?"0"+w.toString(10):w.toString(10)}var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function B(){var w=new Date,k=[M(w.getHours()),M(w.getMinutes()),M(w.getSeconds())].join(":");return[w.getDate(),D[w.getMonth()],k].join(" ")}t.log=function(){console.log("%s - %s",B(),t.format.apply(t,arguments))},t.inherits=Qe.exports,t._extend=function(w,k){if(!k||!$(k))return w;for(var O=Object.keys(k),H=O.length;H--;)w[O[H]]=k[O[H]];return w};function L(w,k){return Object.prototype.hasOwnProperty.call(w,k)}var z=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(k){if(typeof k!="function")throw new TypeError('The "original" argument must be of type Function');if(z&&k[z]){var O=k[z];if(typeof O!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(O,z,{value:O,enumerable:!1,writable:!1,configurable:!0}),O}function O(){for(var H,m,_=new Promise(function(V,h){H=V,m=h}),A=[],j=0;j<arguments.length;j++)A.push(arguments[j]);A.push(function(V,h){V?m(V):H(h)});try{k.apply(this,A)}catch(V){m(V)}return _}return Object.setPrototypeOf(O,Object.getPrototypeOf(k)),z&&Object.defineProperty(O,z,{value:O,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(O,e(k))},t.promisify.custom=z;function re(w,k){if(!w){var O=new Error("Promise was rejected with a falsy value");O.reason=w,w=O}return k(w)}function ge(w){if(typeof w!="function")throw new TypeError('The "original" argument must be of type Function');function k(){for(var O=[],H=0;H<arguments.length;H++)O.push(arguments[H]);var m=O.pop();if(typeof m!="function")throw new TypeError("The last argument must be of type Function");var _=this,A=function(){return m.apply(_,arguments)};w.apply(this,O).then(function(j){process.nextTick(A.bind(null,null,j))},function(j){process.nextTick(re.bind(null,j,A))})}return Object.setPrototypeOf(k,Object.getPrototypeOf(w)),Object.defineProperties(k,e(w)),k}t.callbackify=ge})(zf);const Fw=zf,ch=yi.exports;var Po=typeof Reflect=="object"?Reflect:null,$w=Po&&typeof Po.apply=="function"?Po.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Ww=Ua;function Ua(){ch.call(this)}Fw.inherits(Ua,ch);Ua.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[t];if(a===void 0)return!1;if(typeof a=="function")yc(a,this,e);else for(var u=a.length,c=Uw(a,u),r=0;r<u;++r)yc(c[r],this,e);return!0};function yc(t,e,r){try{$w(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Uw(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}const Hw=Ww,Vw=1e3,zw=(t,e)=>t+e,vc=["sync","latest"];class qw extends Hw{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||20*Vw,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,r){!vc.includes(e)||this._maybeStart()}_onRemoveListener(e,r){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return vc.map(e=>this.listenerCount(e)).reduce(zw)}_newPotentialLatest(e){const r=this._currentBlock;r&&mc(e)<=mc(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}var Gw=qw;function mc(t){return Number.parseInt(t,16)}const Qw=$1,Kw=Gw,Yw=1e3;class Zw extends Kw{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const r=e.pollingInterval||20*Yw,n=e.retryTimeout||r/10,i=e.keepEventLoopActive!==void 0?e.keepEventLoopActive:!0,s=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:r},e)),this._provider=e.provider,this._pollingInterval=r,this._retryTimeout=n,this._keepEventLoopActive=i,this._setSkipCacheFlag=s}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await _c(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",r)}catch{console.error(r)}await _c(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const r=await Qw(n=>this._provider.sendAsync(e,n))();if(r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error}`);return r.result}}var Jw=Zw;function _c(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Ha={exports:{}},Xw=function(e){return(r,n,i,s)=>{const o=e[r.method];return o===void 0?i():typeof o=="function"?o(r,n,i,s):(n.result=o,s())}};(function(t){t.exports=Xw})(Ha);var Va={},Fi={},Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.getUniqueId=void 0;const lh=4294967295;let Do=Math.floor(Math.random()*lh);function eS(){return Do=(Do+1)%lh,Do}Mn.getUniqueId=eS;Object.defineProperty(Fi,"__esModule",{value:!0});Fi.createIdRemapMiddleware=void 0;const tS=Mn;function rS(){return(t,e,r,n)=>{const i=t.id,s=tS.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}Fi.createIdRemapMiddleware=rS;var $i={};Object.defineProperty($i,"__esModule",{value:!0});$i.createAsyncMiddleware=void 0;function nS(t){return async(e,r,n,i)=>{let s;const o=new Promise(l=>{s=l});let a=null,u=!1;const c=async()=>{u=!0,n(l=>{a=l,s()}),await o};try{await t(e,r,c),u?(await o,a(null)):i(null)}catch(l){a?a(l):i(l)}}}$i.createAsyncMiddleware=nS;var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.createScaffoldMiddleware=void 0;function iS(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}Wi.createScaffoldMiddleware=iS;var In={},fh={},Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.EthereumProviderError=Dt.EthereumRpcError=void 0;const sS=Kc;class hh extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return sS.default(this.serialize(),uS,2)}}Dt.EthereumRpcError=hh;class oS extends hh{constructor(e,r,n){if(!aS(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Dt.EthereumProviderError=oS;function aS(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function uS(t,e){if(e!=="[Circular]")return e}var za={},Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.errorValues=Lt.errorCodes=void 0;Lt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Lt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Lt,r=Dt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(f,p=i){if(Number.isInteger(f)){const y=f.toString();if(g(e.errorValues,y))return e.errorValues[y].message;if(c(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return p}t.getMessageFromCode=o;function a(f){if(!Number.isInteger(f))return!1;const p=f.toString();return!!(e.errorValues[p]||c(f))}t.isValidCode=a;function u(f,{fallbackError:p=s,shouldIncludeStack:y=!1}={}){var C,I;if(!p||!Number.isInteger(p.code)||typeof p.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof r.EthereumRpcError)return f.serialize();const b={};if(f&&typeof f=="object"&&!Array.isArray(f)&&g(f,"code")&&a(f.code)){const S=f;b.code=S.code,S.message&&typeof S.message=="string"?(b.message=S.message,g(S,"data")&&(b.data=S.data)):(b.message=o(b.code),b.data={originalError:l(f)})}else{b.code=p.code;const S=(C=f)===null||C===void 0?void 0:C.message;b.message=S&&typeof S=="string"?S:p.message,b.data={originalError:l(f)}}const v=(I=f)===null||I===void 0?void 0:I.stack;return y&&f&&v&&typeof v=="string"&&(b.stack=v),b}t.serializeError=u;function c(f){return f>=-32099&&f<=-32e3}function l(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function g(f,p){return Object.prototype.hasOwnProperty.call(f,p)}})(za);var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.ethErrors=void 0;const qa=Dt,dh=za,Te=Lt;Ui.ethErrors={rpc:{parse:t=>He(Te.errorCodes.rpc.parse,t),invalidRequest:t=>He(Te.errorCodes.rpc.invalidRequest,t),invalidParams:t=>He(Te.errorCodes.rpc.invalidParams,t),methodNotFound:t=>He(Te.errorCodes.rpc.methodNotFound,t),internal:t=>He(Te.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return He(e,t)},invalidInput:t=>He(Te.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>He(Te.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>He(Te.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>He(Te.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>He(Te.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>He(Te.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Vr(Te.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Vr(Te.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Vr(Te.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Vr(Te.errorCodes.provider.disconnected,t),chainDisconnected:t=>Vr(Te.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new qa.EthereumProviderError(e,r,n)}}};function He(t,e){const[r,n]=ph(e);return new qa.EthereumRpcError(t,r||dh.getMessageFromCode(t),n)}function Vr(t,e){const[r,n]=ph(e);return new qa.EthereumProviderError(t,r||dh.getMessageFromCode(t),n)}function ph(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Dt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=za;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Ui;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Lt;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(fh);var cS=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(In,"__esModule",{value:!0});In.JsonRpcEngine=void 0;const lS=cS(Ir),Ve=fh;class dt extends lS.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await dt._runAllMiddleware(e,r,this._middleware);return o?(await dt._runReturnHandlers(a),i(s)):n(async u=>{try{await dt._runReturnHandlers(a)}catch(c){return u(c)}return u()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new Ve.EthereumRpcError(Ve.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new Ve.EthereumRpcError(Ve.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=Ve.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await dt._runAllMiddleware(e,r,this._middleware);if(dt._checkForCompletion(e,r,i),await dt._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await dt._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=u=>{const c=u||r.error;c&&(r.error=Ve.serializeError(c)),s([c,!0])},a=u=>{r.error?o(r.error):(u&&(typeof u!="function"&&o(new Ve.EthereumRpcError(Ve.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof u}" for request:
${Lo(e)}`,{request:e})),i.push(u)),s([null,!1]))};try{n(e,r,a,o)}catch(u){o(u)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new Ve.EthereumRpcError(Ve.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Lo(e)}`,{request:e});if(!n)throw new Ve.EthereumRpcError(Ve.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Lo(e)}`,{request:e})}}In.JsonRpcEngine=dt;function Lo(t){return JSON.stringify(t,null,2)}var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.mergeMiddleware=void 0;const fS=In;function hS(t){const e=new fS.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}Hi.mergeMiddleware=hS;(function(t){var e=ie&&ie.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=ie&&ie.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Fi,t),r($i,t),r(Wi,t),r(Mn,t),r(In,t),r(Hi,t)})(Va);var bh={},Ga={},Vi={exports:{}};(function(t){var e,r,n,i,s,o,a,u,c,l,g,f,p,y,C,I,b,v,S,T,F,G,Q,U,$;(function(q){var te=typeof ie=="object"?ie:typeof self=="object"?self:typeof this=="object"?this:{};q(Z(te,Z(t.exports)));function Z(E,x){return E!==te&&(typeof Object.create=="function"?Object.defineProperty(E,"__esModule",{value:!0}):E.__esModule=!0),function(M,D){return E[M]=x?x(M,D):D}}})(function(q){var te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,x){E.__proto__=x}||function(E,x){for(var M in x)Object.prototype.hasOwnProperty.call(x,M)&&(E[M]=x[M])};e=function(E,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");te(E,x);function M(){this.constructor=E}E.prototype=x===null?Object.create(x):(M.prototype=x.prototype,new M)},r=Object.assign||function(E){for(var x,M=1,D=arguments.length;M<D;M++){x=arguments[M];for(var B in x)Object.prototype.hasOwnProperty.call(x,B)&&(E[B]=x[B])}return E},n=function(E,x){var M={};for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&x.indexOf(D)<0&&(M[D]=E[D]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var B=0,D=Object.getOwnPropertySymbols(E);B<D.length;B++)x.indexOf(D[B])<0&&Object.prototype.propertyIsEnumerable.call(E,D[B])&&(M[D[B]]=E[D[B]]);return M},i=function(E,x,M,D){var B=arguments.length,L=B<3?x:D===null?D=Object.getOwnPropertyDescriptor(x,M):D,z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(E,x,M,D);else for(var re=E.length-1;re>=0;re--)(z=E[re])&&(L=(B<3?z(L):B>3?z(x,M,L):z(x,M))||L);return B>3&&L&&Object.defineProperty(x,M,L),L},s=function(E,x){return function(M,D){x(M,D,E)}},o=function(E,x){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(E,x)},a=function(E,x,M,D){function B(L){return L instanceof M?L:new M(function(z){z(L)})}return new(M||(M=Promise))(function(L,z){function re(k){try{w(D.next(k))}catch(O){z(O)}}function ge(k){try{w(D.throw(k))}catch(O){z(O)}}function w(k){k.done?L(k.value):B(k.value).then(re,ge)}w((D=D.apply(E,x||[])).next())})},u=function(E,x){var M={label:0,sent:function(){if(L[0]&1)throw L[1];return L[1]},trys:[],ops:[]},D,B,L,z;return z={next:re(0),throw:re(1),return:re(2)},typeof Symbol=="function"&&(z[Symbol.iterator]=function(){return this}),z;function re(w){return function(k){return ge([w,k])}}function ge(w){if(D)throw new TypeError("Generator is already executing.");for(;z&&(z=0,w[0]&&(M=0)),M;)try{if(D=1,B&&(L=w[0]&2?B.return:w[0]?B.throw||((L=B.return)&&L.call(B),0):B.next)&&!(L=L.call(B,w[1])).done)return L;switch(B=0,L&&(w=[w[0]&2,L.value]),w[0]){case 0:case 1:L=w;break;case 4:return M.label++,{value:w[1],done:!1};case 5:M.label++,B=w[1],w=[0];continue;case 7:w=M.ops.pop(),M.trys.pop();continue;default:if(L=M.trys,!(L=L.length>0&&L[L.length-1])&&(w[0]===6||w[0]===2)){M=0;continue}if(w[0]===3&&(!L||w[1]>L[0]&&w[1]<L[3])){M.label=w[1];break}if(w[0]===6&&M.label<L[1]){M.label=L[1],L=w;break}if(L&&M.label<L[2]){M.label=L[2],M.ops.push(w);break}L[2]&&M.ops.pop(),M.trys.pop();continue}w=x.call(E,M)}catch(k){w=[6,k],B=0}finally{D=L=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},c=function(E,x){for(var M in E)M!=="default"&&!Object.prototype.hasOwnProperty.call(x,M)&&$(x,E,M)},$=Object.create?function(E,x,M,D){D===void 0&&(D=M);var B=Object.getOwnPropertyDescriptor(x,M);(!B||("get"in B?!x.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return x[M]}}),Object.defineProperty(E,D,B)}:function(E,x,M,D){D===void 0&&(D=M),E[D]=x[M]},l=function(E){var x=typeof Symbol=="function"&&Symbol.iterator,M=x&&E[x],D=0;if(M)return M.call(E);if(E&&typeof E.length=="number")return{next:function(){return E&&D>=E.length&&(E=void 0),{value:E&&E[D++],done:!E}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")},g=function(E,x){var M=typeof Symbol=="function"&&E[Symbol.iterator];if(!M)return E;var D=M.call(E),B,L=[],z;try{for(;(x===void 0||x-- >0)&&!(B=D.next()).done;)L.push(B.value)}catch(re){z={error:re}}finally{try{B&&!B.done&&(M=D.return)&&M.call(D)}finally{if(z)throw z.error}}return L},f=function(){for(var E=[],x=0;x<arguments.length;x++)E=E.concat(g(arguments[x]));return E},p=function(){for(var E=0,x=0,M=arguments.length;x<M;x++)E+=arguments[x].length;for(var D=Array(E),B=0,x=0;x<M;x++)for(var L=arguments[x],z=0,re=L.length;z<re;z++,B++)D[B]=L[z];return D},y=function(E,x,M){if(M||arguments.length===2)for(var D=0,B=x.length,L;D<B;D++)(L||!(D in x))&&(L||(L=Array.prototype.slice.call(x,0,D)),L[D]=x[D]);return E.concat(L||Array.prototype.slice.call(x))},C=function(E){return this instanceof C?(this.v=E,this):new C(E)},I=function(E,x,M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D=M.apply(E,x||[]),B,L=[];return B={},z("next"),z("throw"),z("return"),B[Symbol.asyncIterator]=function(){return this},B;function z(H){D[H]&&(B[H]=function(m){return new Promise(function(_,A){L.push([H,m,_,A])>1||re(H,m)})})}function re(H,m){try{ge(D[H](m))}catch(_){O(L[0][3],_)}}function ge(H){H.value instanceof C?Promise.resolve(H.value.v).then(w,k):O(L[0][2],H)}function w(H){re("next",H)}function k(H){re("throw",H)}function O(H,m){H(m),L.shift(),L.length&&re(L[0][0],L[0][1])}},b=function(E){var x,M;return x={},D("next"),D("throw",function(B){throw B}),D("return"),x[Symbol.iterator]=function(){return this},x;function D(B,L){x[B]=E[B]?function(z){return(M=!M)?{value:C(E[B](z)),done:B==="return"}:L?L(z):z}:L}},v=function(E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var x=E[Symbol.asyncIterator],M;return x?x.call(E):(E=typeof l=="function"?l(E):E[Symbol.iterator](),M={},D("next"),D("throw"),D("return"),M[Symbol.asyncIterator]=function(){return this},M);function D(L){M[L]=E[L]&&function(z){return new Promise(function(re,ge){z=E[L](z),B(re,ge,z.done,z.value)})}}function B(L,z,re,ge){Promise.resolve(ge).then(function(w){L({value:w,done:re})},z)}},S=function(E,x){return Object.defineProperty?Object.defineProperty(E,"raw",{value:x}):E.raw=x,E};var Z=Object.create?function(E,x){Object.defineProperty(E,"default",{enumerable:!0,value:x})}:function(E,x){E.default=x};T=function(E){if(E&&E.__esModule)return E;var x={};if(E!=null)for(var M in E)M!=="default"&&Object.prototype.hasOwnProperty.call(E,M)&&$(x,E,M);return Z(x,E),x},F=function(E){return E&&E.__esModule?E:{default:E}},G=function(E,x,M,D){if(M==="a"&&!D)throw new TypeError("Private accessor was defined without a getter");if(typeof x=="function"?E!==x||!D:!x.has(E))throw new TypeError("Cannot read private member from an object whose class did not declare it");return M==="m"?D:M==="a"?D.call(E):D?D.value:x.get(E)},Q=function(E,x,M,D,B){if(D==="m")throw new TypeError("Private method is not writable");if(D==="a"&&!B)throw new TypeError("Private accessor was defined without a setter");if(typeof x=="function"?E!==x||!B:!x.has(E))throw new TypeError("Cannot write private member to an object whose class did not declare it");return D==="a"?B.call(E,M):B?B.value=M:x.set(E,M),M},U=function(E,x){if(x===null||typeof x!="object"&&typeof x!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof E=="function"?x===E:E.has(x)},q("__extends",e),q("__assign",r),q("__rest",n),q("__decorate",i),q("__param",s),q("__metadata",o),q("__awaiter",a),q("__generator",u),q("__exportStar",c),q("__createBinding",$),q("__values",l),q("__read",g),q("__spread",f),q("__spreadArrays",p),q("__spreadArray",y),q("__await",C),q("__asyncGenerator",I),q("__asyncDelegator",b),q("__asyncValues",v),q("__makeTemplateObject",S),q("__importStar",T),q("__importDefault",F),q("__classPrivateFieldGet",G),q("__classPrivateFieldSet",Q),q("__classPrivateFieldIn",U)})})(Vi);var zi={};Object.defineProperty(zi,"__esModule",{value:!0});var wc=Vi.exports,dS=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return wc.__awaiter(this,void 0,void 0,function(){var r,n,i;return wc.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(!!r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();zi.default=dS;Object.defineProperty(Ga,"__esModule",{value:!0});var Sc=Vi.exports,pS=zi,bS=function(){function t(){this._semaphore=new pS.default(1)}return t.prototype.acquire=function(){return Sc.__awaiter(this,void 0,void 0,function(){var e,r;return Sc.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Ga.default=bS;var qi={};Object.defineProperty(qi,"__esModule",{value:!0});qi.withTimeout=void 0;var $n=Vi.exports;function gS(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return $n.__awaiter(n,void 0,void 0,function(){var o,a,u;return $n.__generator(this,function(c){switch(c.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=c.sent(),o?(u=Array.isArray(a)?a[1]:a,u()):i(a),[2]}})})})},runExclusive:function(i){return $n.__awaiter(this,void 0,void 0,function(){var s,o;return $n.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}qi.withTimeout=gS;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Ga;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=zi;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=qi;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(bh);const Ec=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...c)=>{e.errorFirst?c[0]?a(c):(c.shift(),o(c)):o(c)}):e.errorFirst?i.push((c,l)=>{c?a(c):o(l)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},xc=new WeakMap;var yS=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let u=xc.get(o);if(u||(u={},xc.set(o,u)),a in u)return u[a];const c=y=>typeof y=="string"||typeof a=="symbol"?a===y:y.test(a),l=Reflect.getOwnPropertyDescriptor(o,a),g=l===void 0||l.writable||l.configurable,p=(e.include?e.include.some(c):!e.exclude.some(c))&&g;return u[a]=p,p},i=new WeakMap,s=new Proxy(t,{apply(o,a,u){const c=i.get(o);if(c)return Reflect.apply(c,a,u);const l=e.excludeMain?o:Ec(o,e,s,o);return i.set(o,l),Reflect.apply(l,a,u)},get(o,a){const u=o[a];if(!n(o,a)||u===Function.prototype[a])return u;const c=i.get(u);if(c)return c;if(typeof u=="function"){const l=Ec(u,e,s,o);return i.set(u,l),l}return u}});return s};const vS=Ir.default;class mS extends vS{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}var Qa=mS;const _S=Qa;class wS extends _S{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}var SS=wS,Rn={minBlockRef:ES,maxBlockRef:xS,sortBlockRefs:Ka,bnToHex:CS,blockRefIsNumber:kS,hexToInt:fi,incrementHexInt:AS,intToHex:gh,unsafeRandomBytes:MS};function ES(...t){return Ka(t)[0]}function xS(...t){const e=Ka(t);return e[e.length-1]}function Ka(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:fi(e)-fi(r))}function CS(t){return"0x"+t.toString(16)}function kS(t){return t&&!["earliest","latest","pending"].includes(t)}function fi(t){return t==null?t:Number.parseInt(t,16)}function AS(t){if(t==null)return t;const e=fi(t);return gh(e+1)}function gh(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function MS(t){let e="0x";for(let r=0;r<t;r++)e+=Cc(),e+=Cc();return e}function Cc(){return Math.floor(Math.random()*16).toString(16)}const IS=Q1,RS=yS,TS=SS,{bnToHex:M3,hexToInt:Wn,incrementHexInt:OS,minBlockRef:NS,blockRefIsNumber:PS}=Rn;class DS extends TS{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new IS(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=NS(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=OS(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(u=>this.matchLog(u));this.addResults(a)}async _fetchLogs(e){return await RS(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(Wn(this.params.fromBlock)>=Wn(e.blockNumber)||PS(this.params.toBlock)&&Wn(this.params.toBlock)<=Wn(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(l=>l.toLowerCase()),a.includes(o))})}}var LS=DS,Ya=jS;async function jS({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=kc(e),s=kc(r)-n+1,o=Array(s).fill().map((u,c)=>n+c).map(BS);return await Promise.all(o.map(u=>FS(t,"eth_getBlockByNumber",[u,!1])))}function kc(t){return t==null?t:Number.parseInt(t,16)}function BS(t){return t==null?t:"0x"+t.toString(16)}function FS(t,e,r){return new Promise((n,i)=>{t.sendAsync({id:1,jsonrpc:"2.0",method:e,params:r},(s,o)=>{if(s)return i(s);n(o.result)})})}const $S=Qa,WS=Ya,{incrementHexInt:US}=Rn;class HS extends $S{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=US(e),o=(await WS({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}}var VS=HS;const zS=Qa,qS=Ya,{incrementHexInt:GS}=Rn;class QS extends zS{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=GS(e),i=await qS({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}}var KS=QS;const YS=bh.Mutex,{createAsyncMiddleware:ZS}=Va,JS=Ha.exports,XS=LS,e2=VS,t2=KS,{intToHex:yh,hexToInt:jo}=Rn;var r2=n2;function n2({blockTracker:t,provider:e}){let r=0,n={};const i=new YS,s=i2({mutex:i}),o=JS({eth_newFilter:s(Bo(u)),eth_newBlockFilter:s(Bo(c)),eth_newPendingTransactionFilter:s(Bo(l)),eth_uninstallFilter:s(Zn(p)),eth_getFilterChanges:s(Zn(g)),eth_getFilterLogs:s(Zn(f))}),a=async({oldBlock:v,newBlock:S})=>{if(n.length===0)return;const T=await i.acquire();try{await Promise.all(ir(n).map(async F=>{try{await F.update({oldBlock:v,newBlock:S})}catch(G){console.error(G)}}))}catch(F){console.error(F)}T()};return o.newLogFilter=u,o.newBlockFilter=c,o.newPendingTransactionFilter=l,o.uninstallFilter=p,o.getFilterChanges=g,o.getFilterLogs=f,o.destroy=()=>{I()},o;async function u(v){const S=new XS({provider:e,params:v});return await y(S),S}async function c(){const v=new e2({provider:e});return await y(v),v}async function l(){const v=new t2({provider:e});return await y(v),v}async function g(v){const S=jo(v),T=n[S];if(!T)throw new Error(`No filter for index "${S}"`);return T.getChangesAndClear()}async function f(v){const S=jo(v),T=n[S];if(!T)throw new Error(`No filter for index "${S}"`);return T.type==="log"?results=T.getAllResults():results=[],results}async function p(v){const S=jo(v),T=n[S],F=Boolean(T);return F&&await C(S),F}async function y(v){const S=ir(n).length,T=await t.getLatestBlock();await v.initialize({currentBlock:T}),r++,n[r]=v,v.id=r,v.idHex=yh(r);const F=ir(n).length;return b({prevFilterCount:S,newFilterCount:F}),r}async function C(v){const S=ir(n).length;delete n[v];const T=ir(n).length;b({prevFilterCount:S,newFilterCount:T})}async function I(){const v=ir(n).length;n={},b({prevFilterCount:v,newFilterCount:0})}function b({prevFilterCount:v,newFilterCount:S}){if(v===0&&S>0){t.on("sync",a);return}if(v>0&&S===0){t.removeListener("sync",a);return}}}function Bo(t){return Zn(async(...e)=>{const r=await t(...e);return yh(r.id)})}function Zn(t){return ZS(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function i2({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function ir(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const s2=Ir.default,o2=Ha.exports,{createAsyncMiddleware:Ac}=Va,a2=r2,{unsafeRandomBytes:u2,incrementHexInt:c2}=Rn,l2=Ya;var f2=h2;function h2({blockTracker:t,provider:e}){const r={},n=a2({blockTracker:t,provider:e});let i=!1;const s=new s2,o=o2({eth_subscribe:Ac(a),eth_unsubscribe:Ac(u)});return o.destroy=l,{events:s,middleware:o};async function a(g,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const p=g.params[0],y=u2(16);let C;switch(p){case"newHeads":C=I({subId:y});break;case"logs":const v=g.params[1],S=await n.newLogFilter(v);C=b({subId:y,filter:S});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${p}"`)}r[y]=C,f.result=y;return;function I({subId:v}){const S={type:p,destroy:async()=>{t.removeListener("sync",S.update)},update:async({oldBlock:T,newBlock:F})=>{const G=F,Q=c2(T);(await l2({provider:e,fromBlock:Q,toBlock:G})).map(d2).forEach(q=>{c(v,q)})}};return t.on("sync",S.update),S}function b({subId:v,filter:S}){return S.on("update",F=>c(v,F)),{type:p,destroy:async()=>await n.uninstallFilter(S.idHex)}}}async function u(g,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const p=g.params[0],y=r[p];if(!y){f.result=!1;return}delete r[p],await y.destroy(),f.result=!0}function c(g,f){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:g,result:f}})}function l(){s.removeAllListeners();for(const g in r)r[g].destroy(),delete r[g];i=!0}}function d2(t){return{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(Li,"__esModule",{value:!0});Li.SubscriptionManager=void 0;const p2=Jw,b2=f2,Mc=()=>{};class g2{constructor(e){const r=new p2({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=b2({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,Mc,Mc),r}destroy(){this.subscriptionMiddleware.destroy()}}Li.SubscriptionManager=g2;var Za=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gr,"__esModule",{value:!0});gr.CoinbaseWalletProvider=void 0;const y2=Za(Ir),v2=Za(gi.exports),Oe=wi,Fo=Rr,Ic=Tr,Rc=tt,ne=K,$o=Za(L1),m2=Cr,he=Vf,_2=Li,Tc="DefaultChainId",Oc="DefaultJsonRpcUrl",w2=[1,10,137,61,56,250,42161,100,43114,3,4,5,42,69,80001,97,4002,421611,43113];class S2 extends y2.default{constructor(e){var r,n;super(),this._filterPolyfill=new m2.FilterPolyfill(this),this._subscriptionManager=new _2.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,ne.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(Rc.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(u=>(0,ne.ensureAddressString)(u)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var u;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const c=a.data.data.chainId,l=(u=a.data.data.jsonRpcUrl)!==null&&u!==void 0?u:this.jsonRpcUrl;this.updateProviderInfo(l,Number(c))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,ne.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Oc))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Oc,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this._jsonRpcUrlFromOpts,this._chainIdFromOpts)}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(Tc,r.toString(10)),((0,ne.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,u;if((0,ne.ensureIntNumber)(e)===this.getChainId())return!1;const c=await this.initializeRelay(),l=c.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!l&&await c.requestEthereumAccounts().promise;const g=await c.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=g.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((u=g.result)===null||u===void 0?void 0:u.isApproved)===!0}async switchEthereumChain(e){w2.includes(e)&&this.updateProviderInfo(this.jsonRpcUrl,e);const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw Oe.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Fo.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Ic.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(he.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Oe.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw Oe.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Oe.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,ne.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,r){const i=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,ne.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(Rc.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case he.JSONRPCMethod.eth_accounts:return this._eth_accounts();case he.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case he.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case he.JSONRPCMethod.net_version:return this._net_version();case he.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case he.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case he.JSONRPCMethod.eth_sign:return this._eth_sign(n);case he.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case he.JSONRPCMethod.personal_sign:return this._personal_sign(n);case he.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case he.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case he.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case he.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case he.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case he.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case he.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case he.JSONRPCMethod.eth_signTypedData_v4:case he.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case he.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case he.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case he.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case he.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case he.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case he.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case he.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case he.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case he.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case he.JSONRPCMethod.eth_subscribe:case he.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,ne.ensureAddressString)(e);return this._addresses.map(i=>(0,ne.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Fo.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,ne.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,ne.ensureAddressString)(e.to):null,i=e.value!=null?(0,ne.ensureBN)(e.value):new v2.default(0),s=e.data?(0,ne.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,ne.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,ne.ensureBN)(e.gasPrice):null,u=e.maxFeePerGas!=null?(0,ne.ensureBN)(e.maxFeePerGas):null,c=e.maxPriorityFeePerGas!=null?(0,ne.ensureBN)(e.maxPriorityFeePerGas):null,l=e.gas!=null?(0,ne.ensureBN)(e.gas):null,g=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:u,maxPriorityFeePerGas:c,gasLimit:l,chainId:g}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw Oe.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw Oe.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?Oe.ethErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,ne.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Tc);if(!e)return(0,ne.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,ne.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Fo.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Ic.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Oe.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,ne.ensureAddressString)(e[0]),n=(0,ne.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,ne.ensureBuffer)(e[0]),n=(0,ne.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,ne.ensureBuffer)(e[0]),n=(0,ne.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,ne.ensureBuffer)(e[0]),n=(0,ne.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Oe.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,ne.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Oe.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,ne.ensureParsedJSONObject)(e[0]),n=(0,ne.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=$o.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,ne.ensureAddressString)(e[0]),n=(0,ne.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=$o.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,ne.ensureAddressString)(e[0]),n=(0,ne.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=$o.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw Oe.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!o.nativeCurrency)throw Oe.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw Oe.ethErrors.rpc.invalidParams({message:"Type is required"});if((r==null?void 0:r.type)!=="ERC20")throw Oe.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' is not supported`});if(!(r!=null&&r.options))throw Oe.ethErrors.rpc.invalidParams({message:"Options are required"});if(!(r!=null&&r.options.address))throw Oe.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,ne.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,ne.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,ne.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}gr.CoinbaseWalletProvider=S2;var Gi={},Qi={},Tn,X,vh,mh,en,Nc,_h,hi={},wh=[],E2=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function bt(t,e){for(var r in e)t[r]=e[r];return t}function Sh(t){var e=t.parentNode;e&&e.removeChild(t)}function pa(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Tn.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return tn(t,o,n,i,null)}function tn(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++vh:i};return i==null&&X.vnode!=null&&X.vnode(s),s}function x2(){return{current:null}}function On(t){return t.children}function rn(t,e){this.props=t,this.context=e}function fn(t,e){if(e==null)return t.__?fn(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?fn(t):null}function Eh(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Eh(t)}}function ba(t){(!t.__d&&(t.__d=!0)&&en.push(t)&&!di.__r++||Nc!==X.debounceRendering)&&((Nc=X.debounceRendering)||setTimeout)(di)}function di(){for(var t;di.__r=en.length;)t=en.sort(function(e,r){return e.__v.__b-r.__v.__b}),en=[],t.some(function(e){var r,n,i,s,o,a;e.__d&&(o=(s=(r=e).__v).__e,(a=r.__P)&&(n=[],(i=bt({},s)).__v=s.__v+1,Ja(a,s,i,r.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,n,o==null?fn(s):o,s.__h),Mh(n,s),s.__e!=o&&Eh(s)))})}function xh(t,e,r,n,i,s,o,a,u,c){var l,g,f,p,y,C,I,b=n&&n.__k||wh,v=b.length;for(r.__k=[],l=0;l<e.length;l++)if((p=r.__k[l]=(p=e[l])==null||typeof p=="boolean"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?tn(null,p,null,null,p):Array.isArray(p)?tn(On,{children:p},null,null,null):p.__b>0?tn(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=r,p.__b=r.__b+1,(f=b[l])===null||f&&p.key==f.key&&p.type===f.type)b[l]=void 0;else for(g=0;g<v;g++){if((f=b[g])&&p.key==f.key&&p.type===f.type){b[g]=void 0;break}f=null}Ja(t,p,f=f||hi,i,s,o,a,u,c),y=p.__e,(g=p.ref)&&f.ref!=g&&(I||(I=[]),f.ref&&I.push(f.ref,null,p),I.push(g,p.__c||y,p)),y!=null?(C==null&&(C=y),typeof p.type=="function"&&p.__k===f.__k?p.__d=u=Ch(p,u,t):u=Ah(t,p,f,b,y,u),typeof r.type=="function"&&(r.__d=u)):u&&f.__e==u&&u.parentNode!=t&&(u=fn(f))}for(r.__e=C,l=v;l--;)b[l]!=null&&Rh(b[l],b[l]);if(I)for(l=0;l<I.length;l++)Ih(I[l],I[++l],I[++l])}function Ch(t,e,r){for(var n,i=t.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=t,e=typeof n.type=="function"?Ch(n,e,r):Ah(r,n,n,i,n.__e,e));return e}function kh(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){kh(r,e)}):e.push(t)),e}function Ah(t,e,r,n,i,s){var o,a,u;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,u=0;(a=a.nextSibling)&&u<n.length;u+=2)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function C2(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||pi(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||pi(t,s,e[s],r[s],n)}function Pc(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||E2.test(e)?r:r+"px"}function pi(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Pc(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Pc(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n||t.addEventListener(e,s?Lc:Dc,s):t.removeEventListener(e,s?Lc:Dc,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r==null?"":r;break e}catch{}typeof r=="function"||(r==null||r===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,r))}}function Dc(t){this.l[t.type+!1](X.event?X.event(t):t)}function Lc(t){this.l[t.type+!0](X.event?X.event(t):t)}function Ja(t,e,r,n,i,s,o,a,u){var c,l,g,f,p,y,C,I,b,v,S,T,F,G,Q,U=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(u=r.__h,a=e.__e=r.__e,e.__h=null,s=[a]),(c=X.__b)&&c(e);try{e:if(typeof U=="function"){if(I=e.props,b=(c=U.contextType)&&n[c.__c],v=c?b?b.props.value:c.__:n,r.__c?C=(l=e.__c=r.__c).__=l.__E:("prototype"in U&&U.prototype.render?e.__c=l=new U(I,v):(e.__c=l=new rn(I,v),l.constructor=U,l.render=A2),b&&b.sub(l),l.props=I,l.state||(l.state={}),l.context=v,l.__n=n,g=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),U.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=bt({},l.__s)),bt(l.__s,U.getDerivedStateFromProps(I,l.__s))),f=l.props,p=l.state,g)U.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(U.getDerivedStateFromProps==null&&I!==f&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(I,v),!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(I,l.__s,v)===!1||e.__v===r.__v){for(l.props=I,l.state=l.__s,e.__v!==r.__v&&(l.__d=!1),l.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function($){$&&($.__=e)}),S=0;S<l._sb.length;S++)l.__h.push(l._sb[S]);l._sb=[],l.__h.length&&o.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(I,l.__s,v),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(f,p,y)})}if(l.context=v,l.props=I,l.__v=e,l.__P=t,T=X.__r,F=0,"prototype"in U&&U.prototype.render){for(l.state=l.__s,l.__d=!1,T&&T(e),c=l.render(l.props,l.state,l.context),G=0;G<l._sb.length;G++)l.__h.push(l._sb[G]);l._sb=[]}else do l.__d=!1,T&&T(e),c=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++F<25);l.state=l.__s,l.getChildContext!=null&&(n=bt(bt({},n),l.getChildContext())),g||l.getSnapshotBeforeUpdate==null||(y=l.getSnapshotBeforeUpdate(f,p)),Q=c!=null&&c.type===On&&c.key==null?c.props.children:c,xh(t,Array.isArray(Q)?Q:[Q],e,r,n,i,s,o,a,u),l.base=e.__e,e.__h=null,l.__h.length&&o.push(l),C&&(l.__E=l.__=null),l.__e=!1}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=k2(r.__e,e,r,n,i,s,o,u);(c=X.diffed)&&c(e)}catch($){e.__v=null,(u||s!=null)&&(e.__e=a,e.__h=!!u,s[s.indexOf(a)]=null),X.__e($,e,r)}}function Mh(t,e){X.__c&&X.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){X.__e(n,r.__v)}})}function k2(t,e,r,n,i,s,o,a){var u,c,l,g=r.props,f=e.props,p=e.type,y=0;if(p==="svg"&&(i=!0),s!=null){for(;y<s.length;y++)if((u=s[y])&&"setAttribute"in u==!!p&&(p?u.localName===p:u.nodeType===3)){t=u,s[y]=null;break}}if(t==null){if(p===null)return document.createTextNode(f);t=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,f.is&&f),s=null,a=!1}if(p===null)g===f||a&&t.data===f||(t.data=f);else{if(s=s&&Tn.call(t.childNodes),c=(g=r.props||hi).dangerouslySetInnerHTML,l=f.dangerouslySetInnerHTML,!a){if(s!=null)for(g={},y=0;y<t.attributes.length;y++)g[t.attributes[y].name]=t.attributes[y].value;(l||c)&&(l&&(c&&l.__html==c.__html||l.__html===t.innerHTML)||(t.innerHTML=l&&l.__html||""))}if(C2(t,f,g,i,a),l)e.__k=[];else if(y=e.props.children,xh(t,Array.isArray(y)?y:[y],e,r,n,i&&p!=="foreignObject",s,o,s?s[0]:r.__k&&fn(r,0),a),s!=null)for(y=s.length;y--;)s[y]!=null&&Sh(s[y]);a||("value"in f&&(y=f.value)!==void 0&&(y!==t.value||p==="progress"&&!y||p==="option"&&y!==g.value)&&pi(t,"value",y,g.value,!1),"checked"in f&&(y=f.checked)!==void 0&&y!==t.checked&&pi(t,"checked",y,g.checked,!1))}return t}function Ih(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){X.__e(n,r)}}function Rh(t,e,r){var n,i;if(X.unmount&&X.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Ih(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){X.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Rh(n[i],e,r||typeof t.type!="function");r||t.__e==null||Sh(t.__e),t.__=t.__e=t.__d=void 0}function A2(t,e,r){return this.constructor(t,r)}function Th(t,e,r){var n,i,s;X.__&&X.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],Ja(e,t=(!n&&r||e).__k=pa(On,null,[t]),i||hi,hi,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Tn.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n),Mh(s,t)}function Oh(t,e){Th(t,e,Oh)}function M2(t,e,r){var n,i,s,o=bt({},t.props);for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];return arguments.length>2&&(o.children=arguments.length>3?Tn.call(arguments,2):r),tn(t.type,o,n||t.key,i||t.ref,null)}function I2(t,e){var r={__c:e="__cC"+_h++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(ba)},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Tn=wh.slice,X={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},vh=0,mh=function(t){return t!=null&&t.constructor===void 0},rn.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=bt({},this.state),typeof t=="function"&&(t=t(bt({},r),this.props)),t&&bt(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),ba(this))},rn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ba(this))},rn.prototype.render=On,en=[],di.__r=0,_h=0;const R2=Object.freeze(Object.defineProperty({__proto__:null,Component:rn,Fragment:On,cloneElement:M2,createContext:I2,createElement:pa,createRef:x2,h:pa,hydrate:Oh,get isValidElement(){return mh},get options(){return X},render:Th,toChildArray:kh},Symbol.toStringTag,{value:"Module"})),Nn=dn(R2);var Ki={};function Nh(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Nh(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function jc(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=Nh(t))&&(n&&(n+=" "),n+=e);return n}const T2=Object.freeze(Object.defineProperty({__proto__:null,clsx:jc,default:jc},Symbol.toStringTag,{value:"Module"})),Ph=dn(T2);var mt,de,Wo,Bc,kr=0,Dh=[],Jn=[],Fc=X.__b,$c=X.__r,Wc=X.diffed,Uc=X.__c,Hc=X.unmount;function Xt(t,e){X.__h&&X.__h(de,t,kr||e),kr=0;var r=de.__H||(de.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:Jn}),r.__[t]}function Lh(t){return kr=1,jh(Fh,t)}function jh(t,e,r){var n=Xt(mt++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):Fh(void 0,e),function(s){var o=n.__N?n.__N[0]:n.__[0],a=n.t(o,s);o!==a&&(n.__N=[a,n.__[1]],n.__c.setState({}))}],n.__c=de,!de.u)){de.u=!0;var i=de.shouldComponentUpdate;de.shouldComponentUpdate=function(s,o,a){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(l){return l.__c});if(u.every(function(l){return!l.__N}))return!i||i.call(this,s,o,a);var c=!1;return u.forEach(function(l){if(l.__N){var g=l.__[0];l.__=l.__N,l.__N=void 0,g!==l.__[0]&&(c=!0)}}),!(!c&&n.__c.props===s)&&(!i||i.call(this,s,o,a))}}return n.__N||n.__}function O2(t,e){var r=Xt(mt++,3);!X.__s&&eu(r.__H,e)&&(r.__=t,r.i=e,de.__H.__h.push(r))}function Bh(t,e){var r=Xt(mt++,4);!X.__s&&eu(r.__H,e)&&(r.__=t,r.i=e,de.__h.push(r))}function N2(t){return kr=5,Xa(function(){return{current:t}},[])}function P2(t,e,r){kr=6,Bh(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function Xa(t,e){var r=Xt(mt++,7);return eu(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function D2(t,e){return kr=8,Xa(function(){return t},e)}function L2(t){var e=de.context[t.__c],r=Xt(mt++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(de)),e.props.value):t.__}function j2(t,e){X.useDebugValue&&X.useDebugValue(e?e(t):t)}function B2(t){var e=Xt(mt++,10),r=Lh();return e.__=t,de.componentDidCatch||(de.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function F2(){var t=Xt(mt++,11);return t.__||(t.__="P"+function(e){for(var r=0,n=e.length;n>0;)r=(r<<5)-r+e.charCodeAt(--n)|0;return r}(de.__v.__m)+mt),t.__}function $2(){for(var t;t=Dh.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Xn),t.__H.__h.forEach(ga),t.__H.__h=[]}catch(e){t.__H.__h=[],X.__e(e,t.__v)}}X.__b=function(t){typeof t.type!="function"||t.__m||t.__===null?t.__m||(t.__m=t.__&&t.__.__m?t.__.__m:""):t.__m=(t.__&&t.__.__m?t.__.__m:"")+(t.__&&t.__.__k?t.__.__k.indexOf(t):0),de=null,Fc&&Fc(t)},X.__r=function(t){$c&&$c(t),mt=0;var e=(de=t.__c).__H;e&&(Wo===de?(e.__h=[],de.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Jn,r.__N=r.i=void 0})):(e.__h.forEach(Xn),e.__h.forEach(ga),e.__h=[])),Wo=de},X.diffed=function(t){Wc&&Wc(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Dh.push(e)!==1&&Bc===X.requestAnimationFrame||((Bc=X.requestAnimationFrame)||W2)($2)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Jn&&(r.__=r.__V),r.i=void 0,r.__V=Jn})),Wo=de=null},X.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Xn),r.__h=r.__h.filter(function(n){return!n.__||ga(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],X.__e(n,r.__v)}}),Uc&&Uc(t,e)},X.unmount=function(t){Hc&&Hc(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Xn(n)}catch(i){e=i}}),r.__H=void 0,e&&X.__e(e,r.__v))};var Vc=typeof requestAnimationFrame=="function";function W2(t){var e,r=function(){clearTimeout(n),Vc&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);Vc&&(e=requestAnimationFrame(r))}function Xn(t){var e=de,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),de=e}function ga(t){var e=de;t.__c=t.__(),de=e}function eu(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Fh(t,e){return typeof e=="function"?e(t):e}const U2=Object.freeze(Object.defineProperty({__proto__:null,useCallback:D2,useContext:L2,useDebugValue:j2,useEffect:O2,useErrorBoundary:B2,useId:F2,useImperativeHandle:P2,useLayoutEffect:Bh,useMemo:Xa,useReducer:jh,useRef:N2,useState:Lh},Symbol.toStringTag,{value:"Module"})),tu=dn(U2);var Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.LIB_VERSION=void 0;Yi.LIB_VERSION="3.5.4";var ru={};Object.defineProperty(ru,"__esModule",{value:!0});ru.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var nu={};Object.defineProperty(nu,"__esModule",{value:!0});nu.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var iu={};Object.defineProperty(iu,"__esModule",{value:!0});iu.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+";var su={};Object.defineProperty(su,"__esModule",{value:!0});su.default=`<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="50" cy="50" r="50" fill="white"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
</svg>

`;var Zi={};function $h(t){this.mode=$e.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}$h.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function ct(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}ct.prototype={addData:function(t){var e=new $h(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=ct.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=ye.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var u=a*i,c=this.modules[s][a];c&&(n.beginFill(0,100),n.moveTo(u,o),n.lineTo(u+i,o),n.lineTo(u+i,o+i),n.lineTo(u,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=ye.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=ye.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=ye.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var u=!1;s<t.length&&(u=(t[s]>>>i&1)==1);var c=ye.getMask(e,n,o-a);c&&(u=!u),this.modules[n][o-a]=u,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};ct.PAD0=236;ct.PAD1=17;ct.createData=function(t,e,r){for(var n=ut.getRSBlocks(t,e),i=new Wh,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),ye.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(ct.PAD0,8),i.getLengthInBits()>=a*8));)i.put(ct.PAD1,8);return ct.createBytes(i,n)};ct.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var u=e[a].dataCount,c=e[a].totalCount-u;n=Math.max(n,u),i=Math.max(i,c),s[a]=new Array(u);for(var l=0;l<s[a].length;l++)s[a][l]=255&t.buffer[l+r];r+=u;var g=ye.getErrorCorrectPolynomial(c),f=new br(s[a],g.getLength()-1),p=f.mod(g);o[a]=new Array(g.getLength()-1);for(var l=0;l<o[a].length;l++){var y=l+p.getLength()-o[a].length;o[a][l]=y>=0?p.get(y):0}}for(var C=0,l=0;l<e.length;l++)C+=e[l].totalCount;for(var I=new Array(C),b=0,l=0;l<n;l++)for(var a=0;a<e.length;a++)l<s[a].length&&(I[b++]=s[a][l]);for(var l=0;l<i;l++)for(var a=0;a<e.length;a++)l<o[a].length&&(I[b++]=o[a][l]);return I};var $e={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},It={L:1,M:0,Q:3,H:2},St={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},ye={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;ye.getBCHDigit(e)-ye.getBCHDigit(ye.G15)>=0;)e^=ye.G15<<ye.getBCHDigit(e)-ye.getBCHDigit(ye.G15);return(t<<10|e)^ye.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;ye.getBCHDigit(e)-ye.getBCHDigit(ye.G18)>=0;)e^=ye.G18<<ye.getBCHDigit(e)-ye.getBCHDigit(ye.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return ye.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case St.PATTERN000:return(e+r)%2==0;case St.PATTERN001:return e%2==0;case St.PATTERN010:return r%3==0;case St.PATTERN011:return(e+r)%3==0;case St.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case St.PATTERN101:return e*r%2+e*r%3==0;case St.PATTERN110:return(e*r%2+e*r%3)%2==0;case St.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new br([1],0),r=0;r<t;r++)e=e.multiply(new br([1,Ce.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case $e.MODE_NUMBER:return 10;case $e.MODE_ALPHA_NUM:return 9;case $e.MODE_8BIT_BYTE:return 8;case $e.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case $e.MODE_NUMBER:return 12;case $e.MODE_ALPHA_NUM:return 11;case $e.MODE_8BIT_BYTE:return 16;case $e.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case $e.MODE_NUMBER:return 14;case $e.MODE_ALPHA_NUM:return 13;case $e.MODE_8BIT_BYTE:return 16;case $e.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var u=-1;u<=1;u++)i+u<0||e<=i+u||a==0&&u==0||o==t.isDark(n+a,i+u)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var c=0;t.isDark(n,i)&&c++,t.isDark(n+1,i)&&c++,t.isDark(n,i+1)&&c++,t.isDark(n+1,i+1)&&c++,(c==0||c==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var l=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&l++;var g=Math.abs(100*l/e/e-50)/5;return r+=g*10,r}},Ce={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Ce.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Ce.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Ie=0;Ie<8;Ie++)Ce.EXP_TABLE[Ie]=1<<Ie;for(var Ie=8;Ie<256;Ie++)Ce.EXP_TABLE[Ie]=Ce.EXP_TABLE[Ie-4]^Ce.EXP_TABLE[Ie-5]^Ce.EXP_TABLE[Ie-6]^Ce.EXP_TABLE[Ie-8];for(var Ie=0;Ie<255;Ie++)Ce.LOG_TABLE[Ce.EXP_TABLE[Ie]]=Ie;function br(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}br.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Ce.gexp(Ce.glog(this.get(r))+Ce.glog(t.get(n)));return new br(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Ce.glog(this.get(0))-Ce.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Ce.gexp(Ce.glog(t.get(n))+e);return new br(r,0).mod(t)}};function ut(t,e){this.totalCount=t,this.dataCount=e}ut.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];ut.getRSBlocks=function(t,e){var r=ut.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],u=r[s*3+2],c=0;c<o;c++)i.push(new ut(a,u));return i};ut.getRsBlockTable=function(t,e){switch(e){case It.L:return ut.RS_BLOCK_TABLE[(t-1)*4+0];case It.M:return ut.RS_BLOCK_TABLE[(t-1)*4+1];case It.Q:return ut.RS_BLOCK_TABLE[(t-1)*4+2];case It.H:return ut.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function Wh(){this.buffer=[],this.length=0}Wh.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Uo=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function Uh(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(u){switch(u){case"L":return It.L;case"M":return It.M;case"Q":return It.Q;case"H":return It.H;default:throw new Error("Unknwon error correction level: "+u)}}function n(u,c){for(var l=i(u),g=1,f=0,p=0,y=Uo.length;p<=y;p++){var C=Uo[p];if(!C)throw new Error("Content too long: expected "+f+" but got "+l);switch(c){case"L":f=C[0];break;case"M":f=C[1];break;case"Q":f=C[2];break;case"H":f=C[3];break;default:throw new Error("Unknwon error correction level: "+c)}if(l<=f)break;g++}if(g>Uo.length)throw new Error("Content too long");return g}function i(u){var c=encodeURI(u).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return c.length+(c.length!=u?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new ct(o,a),this.qrcode.addData(s),this.qrcode.make()}Uh.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,u=r.length,c=o/(u+2*e.padding),l=a/(u+2*e.padding),g=typeof e.join<"u"?!!e.join:!1,f=typeof e.swap<"u"?!!e.swap:!1,p=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,y=typeof e.predefined<"u"?!!e.predefined:!1,C=y?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+c+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",I=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,b="",v="",S=0;S<u;S++)for(var T=0;T<u;T++){var F=r[T][S];if(F){var G=T*c+e.padding*c,Q=S*l+e.padding*l;if(f){var U=G;G=Q,Q=U}if(g){var $=c+G,q=l+Q;G=Number.isInteger(G)?Number(G):G.toFixed(2),Q=Number.isInteger(Q)?Number(Q):Q.toFixed(2),$=Number.isInteger($)?Number($):$.toFixed(2),q=Number.isInteger(q)?Number(q):q.toFixed(2),v+="M"+G+","+Q+" V"+q+" H"+$+" V"+Q+" H"+G+" Z "}else y?b+=i+'<use x="'+G.toString()+'" y="'+Q.toString()+'" href="#qrmodule" />'+s:b+=i+'<rect x="'+G.toString()+'" y="'+Q.toString()+'" width="'+c+'" height="'+l+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}g&&(b=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+v+'" />');let te="";if(this.options.image!==void 0&&this.options.image.svg){const E=o*this.options.image.width/100,x=a*this.options.image.height/100,M=o/2-E/2,D=a/2-x/2;te+=`<svg x="${M}" y="${D}" width="${E}" height="${x}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,te+=this.options.image.svg+s,te+="</svg>"}var Z="";switch(t.container){case"svg":p&&(Z+='<?xml version="1.0" standalone="yes"?>'+s),Z+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,Z+=C+I+b,Z+=te,Z+="</svg>";break;case"svg-viewbox":p&&(Z+='<?xml version="1.0" standalone="yes"?>'+s),Z+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,Z+=C+I+b,Z+=te,Z+="</svg>";break;case"g":Z+='<g width="'+o+'" height="'+a+'">'+s,Z+=C+I+b,Z+=te,Z+="</g>";break;default:Z+=(C+I+b+te).replace(/^\s+/,"");break}return Z};var H2=Uh,V2=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.QRCode=void 0;const z2=Nn,zc=tu,q2=V2(H2),G2=t=>{const[e,r]=(0,zc.useState)("");return(0,zc.useEffect)(()=>{var n,i;const s=new q2.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,z2.h)("img",{src:e,alt:"QR Code"}):null};Zi.QRCode=G2;var Ji={},ou={};Object.defineProperty(ou,"__esModule",{value:!0});ou.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var Q2=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.Spinner=void 0;const Un=Nn,K2=Q2(ou),Y2=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Un.h)("div",{class:"-cbwsdk-spinner"},(0,Un.h)("style",null,K2.default),(0,Un.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Un.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Ji.Spinner=Y2;var au={};Object.defineProperty(au,"__esModule",{value:!0});au.default='.-cbwsdk-css-reset .-cbwsdk-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top{display:flex;flex-direction:row;border-radius:8px;overflow:hidden;min-height:300px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top.dark{color:#fff;background-color:#000;box-shadow:0 4px 16px rgba(255,255,255,.05)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top.light{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-subtext{margin-top:15px;font-size:12px;line-height:1.5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button.dark{background-color:#3773f5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region.light{background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region.dark{background-color:#141519}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;align-self:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text.light{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;margin-top:8px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom.light{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom.dark{background-color:#000;box-shadow:0 4px 16px rgba(255,255,255,.05)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description.dark a{color:#3773f5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1);background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper img{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.light>p{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.dark{background-color:rgba(20,21,25,.9)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel.light{background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel.dark{background-color:#141519}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.light::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.light::after{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.dark::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.dark::after{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;transition:background-color .2s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-a,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-b{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container-hidden{display:none}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2.light{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2.dark{color:#fff}';var Fr=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.TryExtensionLinkDialog=void 0;const rt=Fr(Ph),ae=Nn,nn=tu,Z2=K,J2=Yi,X2=Fr(ru),eE=Fr(nu),tE=Fr(iu),rE=Fr(su),nE=Zi,iE=Ji,sE=Fr(au),oE=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,nn.useState)(!e),[s,o]=(0,nn.useState)(!e);(0,nn.useEffect)(()=>{const u=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):u.push(window.setTimeout(()=>{i(!0)},360)),()=>{u.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,ae.h)("div",{class:(0,rt.default)("-cbwsdk-extension-dialog-container",n&&"-cbwsdk-extension-dialog-container-hidden")},(0,ae.h)("style",null,sE.default),(0,ae.h)("div",{class:(0,rt.default)("-cbwsdk-extension-dialog-backdrop",a,s&&"-cbwsdk-extension-dialog-backdrop-hidden")}),(0,ae.h)("div",{class:"-cbwsdk-extension-dialog"},(0,ae.h)("div",{class:(0,rt.default)("-cbwsdk-extension-dialog-box",s&&"-cbwsdk-extension-dialog-box-hidden")},(0,ae.h)(aE,{darkMode:r,onInstallClick:()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")}}),t.connectDisabled?null:(0,ae.h)(uE,{darkMode:r,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId}),t.onCancel&&(0,ae.h)(cE,{darkMode:r,onClick:t.onCancel}))))};Ki.TryExtensionLinkDialog=oE;const aE=({darkMode:t,onInstallClick:e})=>{const[r,n]=(0,nn.useState)(!1),i=(0,nn.useCallback)(()=>{r?window.location.reload():(e(),n(!0))},[e,r]),s=t?"dark":"light";return(0,ae.h)("div",{class:(0,rt.default)("-cbwsdk-extension-dialog-box-top",s)},(0,ae.h)("div",{class:"-cbwsdk-extension-dialog-box-top-install-region"},(0,ae.h)("h2",{class:s},"Try the Coinbase Wallet extension"),r&&(0,ae.h)("div",{class:"-cbwsdk-extension-dialog-box-top-subtext"},"After installing Coinbase Wallet, refresh the page and connect again."),(0,ae.h)("button",{type:"button",onClick:i},r?"Refresh":"Install")),(0,ae.h)("div",{class:(0,rt.default)("-cbwsdk-extension-dialog-box-top-info-region",s)},(0,ae.h)(Ho,{darkMode:t,icon:eE.default,text:"Connect to crypto apps with one click"}),(0,ae.h)(Ho,{darkMode:t,icon:tE.default,text:"Your private key is stored securely"}),(0,ae.h)(Ho,{darkMode:t,icon:X2.default,text:"Works with Ethereum, Polygon, and more"})))},uE=t=>{const e=(0,Z2.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),r=t.darkMode?"dark":"light";return(0,ae.h)("div",{"data-testid":"scan-qr-box",class:(0,rt.default)("-cbwsdk-extension-dialog-box-bottom",r)},(0,ae.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-description-region"},(0,ae.h)("h2",{class:r},"Or scan to connect"),(0,ae.h)("body",{class:(0,rt.default)("-cbwsdk-extension-dialog-box-bottom-description",r)},"Open"," ",(0,ae.h)("a",{href:"https://wallet.coinbase.com/",target:"_blank",rel:"noopener noreferrer"},"Coinbase Wallet")," ","on your mobile phone and scan")),(0,ae.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-region"},(0,ae.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-wrapper"},(0,ae.h)(nE.QRCode,{content:e,width:150,height:150,fgColor:"#000",bgColor:"transparent",image:{svg:rE.default,width:34,height:34}})),(0,ae.h)("input",{type:"hidden",name:"cbwsdk-version",value:J2.LIB_VERSION}),(0,ae.h)("input",{type:"hidden",value:e}),!t.isConnected&&(0,ae.h)("div",{"data-testid":"connecting-spinner",class:(0,rt.default)("-cbwsdk-extension-dialog-box-bottom-qr-connecting",r)},(0,ae.h)(iE.Spinner,{size:36,color:t.darkMode?"#FFF":"#000"}),(0,ae.h)("p",null,"Connecting..."))))},Ho=t=>{const e=t.darkMode?"dark":"light";return(0,ae.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description"},(0,ae.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description-icon-wrapper"},(0,ae.h)("img",{src:t.icon})),(0,ae.h)("body",{class:(0,rt.default)("-cbwsdk-extension-dialog-box-top-description-text",e)},t.text))},cE=t=>{const e=t.darkMode?"dark":"light";return(0,ae.h)("button",{type:"button",class:(0,rt.default)("-cbwsdk-extension-dialog-box-cancel",e),onClick:t.onClick},(0,ae.h)("div",{class:(0,rt.default)("-cbwsdk-extension-dialog-box-cancel-x",e)}))};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.LinkFlow=void 0;const Vo=Nn,qc=Dr,lE=Ki;class fE{constructor(e){this.extensionUI$=new qc.BehaviorSubject({}),this.subscriptions=new qc.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;!this.root||(this.subscriptions.unsubscribe(),(0,Vo.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{!this.root||(0,Vo.render)((0,Vo.h)(lE.TryExtensionLinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Qi.LinkFlow=fE;var Hh={},uu={};Object.defineProperty(uu,"__esModule",{value:!0});uu.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=ie&&ie.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(Ph),n=Nn,i=tu,s=e(uu),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class u{constructor(f){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=f.darkMode}attach(f){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",f.appendChild(this.root),this.render()}presentItem(f){const p=this.nextItemKey++;return this.items.set(p,f),this.render(),()=>{this.items.delete(p),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([f,p])=>(0,n.h)(t.SnackbarInstance,Object.assign({},p,{key:f}))))),this.root)}}t.Snackbar=u;const c=g=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},g.children));t.SnackbarContainer=c;const l=({autoExpand:g,message:f,menuItems:p})=>{const[y,C]=(0,i.useState)(!0),[I,b]=(0,i.useState)(g!=null?g:!1);(0,i.useEffect)(()=>{const S=[window.setTimeout(()=>{C(!1)},1),window.setTimeout(()=>{b(!0)},1e4)];return()=>{S.forEach(window.clearTimeout)}});const v=()=>{b(!I)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",y&&"-cbwsdk-snackbar-instance-hidden",I&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:v},(0,n.h)("img",{src:o,class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},f),(0,n.h)("div",{class:"-gear-container"},!I&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:a,class:"-gear-icon",title:"Expand"}))),p&&p.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},p.map((S,T)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",S.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:S.onClick,key:T},(0,n.h)("svg",{width:S.svgWidth,height:S.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":S.defaultFillRule,"clip-rule":S.defaultClipRule,d:S.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",S.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},S.info)))))};t.SnackbarInstance=l})(Hh);var Xi={},cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var hE=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.injectCssReset=void 0;const dE=hE(cu);function pE(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(dE.default)),document.documentElement.appendChild(t)}Xi.injectCssReset=pE;Object.defineProperty(Gi,"__esModule",{value:!0});Gi.WalletSDKUI=void 0;const bE=Qi,gE=Hh,yE=Xi;class vE{constructor(e){this.standalone=null,this.attached=!1,this.snackbar=new gE.Snackbar({darkMode:e.darkMode}),this.linkFlow=new bE.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,yE.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Gi.WalletSDKUI=vE;var es={},ts={};Object.defineProperty(ts,"__esModule",{value:!0});var lr;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(lr||(lr={}));function Vh(t,e,r){if(!r||typeof r.value!==lr.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:lr.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:lr.boolTrue,writable:lr.boolTrue}),n}}}ts.bind=Vh;ts.default=Vh;var rs={},qe={};Object.defineProperty(qe,"__esModule",{value:!0});qe.ClientMessagePublishEvent=qe.ClientMessageSetSessionConfig=qe.ClientMessageGetSessionConfig=qe.ClientMessageIsLinked=qe.ClientMessageHostSession=void 0;function mE(t){return Object.assign({type:"HostSession"},t)}qe.ClientMessageHostSession=mE;function _E(t){return Object.assign({type:"IsLinked"},t)}qe.ClientMessageIsLinked=_E;function wE(t){return Object.assign({type:"GetSessionConfig"},t)}qe.ClientMessageGetSessionConfig=wE;function SE(t){return Object.assign({type:"SetSessionConfig"},t)}qe.ClientMessageSetSessionConfig=SE;function EE(t){return Object.assign({type:"PublishEvent"},t)}qe.ClientMessagePublishEvent=EE;var zh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Dr,r=ki;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(u){o.error(u);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=u=>{this.clearWebSocket(),o.error(new Error(`websocket error ${u.code}: ${u.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=u=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=u=>{this.incomingDataSubject.next(u.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(!!o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;!o||(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(zh);var ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.isServerMessageFail=void 0;function xE(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}ns.isServerMessageFail=xE;Object.defineProperty(rs,"__esModule",{value:!0});rs.WalletSDKConnection=void 0;const Je=Dr,ue=ki,zr=Tr,sr=xn,qr=qe,Gr=Rr,Hn=zh,zo=ns,Gc=1e4,CE=6e4;class kE{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Je.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,sr.IntNumber)(1),this.connectedSubject=new Je.BehaviorSubject(!1),this.linkedSubject=new Je.BehaviorSubject(!1),this.sessionConfigSubject=new Je.ReplaySubject(1);const o=new Hn.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,ue.tap)(a=>{var u;return(u=this.diagnostic)===null||u===void 0?void 0:u.log(Gr.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:zr.Session.hash(e)})}),(0,ue.skip)(1),(0,ue.filter)(a=>a===Hn.ConnectionState.DISCONNECTED&&!this.destroyed),(0,ue.delay)(5e3),(0,ue.filter)(a=>!this.destroyed),(0,ue.flatMap)(a=>o.connect()),(0,ue.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,ue.skip)(2),(0,ue.switchMap)(a=>(0,Je.iif)(()=>a===Hn.ConnectionState.CONNECTED,this.authenticate().pipe((0,ue.tap)(u=>this.sendIsLinked()),(0,ue.tap)(u=>this.sendGetSessionConfig()),(0,ue.map)(u=>!0)),(0,Je.of)(!1))),(0,ue.distinctUntilChanged)(),(0,ue.catchError)(a=>(0,Je.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,ue.skip)(1),(0,ue.switchMap)(a=>(0,Je.iif)(()=>a===Hn.ConnectionState.CONNECTED,(0,Je.timer)(0,Gc)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,ue.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,ue.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var u;const c=a;(u=this.diagnostic)===null||u===void 0||u.log(Gr.EVENTS.LINKED,{sessionIdHash:zr.Session.hash(e),linked:c.linked,type:a.type,onlineGuests:c.onlineGuests}),this.linkedSubject.next(c.linked||c.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,ue.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var u;const c=a;(u=this.diagnostic)===null||u===void 0||u.log(Gr.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:zr.Session.hash(e),metadata_keys:c&&c.metadata?Object.keys(c.metadata):void 0}),this.sessionConfigSubject.next({webhookId:c.webhookId,webhookUrl:c.webhookUrl,metadata:c.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Gr.EVENTS.STARTED_CONNECTING,{sessionIdHash:zr.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Gr.EVENTS.DISCONNECTED,{sessionIdHash:zr.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,ue.filter)(e=>e),(0,ue.take)(1),(0,ue.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,ue.filter)(e=>e),(0,ue.take)(1),(0,ue.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,ue.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,ue.map)(e=>e))}setSessionMetadata(e,r){const n=(0,qr.ClientMessageSetSessionConfig)({id:(0,sr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,ue.flatMap)(i=>this.makeRequest(n)),(0,ue.map)(i=>{if((0,zo.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,qr.ClientMessagePublishEvent)({id:(0,sr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,ue.flatMap)(s=>this.makeRequest(i)),(0,ue.map)(s=>{if((0,zo.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Gc*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=CE){const n=e.id;try{this.sendData(e)}catch(i){return(0,Je.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,ue.timeoutWith)(r,(0,Je.throwError)(new Error(`request ${n} timed out`))),(0,ue.filter)(i=>i.id===n),(0,ue.take)(1))}authenticate(){const e=(0,qr.ClientMessageHostSession)({id:(0,sr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,ue.map)(r=>{if((0,zo.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,qr.ClientMessageIsLinked)({id:(0,sr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,qr.ClientMessageGetSessionConfig)({id:(0,sr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}rs.WalletSDKConnection=kE;var is={};Object.defineProperty(is,"__esModule",{value:!0});is.WalletUIError=void 0;class hn extends Error{constructor(e,r){super(e),this.message=e,this.errorCode=r}}is.WalletUIError=hn;hn.UserRejectedRequest=new hn("User rejected request");hn.SwitchEthereumChainUnsupportedChainId=new hn("Unsupported chainId",4902);var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.decrypt=Ar.encrypt=void 0;const AE=Dr,bi=K;async function ME(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,bi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),u=s.slice(0,s.byteLength-o),c=new Uint8Array(a),l=new Uint8Array(u),g=new Uint8Array([...r,...c,...l]);return(0,bi.uint8ArrayToHex)(g)}Ar.encrypt=ME;function IE(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new AE.Observable(r=>{(async function(){const n=await crypto.subtle.importKey("raw",(0,bi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=(0,bi.hexStringToUint8Array)(t),s=i.slice(0,12),o=i.slice(12,28),a=i.slice(28),u=new Uint8Array([...a,...o]),c={name:"AES-GCM",iv:new Uint8Array(s)};try{const l=await window.crypto.subtle.decrypt(c,n,u),g=new TextDecoder;r.next(g.decode(l)),r.complete()}catch(l){r.error(l)}})()})}Ar.decrypt=IE;var lu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(lu);var ss={},os={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(os);Object.defineProperty(ss,"__esModule",{value:!0});ss.Web3RequestCanceledMessage=void 0;const RE=os;function TE(t){return{type:RE.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}ss.Web3RequestCanceledMessage=TE;var as={};Object.defineProperty(as,"__esModule",{value:!0});as.Web3RequestMessage=void 0;const OE=os;function NE(t){return Object.assign({type:OE.RelayMessageType.WEB3_REQUEST},t)}as.Web3RequestMessage=NE;var be={};Object.defineProperty(be,"__esModule",{value:!0});be.EthereumAddressFromSignedMessageResponse=be.SubmitEthereumTransactionResponse=be.SignEthereumTransactionResponse=be.SignEthereumMessageResponse=be.isRequestEthereumAccountsResponse=be.SelectProviderResponse=be.WatchAssetReponse=be.RequestEthereumAccountsResponse=be.SwitchEthereumChainResponse=be.AddEthereumChainResponse=be.ErrorResponse=void 0;const ft=lu;function PE(t,e,r){return{method:t,errorMessage:e,errorCode:r}}be.ErrorResponse=PE;function DE(t){return{method:ft.Web3Method.addEthereumChain,result:t}}be.AddEthereumChainResponse=DE;function LE(t){return{method:ft.Web3Method.switchEthereumChain,result:t}}be.SwitchEthereumChainResponse=LE;function jE(t){return{method:ft.Web3Method.requestEthereumAccounts,result:t}}be.RequestEthereumAccountsResponse=jE;function BE(t){return{method:ft.Web3Method.watchAsset,result:t}}be.WatchAssetReponse=BE;function FE(t){return{method:ft.Web3Method.selectProvider,result:t}}be.SelectProviderResponse=FE;function $E(t){return t&&t.method===ft.Web3Method.requestEthereumAccounts}be.isRequestEthereumAccountsResponse=$E;function WE(t){return{method:ft.Web3Method.signEthereumMessage,result:t}}be.SignEthereumMessageResponse=WE;function UE(t){return{method:ft.Web3Method.signEthereumTransaction,result:t}}be.SignEthereumTransactionResponse=UE;function HE(t){return{method:ft.Web3Method.submitEthereumTransaction,result:t}}be.SubmitEthereumTransactionResponse=HE;function VE(t){return{method:ft.Web3Method.ethereumAddressFromSignedMessage,result:t}}be.EthereumAddressFromSignedMessageResponse=VE;var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.isWeb3ResponseMessage=Mr.Web3ResponseMessage=void 0;const qh=os;function zE(t){return Object.assign({type:qh.RelayMessageType.WEB3_RESPONSE},t)}Mr.Web3ResponseMessage=zE;function qE(t){return t&&t.type===qh.RelayMessageType.WEB3_RESPONSE}Mr.isWeb3ResponseMessage=qE;var GE=ie&&ie.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),QE=ie&&ie.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Gh=ie&&ie.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},KE=ie&&ie.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&GE(e,t,r);return QE(e,t),e},YE=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(es,"__esModule",{value:!0});es.WalletSDKRelay=void 0;const Qh=YE(ts),Qc=wi,Qr=Dr,Ae=ki,Pe=Rr,ZE=rs,qo=is,JE=xn,pe=K,Ft=KE(Ar),Et=Tr,Vn=tt,Ee=lu,XE=ss,e3=as,Fe=be,De=Mr;class et extends Vn.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new Qr.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new Qr.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Et.Session.load(this.storage)||new Et.Session(this.storage).save(),r=new ZE.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,Ae.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,Ae.skip)(1),(0,Ae.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(Vn.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),u=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!u){this.isUnlinkedErrorState=!0;const c=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(Pe.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:c})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,Ae.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ae.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,Ae.mergeMap)(i=>Ft.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Vn.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ae.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,Ae.mergeMap)(i=>Ft.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Vn.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ae.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,Ae.mergeMap)(i=>(0,Qr.zip)(Ft.decrypt(i.metadata.ChainId,e.secret),Ft.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,Ae.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ae.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,Ae.mergeMap)(i=>Ft.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),et.accountRequestCallbackIds.size>0&&(Array.from(et.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,De.Web3ResponseMessage)({id:s,response:(0,Fe.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),et.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,Ae.timeout)(1e3),(0,Ae.catchError)(e=>(0,Qr.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(Pe.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(Pe.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Et.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(Pe.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Et.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:a,ui:u,connection:c}=this.subscribe();this._session=a,this.connection=c,this.ui=u,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Pe.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:Ee.Web3Method.signEthereumMessage,params:{message:(0,pe.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:Ee.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,pe.hexStringFromBuffer)(e,!0),signature:(0,pe.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:Ee.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,pe.bigIntStringFromBN)(e.weiValue),data:(0,pe.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,pe.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,pe.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,pe.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,pe.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:Ee.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,pe.bigIntStringFromBN)(e.weiValue),data:(0,pe.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,pe.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,pe.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,pe.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,pe.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:Ee.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,pe.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:Ee.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,pe.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:Ee.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,pe.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,u=>{if(r==null||r(),u.errorMessage)return a(new Error(u.errorMessage));o(u)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,e3.Web3RequestMessage)({id:e,request:r}),s=Et.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Pe.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Et.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Pe.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Et.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,XE.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new Qr.Observable(s=>{Ft.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,Ae.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add(Ft.decrypt(e.data,this.session.secret).pipe((0,Ae.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,De.isWeb3ResponseMessage)(r)?r:null;!n||this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Pe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(Pe.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Fe.isRequestEthereumAccountsResponse)(n)){et.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),et.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:e,response:(0,Fe.ErrorResponse)(r,(n!=null?n:qo.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:Ee.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,pe.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,c=>{if(this.ui.hideRequestEthereumAccounts(),c.errorMessage)return o(new Error(c.errorMessage));s(c)});const u=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(u&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(u)){let c;try{(0,pe.isInIFrame)()&&window.top?c=window.top.location:c=window.location}catch{c=window.location}c.href=`https://go.cb-w.com/xoXnYwQimhb?cb_url=${encodeURIComponent(c.href)}`;return}if(this.ui.inlineAccountsResponse()){const c=l=>{this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:r,response:(0,Fe.RequestEthereumAccountsResponse)(l)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:c})}else{const c=Qc.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(c)})}et.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:Ee.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,pe.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,l=>{if(l.errorMessage)return a(new Error(l.errorMessage));o(l)});const u=l=>{this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:n,response:(0,Fe.SelectProviderResponse)(JE.ProviderType.Unselected)}))},c=l=>{this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:n,response:(0,Fe.SelectProviderResponse)(l)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:c,onCancel:u,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:Ee.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let u=null;const c=(0,pe.randomBytesHex)(8),l=f=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,f),u==null||u()};this.ui.inlineWatchAsset()||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));const g=new Promise((f,p)=>{this.relayEventManager.callbacks.set(c,I=>{if(u==null||u(),I.errorMessage)return p(new Error(I.errorMessage));f(I)});const y=I=>{this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:c,response:(0,Fe.WatchAssetReponse)(!1)}))},C=()=>{this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:c,response:(0,Fe.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:C,onCancel:y,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(c,a)});return{cancel:l,promise:g}}addEthereumChain(e,r,n,i,s,o){const a={method:Ee.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let u=null;const c=(0,pe.randomBytesHex)(8),l=f=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,f),u==null||u()};return this.ui.inlineAddEthereumChain(e)||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload})),{promise:new Promise((f,p)=>{this.relayEventManager.callbacks.set(c,I=>{if(u==null||u(),I.errorMessage)return p(new Error(I.errorMessage));f(I)});const y=I=>{this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:c,response:(0,Fe.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},C=I=>{this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:c,response:(0,Fe.AddEthereumChainResponse)({isApproved:!0,rpcUrl:I})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:y,onApprove:C,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(c,a)}),cancel:l}}switchEthereumChain(e,r){const n={method:Ee.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,pe.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,u)=>{this.relayEventManager.callbacks.set(i,g=>{if(g.errorMessage&&g.errorCode)return u(Qc.ethErrors.provider.custom({code:g.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(g.errorMessage)return u(new Error(g.errorMessage));a(g)});const c=g=>{if(typeof g=="number"){const f=g;this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:i,response:(0,Fe.ErrorResponse)(Ee.Web3Method.switchEthereumChain,qo.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,f)}))}else g instanceof qo.WalletUIError?this.handleErrorResponse(i,Ee.Web3Method.switchEthereumChain,g,g.errorCode):this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:i,response:(0,Fe.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},l=g=>{this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:i,response:(0,Fe.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:g})}))};this.ui.switchEthereumChain({onCancel:c,onApprove:l,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Et.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,De.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case Ee.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case Ee.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Ee.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Ee.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}et.accountRequestCallbackIds=new Set;Gh([Qh.default],et.prototype,"resetAndReload",null);Gh([Qh.default],et.prototype,"handleIncomingEvent",null);es.WalletSDKRelay=et;var us={};Object.defineProperty(us,"__esModule",{value:!0});us.WalletSDKRelayEventManager=void 0;const t3=K;class r3{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,t3.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}us.WalletSDKRelayEventManager=r3;const n3="@coinbase/wallet-sdk",i3="3.5.4",s3="Coinbase Wallet JavaScript SDK",o3=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],a3="dist/index.js",u3="dist/index.d.ts",c3="https://github.com/coinbase/coinbase-wallet-sdk.git",l3="Coinbase, Inc.",f3="Apache-2.0",h3={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},d3={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"1.52.0","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},p3={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.72.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},b3={node:">= 10.0.0"},g3={name:n3,version:i3,description:s3,keywords:o3,main:a3,types:u3,repository:c3,author:l3,license:f3,scripts:h3,dependencies:d3,devDependencies:p3,engines:b3};Object.defineProperty(sn,"__esModule",{value:!0});sn.CoinbaseWalletSDK=void 0;const y3=mi,v3=_i,m3=gr,_3=Gi,w3=es,S3=us,E3=K,x3=process.env.LINK_API_URL||"https://www.walletlink.org",Kh=process.env.SDK_VERSION||g3.version||"unknown";class cs{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||x3;let o;if(e.uiConstructor?o=e.uiConstructor:o=c=>new _3.WalletSDKUI(c),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),u=`${a.protocol}//${a.host}`;this._storage=new v3.ScopedLocalStorage(`-walletlink:${u}`),this._storage.setItem("version",cs.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new S3.WalletSDKRelayEventManager,this._relay=new w3.WalletSDKRelay({linkAPIUrl:s,version:Kh,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new m3.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,E3.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,y3.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}sn.CoinbaseWalletSDK=cs;cs.VERSION=Kh;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=sn,r=gr;var n=sn;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=gr;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(va);const C3=Yh(va),I3=Zh({__proto__:null,default:C3},[va]);export{I3 as i};
